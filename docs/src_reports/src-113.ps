%!PS-Adobe-2.0
%%Creator: dvips 5.58 Copyright 1986, 1994 Radical Eye Software
%%Title: pubint.dvi
%%CreationDate: Thu Apr 25 15:28:30 1996
%%Pages: 113
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%EndComments
%DVIPSCommandLine: dvips -Psrcreport pubint.dvi -o pubint.ps
%DVIPSParameters: dpi=300, comments removed
%DVIPSSource:  TeX output 1996.04.25:1528
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300
(/tmp_mnt/teak/r/dlusers7/mcjones/m3/cmass/src113/AOSF/pubint.dvi)
@start /Fa 2 111 df<06070600000000384C4C8C98181830323264643808147F930C>
105 D<30F8590C4E0C9C0C980C180C180C30183019303130316032601C100D7F8C15>
110 D E /Fb 1 81 df<FFFFFFFFF0FFFFFFFFF07000000FF878000000F83C000000381C
0000001C0E0000000C0F000000040700000006038000000203C000000001E000000000E0
00000000700000000078000000003C000000001C000000001E000000000F000000000700
000000038000000003800000000300000000070000000006000000000C00000000180000
0000380000000030000000006000000000C000000001C000000001800000020300000006
06000000040E0000000C0C0000001C180000003830000000F87000000FF87FFFFFFFF0FF
FFFFFFF0272A7E7F2C>80 D E /Fc 74 123 df<701C783C783C703CF038F038F038E078
E070E070E0700E0B799816>34 D<00C18000E1C000E1C000E1C001C38001C3803FFFC07F
FFF07FFFF0070E00070E00070E00070E000E1C000E1C000E1C00FFFFC0FFFFC07FFF8038
700038700038700070E00070E00030600014197D9816>I<00700001F80001FC00039C00
039C00071C00071C000739F00779F807F1F007E38007C3800787000F87001F8E003F9E00
79DC0071F800E1F800E0F0C0E0F0E0E3F9C07FFFC07F1F801C0F0015197E9816>38
D<0C1E1E0E0E0E0E1E1C3870E040070D769816>I<0018007800F001C0038007000E000E
001C001C0038003800700070007000E000E000E000E000E000E000E000E000E000E00070
007000380038001C000E00070003000D21789C16>I<06000700038001C000E000700070
00700038003800380038003800380038003800380038003800700070007000E000E001C0
0380038007000E001C007800F000C0000D217C9C16>I<00300000700000700000700000
700000700000700000E0007FFFE0FFFFE07FFFE000E00000E00001C00001C00001C00001
C00001C00001800013137D9516>43 D<183C7E3E1E0E1C3CF8F0C0070B798416>I<7FFF
80FFFF807FFF8011037C8D16>I<3078F878300505788416>I<00001800003C0000380000
700000F00000E00001C00001C0000380000780000700000E00001E00001C000038000078
0000700000E00001E00001C0000380000780000700000E00001E00001C00003800003800
00700000F00000E00000C0000016207E9C16>I<00F80003FC0007FE000F0F001E07001C
0380380380380380700380700380600380E00380E00380E00380E00380E00700E00700E0
0F00E00E00F01C00703C007878003FF0001FE0000F800011197C9816>I<0060007000F0
01F003E01FE01FE01CE000E000E001C001C001C001C001C001C003800380038003800380
0380FFF8FFF8FFF80D197B9816>I<007E0001FF8003FFC00703E00E00F01E00701E0070
0C00700000700000E00000E00001C0000380000700000E00001C0000780000F00001C000
0780000F01801C01C07FFF80FFFF807FFF8014197E9816>I<00FC0003FF0007FF800E03
C01E01C00E01C00001C00001C0000380000F0001FE0003FC0001FE00000F000003800003
80000380000380600380F00780E00700F01E007FFC003FF8000FE00012197D9816>I<0C
1E1F1E0C00000000000000003078F878300812789116>58 D<06000F000F800F00060000
00000000000000000000000000000018003C007C003C001C001C0038003800F000E000C0
000918799116>I<0000C00003E00007C0001F00007E0001F80003E0000F80003F00007C
0000F000007800003E00001F000007C00003E00000F000007C00003E00000F0000060013
157C9616>I<3FFFC07FFFE07FFFE0000000000000000000000000000000FFFFC0FFFFC0
7FFF80130B7D9116>I<1800001C00001F00000F800003E00001F000007800003E00001F
000007C00003C0000FC0003F00007C0001F00007E0000F80003E0000FC0000F00000C000
0012157D9616>I<000E00001F00001F00003B0000370000370000770000670000E70000
E70000C70001C70001C70003870003870003878007FF8007FF800FFF800E03800E03801C
03807F0FE0FF1FE07F0FE013197F9816>65 D<0FFF001FFFC00FFFC00381E00700E00700
E00700E00700E00701C00703C00FFF800FFF000FFF800E0F800E03C00E01C01C01C01C01
C01C01C01C01C01C03801C0F80FFFF00FFFE00FFF80013197E9816>I<007C6001FEE003
FFE00783E00E01C01C01C03C01C03801C0700000700000700000E00000E00000E00000E0
0000E00000E00000E00300F00700700700780E003C1C001FF8000FF00007C00013197C98
16>I<0FFF001FFFC00FFFC00381E00700E00700F00700700700700700700700700E0070
0E00700E00700E00700E00700E00E01C00E01C01E01C01C01C03C01C07801C0F00FFFE00
FFFC00FFF00014197F9816>I<07FFF80FFFFC07FFFC01C01C0380380380380380180380
0003800003830007070007FF0007FF0007FF000707000706000E00000E00300E00700E00
700E00700E00707FFFE0FFFFE07FFFE016197F9816>I<0FFFFC0FFFFE0FFFFE01C00E03
801C03801C03800C03800003800003830007070007FF0007FF0007FF000707000706000E
00000E00000E00000E00000E00000E00007F8000FFC0007F800017197F9816>I<007C60
01FEE003FFE00783E00E01C01C01C03C01C03801C0700000700000700000E00000E00000
E01FC0E03FE0E01FC0E00700E00700E00700700F00701F003C3F001FFE000FEE0007CE00
13197D9816>I<0FE0FE1FF1FF0FE0FE0380380700700700700700700700700700700700
700FFFE00FFFE00FFFE00E00E00E00E00E00E01C01C01C01C01C01C01C01C01C01C01C01
C0FE0FE0FF0FF0FE0FE018197F9816>I<0FFFC00FFFE00FFFC000380000700000700000
700000700000700000700000E00000E00000E00000E00000E00000E00001C00001C00001
C00001C00001C00001C0007FFE00FFFE007FFE0013197D9816>I<003FE0007FF0003FE0
000380000700000700000700000700000700000700000E00000E00000E00000E00000E00
000E00001C00001C00001C00E01C00F03C00E07800FFF0007FE0001F800014197D9816>
I<0FE1FC1FE1FC0FE1FC0380E00701C0070380070700070E00071E00073C000E78000EF8
000FF8000FFC000F9C000F1C001E0E001C0E001C0E001C07001C07001C0780FE0FC0FF0F
E0FE0FC016197F9816>I<0FF8000FFC000FF80001C00003800003800003800003800003
80000380000700000700000700000700000700000700000E00000E00200E00700E00700E
00700E00707FFFE0FFFFE07FFFE014197F9816>I<0FC07E0FE0FE0FE0FE03A1B8076170
0763700763700763700766700766700E66E00E6EE00E6CE00E6CE00E78E00E78E01C31C0
1C01C01C01C01C01C01C01C01C01C07E07E0FE0FE07E07E017197F9816>I<0FC0FE1FE1
FF0FE0FE03A0380730700730700730700730700730700730700E38E00E38E00E38E00E38
E00E18E00E18E01C19C01C1DC01C1DC01C1DC01C0DC01C0DC0FE0F80FF0F80FE07801819
7F9816>I<01FF8007FFC00FFFE01E01E01C00E01C00E03800E03800E03800E03800E070
01C07001C07001C07001C07001C07001C0F00380E00380E00380E00780F00700F80F00FF
FE007FFC001FF80013197D9816>I<07FF800FFFE007FFF001C0F0038078038038038038
0380380380380380700700F00701E007FFC007FF8007FE000700000E00000E00000E0000
0E00000E00000E00007F8000FF80007F800015197F9816>I<0FFE001FFF800FFFC00383
E00701E00700E00700E00700E00701E00701C00E07800FFF800FFE000FFE000E07000E07
001C07001C07001C07001C07101C07381C0770FE07F0FF03E0FE01C015197F9816>82
D<007E3001FFF003FFF00781F00E00E01C00E01C00601C00001C00000E00000FE00007FC
0001FF00001F800003C00001C00001C00001C03001C07001C0700380780F00FFFE00FFFC
0047F00014197E9816>I<7FFFE07FFFF07FFFF0707070E0E0E0E0E0E060E06000E00000
E00000E00001C00001C00001C00001C00001C00001C00003800003800003800003800003
80000380003FE0003FF0003FE00014197C9816>I<7F07F0FF8FF87F07F01C01C0380380
380380380380380380380380380380700700700700700700700700700700700700E00E00
E00E00E00E00E01C00703C007878003FF0001FE00007800015197C9816>I<FE0FE0FE0F
E0FE0FE0380700380700380F00380E00380E00381C00381C003838003838001C38001C70
001C70001CE0001CE0001CE0001DC0001DC0001D80001D80001F00001F00000E00001319
7B9816>I<7E03F0FF07F07E03F03801E03801C03801C03801C070038070038070038071
E30071E70073E700736700736600776E00766E00766C0066EC006CCC006CD8006CD80078
F80078780070700014197C9816>I<0FE7F00FE7F00FE7F003838001C78001C70001EE00
00EE0000FC0000F80000780000700000F00000F80001F80001F800039C00071C00071C00
0E1E001C0E001C0E00FE1F80FE3FC0FE1F8014197E9816>I<FE0FC0FE1FE0FE0FC03C07
001C0E001C1E001C1C001E38000E38000E70000E700006E00007C00007C0000380000380
000700000700000700000700000700000700003F80003FC0003F800013197B9816>I<0F
FFF80FFFF80FFFF80E00F01C00E01C01C00C0380000700000F00001E00001C0000380000
700000E00001E00003C0000380000700C00E01C01C01C03C01C07801C07FFF80FFFF80FF
FF8015197E9816>I<07FF0007FF800FFF000E00000E00000E00000E00000E00001C0000
1C00001C00001C00001C00001C0000380000380000380000380000380000380000700000
700000700000700000700000700000E00000E00000E00000FFE000FFF000FFE000112078
9C16>I<C000E000E000E00070007000700070003800380038001C001C001C000E000E00
0E0007000700070003800380038001C001C001C001C000E000E000E0007000600C20799C
16>I<07FF0007FF8007FF00000700000700000700000700000700000E00000E00000E00
000E00000E00000E00001C00001C00001C00001C00001C00001C00003800003800003800
003800003800003800007000007000007000FFF000FFF000FFE00011207F9C16>I<0600
1F807FE0F9F0E07080200C06789816>I<07F0001FFC001FFE001C0F0008070000070000
070003FF001FFF003F0E00780E00E00E00E00E00E01E00F03E007FFFC03FCFC01F07C012
127D9116>97 D<7C00007E00007E00000E00001C00001C00001C00001C7C001DFE001FFF
003F07803C03803803803803C03801C03801C0700380700380700380700700780F00783E
00EFFC00E7F00063E00012197C9816>I<00FE0003FF0007FF800F07001C020038000070
0000700000700000E00000E00000F000007006007807003C1E001FFC000FF80007E00011
127C9116>I<0007C00007E00007E00000E00001C00001C00001C001F1C007FDC00FFFC0
1F07803C0380380380700380700380700380E00700E00700F00700700F00700F00783F00
3FFFC01FEFE00787C013197E9816>I<00FC0003FE000FFF001F07803C03803801C07001
C07FFFC07FFFC0FFFF80E000007000007003007803803C0F001FFF000FFC0003F0001212
7D9116>I<0003C0001FE0003FF00078E000E04000E00000E0003FFF803FFFC03FFF8001
C00001C00001C00001C00001C00001C000038000038000038000038000038000038000FF
F800FFFC00FFF80014197E9816>I<003E3800FFFC01FFFE03C3CC0381C00701C00701C0
0701C007038007878003FF0007FE000EF8000C00000E00000FFE000FFF801FFFC03C01E0
7000E07000E0E000E0E000E07001E07C07C03FFF801FFE0007F800171C809116>I<0F80
000FC0000FC00001C000038000038000038000039F0003BF8003FFC007E1C00781C00701
C00701C00701C00701C00E03800E03800E03800E03800E03800E0380FF8FE0FFCFF0FF8F
E014197F9816>I<003000780078003000000000000000001FE01FF01FF000E000E000E0
00E000E000E001C001C001C001C001C001C0FFFEFFFEFFFE0F1A7C9916>I<0F80001FC0
000FC00001C000038000038000038000039FF0039FF8039FF0070780070F00071E000778
0007F00007F8000FFC000F9C000F1E000E0E000E0F000E0700FF8FE0FF9FE0FF8FE01519
7F9816>107 D<07F8000FFC0007FC00001C000038000038000038000038000038000038
0000700000700000700000700000700000700000E00000E00000E00000E00000E00000E0
007FFF80FFFF807FFF8011197E9816>I<1E78F03FFDF81FFFF80F9F380F1E380E1C380E
1C380E1C380E1C381C38701C38701C38701C38701C38701C3870FE7CF8FF7EFCFE3C7816
12809116>I<1F1F003FBF801FFFC007E1C00781C00701C00701C00701C00701C00E0380
0E03800E03800E03800E03800E0380FF8FE0FFCFF0FF8FE014127F9116>I<00F80003FE
000FFF001F0F803C07803803807001C07001C07001C0E00380E00380F00780700700780F
007C3E003FFC001FF00007C00012127D9116>I<07C3E00FEFF007FFF801F83C01E01C01
C01C01C01E01C00E01C00E03801C03801C03801C03803803C07803C1F0077FE0073F8007
1F000700000700000700000E00000E00000E00007FC000FFC0007FC000171B819116>I<
00F8C003FCE00FFEE01F07C01C03C03801C07001C07001C07001C0E00380E00380F00380
700780700F807C1F803FFF001FF70007C700000700000700000700000E00000E00000E00
007FC000FFC0007FC0131B7E9116>I<1FC1F01FE7F81FEFFC01DE1801F80001E00001E0
0001C00001C0000380000380000380000380000380000380007FFC00FFFC007FFC001612
7F9116>I<01F90007FF800FFF801E07003807003803003C00001FE0000FF80001FE0000
0E00300700700700700700781E00FFFC00FFF80047E00011127D9116>I<030003800700
07000700FFFEFFFFFFFE0E000E000E000E000E000E001C001C041C0E1C0E1C1C1C3C1FF8
0FF007C010177C9616>I<7C1F00FE3F807E1F801C07001C07001C07001C07001C07001C
0700380E00380E00380E00380E00381E00383E003FFF801FFFC00F8F8012127D9116>I<
FF1FC0FF3FE0FF1FC03C0E001C0E001C1C001C1C001C3C001C38001C38001C70000C7000
0EE0000EE0000EC0000FC0000F800007000013127C9116>I<7F8FF0FF9FF07F8FF03801
C038038038038038038039E3003BF7003BF7003B76003B7600376E00366E00366C003E7C
003C7C003C380014127D9116>I<1FC7E03FCFF01FC7E0038F0003CE0001DC0001F80000
F00000F00000F00001F00003B800073C000F1C001E1E00FE3F80FF3FC0FE3F8014127E91
16>I<1FE3F81FE7FC1FE3F80381C00381C003838003838003838001C70001C70001CE00
01CE0001CC0000DC0000D80000F80000F00000F00000E00000E00001C00001C000738000
F78000FF0000FE0000780000161B7F9116>I<0FFFF80FFFF80FFFF01C01E01C03C00C07
80000F00003C0000780000F00001E0000780000F00C01E00E03C00E07FFFC0FFFFC0FFFF
C015127F9116>I E /Fd 53 123 df<0000FE000003018000060180000C0380001C0180
001C0000001800000038000000380000003800000038000003FFFE0000700E0000700E00
00700E0000701C0000701C0000E01C0000E01C0000E0380000E0380000E0380001C03800
01C0720001C0720001C0720001C072000380340003801800038000000300000003000000
07000000C6000000E6000000CC000000780000001925819C17>12
D<0001FEE0000707E0000E07E0000C07C0001C01C0001C01C0001801C000380380003803
80003803800038038003FFFF0000700700007007000070070000700E0000700E0000E00E
0000E00E0000E01C0000E01C0000E01C0001C01C0001C0390001C0390001C0390001C039
0003801A0003800C0003800000030000000300000007000000C6000000E6000000CC0000
00780000001B25819C18>I<183C3C3C0404080810204080060C779C0D>39
D<183878380808101020404080050C7D830D>44 D<FFC0FFC0FFC00A037D890F>I<003E
0000E1800181C00300C00700C00600C00E00E00C00E01C00C01C00C01801C03801C03801
C03801C0700380700380700380700380600700E00700E00600E00E00E00E00E00C00E018
0060380060700030C0001F0000131D7C9B15>48 D<0004000C00180038007807B8007000
700070007000E000E000E000E001C001C001C001C0038003800380038007000700070007
000F00FFF00E1C7B9B15>I<003E000041800080C00100C00200E00440E00440E00840E0
0840E00840E01081C01081C01103800E0300000600000C00001800006000008000030000
0400000800401000802000802001007F070043FE0081FC00807800131D7D9B15>I<001F
000060C00080C00100600200600240600440E00440E00440E00481C00301C00003800007
0000FC00001C00000600000600000700000700000700000700700700E00E00800E00801C
0040180040300020E0001F8000131D7D9B15>I<0001800001C000038000038000038000
0300000700000700000600000E00000C00001C0000180000180000300000300000600000
400000C600018E00010E00020E00061C000C1C00181C003F1C0040F800803F8000380000
380000700000700000700000700000E00000600012247E9B15>I<003E0000E100018180
0300C00600C00E00C00C00C01C00C01C00C01C01C03801C03801C03801C03803C0180380
180780080B800C330003C700000700000E00000C00001C00001800E03000E0600080C000
C180003E0000121D7C9B15>57 D<060F0F06000000000000000000003078F06008127C91
0D>I<0000180000001800000038000000380000007800000078000000B8000001380000
01380000023C0000021C0000041C00000C1C0000081C0000101C0000101C0000201C0000
201C00007FFC0000C01C0000801C0001001C0001001E0002000E0002000E0004000E000C
000E001C001E00FF00FFC01A1D7E9C1F>65 D<0003F020001E0C60003002E000E003C001
C001C0038001C0070000C00E0000801E0000801C0000803C0000803C0000007800000078
00000078000000F0000000F0000000F0000000F0000000F0000400F0000400F0000400F0
000800700008007000100038002000180040000C0180000706000001F800001B1E7A9C1E
>67 D<01FFFF00003C03C0003800E0003800E00038007000380070007000780070003800
7000380070007800E0007800E0007800E0007800E0007801C000F001C000F001C000F001
C000E0038001E0038001C0038003C0038003800700070007000E0007001C00070038000E
00E000FFFF80001D1C7E9B1F>I<01FFFFF0003C00F00038003000380020003800200038
00200070002000700020007008200070080000E0100000E0100000E0300000FFF00001C0
200001C0200001C0200001C0200003804080038000800380008003800100070001000700
030007000200070006000E003C00FFFFFC001C1C7E9B1C>I<01FFFFF0003C00F0003800
300038002000380020003800200070002000700020007008200070080000E0100000E010
0000E0300000FFF00001C0200001C0200001C0200001C020000380400003800000038000
0003800000070000000700000007000000070000000F000000FFF000001C1C7E9B1B>I<
0003F020001E0C60003002E000E003C001C001C0038001C0070000C00E0000801E000080
1C0000803C0000803C000000780000007800000078000000F0000000F0000000F001FF80
F0001E00F0001C00F0001C00F0001C00F0001C0070003800700038003800380018007800
0C0090000707100001F800001B1E7A9C20>I<03FF0078007000700070007000E000E000
E000E001C001C001C001C0038003800380038007000700070007000E000E000E000E001E
00FFC0101C7D9B10>73 D<003FF80003C000038000038000038000038000070000070000
0700000700000E00000E00000E00000E00001C00001C00001C00001C0000380000380000
3800003800607000E07000C0600080E00081C0004380003E0000151D7C9B16>I<01FFC0
003C0000380000380000380000380000700000700000700000700000E00000E00000E000
00E00001C00001C00001C00001C00003800203800203800203800407000407000C070018
0700380E00F0FFFFF0171C7E9B1A>76 D<01FE0001FE003E0001E0002E0003C0002E0005
C0002E0005C0002E0009C0004E000B80004E001380004E00238000470023800087004700
0087004700008700870000870107000107010E000107020E000107040E000107040E0002
07081C000203881C000203901C000203A01C000403A038000403C038000403C038000C03
8038001C03007800FF8307FF00271C7E9B25>I<01FC00FF80001C001C00002E00180000
2E001000002E001000002700100000470020000043002000004380200000438020000081
C040000081C040000081C040000080E040000100E0800001007080000100708000010070
800002003900000200390000020039000002001D000004001E000004000E000004000E00
000C000E00001C00040000FF80040000211C7E9B1F>I<0007F000001C1C0000700E0000
E0070001C0038003800380070003800E0003C01E0003C01C0003C03C0003C03C0003C078
0003C0780003C0780003C0F0000780F0000780F0000780F0000F00F0000F00F0000E00F0
001E00F0003C0070003800700070007800E0003801C0001C0380000E0E000003F800001A
1E7A9C20>I<01FFFE00003C0380003801C0003800E0003800E0003800E0007001E00070
01E0007001E0007001C000E003C000E0038000E0070000E01C0001FFF00001C0000001C0
000001C00000038000000380000003800000038000000700000007000000070000000700
00000F000000FFE000001B1C7E9B1C>I<01FFFE00003C0780003801C0003801E0003800
E0003800E0007001E0007001E0007001E0007003C000E0038000E0070000E01C0000FFE0
0001C0300001C0180001C01C0001C01C0003801C0003801C0003801C0003801C0007003C
0007003C2007003C2007003C200F003C40FFE01E8000000F001B1D7E9B1E>82
D<000F8400304C00403C0080180100180300180300180600100600100600000700000700
0003E00003FC0001FF00007F800007C00001C00001C00000C00000C02000C02000C06001
80600180600300600200F00400CC180083E000161E7D9C17>I<1FFFFFC01C0701C0300E
00C0200E0080600E0080400E0080401C0080801C0080801C0080001C0000003800000038
000000380000003800000070000000700000007000000070000000E0000000E0000000E0
000000E0000001C0000001C0000001C0000001C0000003C000007FFE00001A1C799B1E>
I<FF83FF07F03C007001C038007001803800F001003800F0010038017002003801700400
380270040038027008003804700800380470100038087010003808702000381070200038
3070400038207040001C407080001C407080001C807100001C807100001D007200001D00
7200001E007400001E007400001C003800001C0038000018003000001800200000100020
0000241D779B29>87 D<01E307170C0F180F380E300E700E700EE01CE01CE01CE01CE039
E039E0396079319A1E0C10127C9115>97 D<3F00070007000E000E000E000E001C001C00
1C001C0039E03A183C0C380C700C700E700E700EE01CE01CE01CE018E038E030E06060C0
31801E000F1D7C9C13>I<00F803040E041C0E181C300070007000E000E000E000E000E0
00E0046008601030600F800F127C9113>I<0007E00000E00000E00001C00001C00001C0
0001C000038000038000038000038001E7000717000C0F00180F00380E00300E00700E00
700E00E01C00E01C00E01C00E01C00E03900E03900E03900607900319A001E0C00131D7C
9C15>I<00F807040C0418023804300470087FF0E000E000E000E000E000600460083010
30600F800F127C9113>I<0003C0000670000C70001C60001C00001C0000380000380000
380000380000380003FF8000700000700000700000700000700000E00000E00000E00000
E00000E00001C00001C00001C00001C00001C00003800003800003800003000003000007
0000C60000E60000CC00007800001425819C0D>I<0078C001C5C00303C00603C00E0380
0C03801C03801C0380380700380700380700380700380E00380E00380E00181E000C7C00
079C00001C00001C00003800003800C03000E07000C1C0007F0000121A7E9113>I<0FC0
0001C00001C0000380000380000380000380000700000700000700000700000E3E000EC3
000F03800E03801E03801C03801C03801C0380380700380700380700380E00700E40700E
40701C40701C80E00C80600700121D7E9C15>I<01800380010000000000000000000000
000000001C002600470047008E008E000E001C001C001C00380038007100710071007200
72003C00091C7C9B0D>I<1F800380038007000700070007000E000E000E000E001C001C
001C001C0038003800380038007000700070007000E200E200E200E40064003800091D7D
9C0B>108 D<1C1E0780266318C04683A0E04703C0E08E0380E08E0380E00E0380E00E03
80E01C0701C01C0701C01C0701C01C070380380E0388380E0388380E0708380E0710701C
0320300C01C01D127C9122>I<383E004CC3004D03804E03809E03809C03801C03801C03
80380700380700380700380E00700E40700E40701C40701C80E00C8060070012127C9117
>I<00F800030C000E06001C0300180300300300700380700380E00700E00700E00700E0
0E00E00E00E01C0060180060300030E0000F800011127C9115>I<03878004C86004D030
04E03009C03009C03801C03801C0380380700380700380700380600700E00700C0070180
0783000E86000E78000E00000E00001C00001C00001C00001C0000380000FF0000151A80
9115>I<01E107130C0F180F380E300E700E700EE01CE01CE01CE01CE038E038E0386078
31F01E700070007000E000E000E000E001C00FF8101A7C9113>I<1C3C2642468747078E
068E000E000E001C001C001C001C0038003800380038007000300010127C9112>I<01F0
06080C080C1C18181C001F001FC00FF007F0007800386030E030C030806060C01F000E12
7D9111>I<03000700070007000E000E000E000E00FFE01C001C001C0038003800380038
007000700070007000E080E080E100E100660038000B1A7C990E>I<1C01802E03804E03
804E03808E07008E07001C07001C0700380E00380E00380E00380E00301C80301C80301C
80383C80184D000F860011127C9116>I<1C062E0E4E064E068E028E021C021C02380438
0438043808300830083010382018400F800F127C9113>I<1E0183270387470387470383
8707018707010E07010E07011C0E021C0E021C0E021C0E04180C04181C04181C081C1E08
0C263007C3C018127C911C>I<0387800CC8400870E01070E020E0C020E00000E00000E0
0001C00001C00001C00001C000038100638100E38200C5820085840078780013127E9113
>I<1C01802E03804E03804E03808E07008E07001C07001C0700380E00380E00380E0038
0E00301C00301C00301C00383C001878000FB800003800003000007000E06000E0C00081
80004300003C0000111A7C9114>I<01C107E10FF6081C10080010002000400080010002
000400080410042C0C73F841F080E010127E9111>I E /Fe 75 125
df<0007E1F0001C173800703C3800E07C7801C0783001C0380001C0380001C038000380
700003807000038070003FFFFF0003807000038070000700E0000700E0000700E0000700
E0000700E0000700E0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0001C03
80001C03C000FF8FF8001D1D7F9C18>11 D<0007E0001C1000703800E07801C07801C030
01C00001C0000380000380000380003FFFF00380F00380700700E00700E00700E00700E0
0700E00700E00E01C00E01C00E01C00E01C00E01C00E01C01C03801C03C0FF8FF0151D7F
9C17>I<0007FC001C3C00707800E07801C03801C03801C03801C0380380700380700380
703FFFF00380700380700700E00700E00700E00700E00700E00700E00E01C00E01C00E01
C00E01C00E01C00E01C01C03801E03C0FF9FF0161D7F9C17>I<18183C3C7C7C34340404
04040808080810101010606080800E0C7C9C15>34 D<183C7C340404080810106080060C
799C0C>39 D<0008001000200040008001800300030006000E000C001C00180018003800
3000300070007000600060006000E000E000E000E000E000C000C000C000E000E0006000
60006000600030003000100008000C0004000D2A7B9E10>I<0100008000C00040006000
200030003000300018001800180018001800180018001800180018003800380038003000
30007000700060006000E000C000C0018001800300030006000400080018003000600080
000D2A809E10>I<00010000000180000001800000030000000300000003000000030000
000300000003000000060000000600000006000000060000FFFFFFC0FFFFFFC0000C0000
000C0000000C0000000C0000000C0000000C000000180000001800000018000000180000
0018000000180000001000001A1C7C9720>43 D<387878380808101020204080050C7D83
0C>I<7FF0FFE00C027F890E>I<7070F06004047C830C>I<00000400000C000018000018
0000300000300000600000600000C00000C0000180000300000300000600000600000C00
000C0000180000180000300000300000600000600000C00000C000018000018000030000
0300000600000C00000C0000180000180000300000300000600000600000C00000C00000
80000016297F9E15>I<00F800038E000606000C03000C03001803803803803803803003
80700380700380700380700380E00700E00700E00700E00700E00700E00600E00E00C00E
00C00E00C00C00C01C00C0180060300060600030C0001F0000111D7C9B15>I<00180030
03F00C7000700070007000E000E000E000E000E000E001C001C001C001C001C001C00380
0380038003800380038007000780FFF80D1C7C9B15>I<007E000183800201C00400E004
00E00F00E00F00E01F00E01F00E00E00E00001E00001C0000380000380000700000E0000
1C0000380000600000C0000180000300800600800801001001003FFF007FFE00FFFE0013
1C7E9B15>I<007C000187000203800403800F03C00F03C00F03C00E0380000380000700
000600000C0000380003F000001C00000E00000E00000F00000F00000F00700F00F80F00
F80F00F00E00E01E00801C004038003070000F8000121D7D9B15>I<0000C00001800003
80000380000780000B8000138000270000670000C700008700010700020700040E00080E
00180E00100E00200E00400E00FFFFC0001C00001C00001C00001C00001C00003800003C
0003FF80121C7E9B15>I<0301C003FF8007FE0007F80004000004000004000004000008
000008000008F8000B0C000C0E00080700100700000700000780000780000780700F00F0
0F00F00F00F00E00801E00801C0040380040300030E0000F8000121D7D9B15>I<003E00
00C1000180800303800607800C07801C070018000038000030000071F000761800780C00
E80E00F00600F00600E00700E00700E00700E00E00C00E00C00E00C00E00C01C00E01800
60380060300030C0000F8000111D7C9B15>I<1000003FFFC03FFFC03FFF806001004002
0040040080080000080000100000200000400000C0000080000180000180000300000700
000700000F00000E00000E00001E00001E00001E00003C00003C00003C0000180000121D
7B9B15>I<007C000183000201800601800C00C00C00C00C00C01C01801C01801F03000F
86000FCC0007F00003F80003FC000C7E00183F00301F00600700600700C00300C00300C0
0300C00200C006006004006008003830000FC000121D7D9B15>I<00F800030400060600
0C03001C0300380300380380300380700380700380700380700380700780700700700F00
300F0018170008270007CE00000E00000C00001C00601800F03800F03000E0600080C000
4380003E0000111D7C9B15>I<0C1E1C1C000000000000000000007070F06007127C910C>
I<060F0E0E00000000000000000000387878380808101020204080081A7D910C>I<3FFF
FFE07FFFFFF0000000000000000000000000000000000000000000000000000000000000
0000FFFFFFE07FFFFFC01C0C7D8F20>61 D<0000200000003000000070000000F0000000
F0000001F0000001F800000278000002780000047800000478000008780000083C000010
3C0000103C0000203C0000203C0000403E0000401E0000FFFE0000801E0001001E000100
1F0002000F0002000F0004000F000C000F001E000F80FF807FF01C1D7F9C1F>65
D<07FFFE0000F8078000F001C000F001E000F000E000F000F000F000F001E000E001E001
E001E001C001E003C001E0078001E01E0003FFFC0003C00F0003C0078003C003C003C003
C003C003C0078003C0078003C0078003C0078003C00780078007800F000F001E000F003C
00FFFFE0001C1C7F9B1D>I<0007F010001C0C300070026000C001E0038000E0070000E0
0E0000600E0000601C0000403C00004038000040780000007800000078000000F0000000
F0000000F0000000F0000000F0000000F0000080F0000100700001007000010038000200
380004001C0004000C001800060020000380C000007F00001C1E7C9C1E>I<0FFFFC0000
F8078000F001C000F000E000F0007000F0007000F0007801E0003801E0003801E0003801
E0003801E0003C01E0003803C0003803C0007803C0007803C0007803C0007003C000F007
8000E0078000E0078001C0078003800780078007800E000F001C000F007000FFFFC0001E
1C7E9B20>I<07FFFFE000F801E000F000E000F0004000F0004000F0004000F0004001E0
004001E0204001E0200001E0200001E0600001E0E00003FFC00003C0C00003C0400003C0
400003C0400003C040800780008007800080078001000780010007800300078006000F00
0E000F003E00FFFFFC001B1C7E9B1C>I<07FFFFC000F803C000F001C000F0008000F000
8000F0008000F0008001E0008001E0208001E0200001E0200001E0600001E0E00003FFC0
0003C0C00003C0400003C0400003C0400003C04000078000000780000007800000078000
0007800000078000000F0000000F800000FFF800001A1C7E9B1B>I<0007F010001C0C30
0070026000C001E0038000E0070000E00E0000600E0000601C0000403C00004038000040
780000007800000078000000F0000000F0000000F0000000F000FFF0F0000F80F0000780
F0000F0070000F0070000F0038000F0038000F001C001F000C001E000600660003818200
007E00001C1E7C9C21>I<07FF87FF8000F800F80000F000F00000F000F00000F000F000
00F000F00000F000F00001E001E00001E001E00001E001E00001E001E00001E001E00001
E001E00003FFFFC00003C003C00003C003C00003C003C00003C003C00003C003C0000780
078000078007800007800780000780078000078007800007800780000F000F00000F800F
8000FFF0FFF000211C7F9B1F>I<07FF00F800F000F000F000F000F001E001E001E001E0
01E001E003C003C003C003C003C003C00780078007800780078007800F000F80FFF0101C
7F9B0F>I<07FFC000F80000F00000F00000F00000F00000F00001E00001E00001E00001
E00001E00001E00003C00003C00003C00003C00003C00003C00407800407800407800407
80080780080780180F00380F00F0FFFFF0161C7E9B1A>76 D<07F80007FC00F8000FC000
BC000F8000BC00178000BC00178000BC00278000BC002780011E004F00011E004F00011E
008F00011E008F00011E010F00010F010F00020F021E00020F021E00020F041E00020F04
1E000207881E000207901E000407903C000407A03C000407A03C000407C03C000403C03C
000403803C000C038078001E03007C00FF8307FF80261C7E9B26>I<07F800FF8000F800
3C0000BC00180000BC001000009E001000009F001000008F001000010F80200001078020
000107C020000103C020000103E020000101E020000200F040000200F040000200784000
020078400002003C400002003C400004001E800004001F800004000F800004000F800004
0007800004000780000C000300001E00010000FF80010000211C7F9B1F>I<0007F00000
381C0000E00E0001C0030003800380070001C00E0001C01E0001E01C0000E03C0000E038
0000E0780000F0780000F0780000F0F00001E0F00001E0F00001E0F00001E0F00003C0F0
0003C0F00003C0700007807000070078000F0038001E003C001C001C0038000E00E00003
83800000FE00001C1E7C9C20>I<07FFFC0000F80F0000F0038000F003C000F001C000F0
01C000F001C001E003C001E003C001E003C001E0038001E0070001E00E0003C03C0003FF
E00003C0000003C0000003C0000003C00000078000000780000007800000078000000780
0000078000000F0000000F800000FFF000001A1C7E9B1C>I<0FFFF80000F80E0000F007
8000F003C000F001C000F001E000F001E001E003C001E003C001E0038001E0070001E00E
0001E03C0003FFE00003C0780003C01C0003C01E0003C00E0003C00F0007801E0007801E
0007801E0007801E0007801E0007801E080F001E100F801E10FFF00E20000003C01D1D7E
9B1F>82 D<003F0400C0CC0180380300380600180E00180E00180E00181E00101E00001F
00000F80000FF80007FF0003FF8001FFC0003FE00003E00001E00000E00000E04000E040
00E04000E04000C06001C0E00180F00300CC0E0083F800161E7E9C17>I<1FFFFFF03C07
C0F03007803020078020600780204007802040078020400F0020800F0020000F0000000F
0000000F0000000F0000001E0000001E0000001E0000001E0000001E0000001E0000003C
0000003C0000003C0000003C0000003C0000003C000000780000007C00001FFFE0001C1C
7C9B1E>I<FFF01FF01F0007801E0003001E0002001E0002001E0002001E0002003C0004
003C0004003C0004003C0004003C0004003C000400780008007800080078000800780008
007800080078000800F0001000F000100070001000700020007000200038004000380080
001C0100000E0E000001F000001C1D7A9B1F>I<FFE007F81F0001C00F0001800F000100
0F0001000F800200078002000780040007800C000780080007C0100003C0100003C02000
03C0200003C0400003E0400001E0800001E0800001E1000001E3000000F2000000F40000
00F4000000F8000000F80000007000000070000000600000006000001D1D7B9B1F>I<FF
E1FFC0FF801F003E003E000F001E0018000F001E0018000F001E0010000F001E0030000F
001E0020000F003E0060000F802F00400007804F00C00007804F00800007808F01800007
808F01000007810F01000007C10782000003C20782000003C20784000003C60784000003
C40788000003CC0788000003C807D0000001F803D0000001F003E0000001F003E0000001
E003C0000001E003C0000001C00380000000C001800000008001000000291D7B9B2B>I<
07FF03FE00FC01F0007800C0007C0080003C0100003E0200001E0400001F0C00000F0800
000F90000007A0000007C0000003C0000003E0000001E0000003F0000004F0000008F000
0010F8000030780000607C0000403C0000803E0001001E0002001F0006000F001F001F80
FF807FF01F1C7F9B1F>I<FFE007F81F8001C00F0001800F8001000780020007C0040003
C00C0003C0080003E0100001E0200001F0600000F0400000F8800000F90000007B000000
7E0000003C0000003C000000380000007800000078000000780000007800000078000000
70000000F0000000F800000FFF00001D1C7B9B1F>I<0404080810102020202040404040
4040B8B8F8F8787830300E0C779C15>92 D<07F0001C18001E0C001C0E00180E00000E00
000E0001FE000F0E001C1C00301C00701C00E01C40E01C40E03C40E05C80709D803F0E00
12127D9115>97 D<3F00000F00000E00000E00000E00000E00000E00000E00001C00001C
00001C00001C7C001D87001E01803C01803801C03800C03800E03800E03800E07001C070
01C07001C0700380700300700600F00C00CC380083E000131D7C9C17>I<00FE00030700
0E07801C0700380600380000700000700000700000E00000E00000E00000600000700200
7004003008001C300007C00011127E9112>I<0001F80000780000700000700000700000
700000700000700000E00000E00000E000F8E00386E00601E00C01C01801C03801C07001
C07001C07001C0E00380E00380E00380600380700380300780300F001C378007C7E0151D
7E9C17>I<01F8070C0C0618073803300370037FFF7000E000E000E00060006002700430
081C3007C010127E9112>I<000F800039C00061C000E3C001C18001C00001C00001C000
0380000380000380003FF800038000038000070000070000070000070000070000070000
0E00000E00000E00000E00000E00000E00001C00001E0000FFC000121D7F9C0D>I<0000
38007CCC01871C0303080703800E03800E03800E03800E03800E0700060600070C0009F0
000800001800001800001FFE000FFF800FFFC03001C06000C06000E0C000C0C000C06001
80200300180E0007F000161C809215>I<07E00001E00001C00001C00001C00001C00001
C00001C000038000038000038000038F8003B0C003C0E00780E00780E00700E00700E007
00E00700E00E01C00E01C00E01C00E01C00E01C00E01C01C03801E03C0FF9FF0141D7F9C
17>I<00C001C001C0018000000000000000000000000000001F80078003800700070007
000700070007000E000E000E000E000E000E001C001E00FF800A1D7F9C0C>I<00030007
000700060000000000000000000000000000007E001E000E001C001C001C001C001C001C
00380038003800380038003800700070007000700070007060E0F0E0F1C063803E001025
849C0D>I<07E00001E00001C00001C00001C00001C00001C00001C00003800003800003
80000381FC0380E00380C007010007020007080007100007300007F8000F38000E3C000E
1C000E1E000E0E000E0F001C07001C0F80FF9FE0161D7F9C16>I<07E001E001C001C001
C001C001C001C00380038003800380038003800700070007000700070007000E000E000E
000E000E000E001C001E00FF800B1D7F9C0C>I<1F8FC0FC00079061060003E076070007
80780700078078070007007007000700700700070070070007007007000E00E00E000E00
E00E000E00E00E000E00E00E000E00E00E000E00E00E001C01C01C001E01E01E00FF8FF8
FF8021127F9124>I<1F8F8007B0C003C0E00780E00780E00700E00700E00700E00700E0
0E01C00E01C00E01C00E01C00E01C00E01C01C03801E03C0FF9FF014127F9117>I<00FC
000307000E01801C01C03800C03000C07000E07000E07000E0E001C0E001C0E001C06001
80600380700700380E001C180007E00013127E9115>I<0FC7C003D87001E03803C01803
801C03800C03800E03800E03800E07001C07001C07001C0700380700300700600F00C00E
C3800E3E000E00000E00000E00001C00001C00001C00001C0000FF8000171A809117>I<
00F8200384600602E00C01C01801C03801C07001C07001C07001C0E00380E00380E00380
600380700380300780380F001C370007C700000700000700000700000E00000E00000E00
000E00007FC0131A7E9116>I<1F9C07EE03CF078E078C07000700070007000E000E000E
000E000E000E001C001E00FFC010127F9110>I<03F20C0E18061004300438043E001FE0
0FF007F8003C401C400C400C6018E010D0608FC00F127F9110>I<020002000200060006
000C001C003C00FFE01C001C003800380038003800380038007000704070407040704070
80708031001E000B1A7C9910>I<FC1F803C07801C038038070038070038070038070038
0700380700700E00700E00700E00700E00701E00701E00703C00305E001F9F8011127C91
17>I<FF07E03C03803C03001C02001C02001C04001C08000E08000E10000E10000E2000
0F200007400007C00007800007000003000002000013127C9116>I<FF3FC7E03C0F0380
380E0100380E03003C1F02001C1706001C3704001C270C001C6308001C4318001EC39000
0E83B0000F83A0000F03E0000F01C0000E01C0000E018000040180001B127C911E>I<1F
E1FC0781E003808003C10001C20000E60000EC00007800007000003800007C00009C0001
1E00020E000407000C07003C0780FE1FF016127F9116>I<0FF07E03C03803C03001C020
01C02001C04001C08000E08000E10000E10000E20000F200007400007C00007800007000
003000002000002000004000004000708000F10000F30000E60000780000171A809116>
I<0FFF800E0700080E00180E00101C0010380010700000E00001C00001C0000382000702
000E02001C0400380400380C00703800FFF80011127F9112>I<FFFFFFFFFF8029017E8B
2A>124 D E /Ff 52 122 df<387CFEFFFF7F3B03030306060C1C18702008117C8610>
44 D<387CFEFEFE7C3807077C8610>46 D<00FE0007FFC00F83E01F01F03E00F83E00F8
7C007C7C007C7C007CFC007CFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007E
FC007EFC007EFC007EFC007EFC007E7C007C7C007C7C007C3E00F83E00F81F01F00F83E0
07FFC000FE0017207E9F1C>48 D<00180000780001F800FFF800FFF80001F80001F80001
F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001
F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8007FFFE07F
FFE013207C9F1C>I<03FC000FFF003C1FC07007E07C07F0FE03F0FE03F8FE03F8FE01F8
7C01F83803F80003F80003F00003F00007E00007C0000F80001F00003E00003800007000
00E01801C0180380180700180E00380FFFF01FFFF03FFFF07FFFF0FFFFF0FFFFF015207D
9F1C>I<00FE0007FFC00F07E01E03F03F03F03F81F83F81F83F81F81F03F81F03F00003
F00003E00007C0001F8001FE0001FF000007C00001F00001F80000FC0000FC3C00FE7E00
FEFF00FEFF00FEFF00FEFF00FC7E01FC7801F81E07F00FFFC001FE0017207E9F1C>I<00
00E00001E00003E00003E00007E0000FE0001FE0001FE00037E00077E000E7E001C7E001
87E00307E00707E00E07E00C07E01807E03807E07007E0E007E0FFFFFFFFFFFF0007E000
07E00007E00007E00007E00007E00007E000FFFF00FFFF18207E9F1C>I<3000203E01E0
3FFFC03FFF803FFF003FFE003FF80033C00030000030000030000030000031FC0037FF00
3E0FC03807E03003E00003F00003F00003F80003F83803F87C03F8FE03F8FE03F8FC03F0
FC03F07007E03007C03C1F800FFF0003F80015207D9F1C>I<001F8000FFE003E07007C0
F00F01F81F01F83E01F83E01F87E00F07C00007C0000FC0800FC7FC0FCFFE0FD80F0FF00
F8FE007CFE007CFC007EFC007EFC007EFC007E7C007E7C007E7C007E3C007C3E007C1E00
F80F00F00783E003FFC000FF0017207E9F1C>I<6000007800007FFFFE7FFFFE7FFFFC7F
FFF87FFFF87FFFF0E00060E000C0C00180C00300C00300000600000C00001C0000180000
380000780000780000F00000F00000F00001F00001F00001F00003F00003F00003F00003
F00003F00003F00003F00001E00017227DA11C>I<00FE0003FFC00703E00E00F01C00F0
1C00783C00783E00783F00783F80783FE0F01FF9E01FFFC00FFF8007FFC003FFE007FFF0
1E7FF83C1FFC7807FC7801FEF000FEF0003EF0001EF0001EF0001EF8001C7800383C0038
1F00F00FFFC001FF0017207E9F1C>I<01FE0007FF800F83E01E01F03E00F07C00F87C00
78FC007CFC007CFC007CFC007EFC007EFC007EFC007E7C00FE7C00FE3E01FE1E037E0FFE
7E07FC7E00207E00007C00007C1E007C3F00F83F00F83F00F03F01E01E03C01C0F800FFE
0003F80017207E9F1C>I<000070000000007000000000F800000000F800000000F80000
0001FC00000001FC00000003FE00000003FE00000003FE000000067F000000067F000000
0C7F8000000C3F8000000C3F800000181FC00000181FC00000301FE00000300FE0000070
0FF000006007F000006007F00000C007F80000FFFFF80001FFFFFC00018001FC00018001
FC00030001FE00030000FE00070000FF000600007F000600007F00FFE007FFF8FFE007FF
F825227EA12A>65 D<FFFFFF8000FFFFFFF00007F001F80007F000FC0007F0007E0007F0
007E0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007E0007F000
FE0007F000FC0007F003F80007FFFFF00007FFFFF00007F001FC0007F0007E0007F0003F
0007F0003F8007F0001F8007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC0
07F0001FC007F0003F8007F0003F8007F0007F0007F001FE00FFFFFFF800FFFFFFC00022
227EA128>I<0003FE0080001FFF818000FF01E38001F8003F8003E0001F8007C0000F80
0F800007801F800007803F000003803F000003807F000001807E000001807E00000180FE
00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00
0000007E000000007E000001807F000001803F000001803F000003801F800003000F8000
030007C000060003F0000C0001F800380000FF00F000001FFFC0000003FE000021227DA1
28>I<FFFFFF8000FFFFFFF00007F003FC0007F0007E0007F0003F0007F0001F8007F000
0FC007F00007E007F00007E007F00007F007F00003F007F00003F007F00003F007F00003
F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F8
07F00003F807F00003F007F00003F007F00003F007F00007E007F00007E007F0000FC007
F0001F8007F0003F0007F0007E0007F003FC00FFFFFFF000FFFFFF800025227EA12B>I<
FFFFFFFCFFFFFFFC07F000FC07F0003C07F0001C07F0000C07F0000E07F0000E07F00006
07F00C0607F00C0607F00C0607F00C0007F01C0007F03C0007FFFC0007FFFC0007F03C00
07F01C0007F00C0007F00C0007F00C0307F00C0307F0000307F0000607F0000607F00006
07F0000E07F0000E07F0001E07F0003E07F001FCFFFFFFFCFFFFFFFC20227EA125>I<FF
FFFFF8FFFFFFF807F001F807F0007807F0003807F0001807F0001C07F0001C07F0000C07
F0000C07F0180C07F0180C07F0180007F0180007F0380007F0780007FFF80007FFF80007
F0780007F0380007F0180007F0180007F0180007F0180007F0000007F0000007F0000007
F0000007F0000007F0000007F0000007F00000FFFFC000FFFFC0001E227EA123>I<FFFF
83FFFEFFFF83FFFE07F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F000
1FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001F
C007FFFFFFC007FFFFFFC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC0
07F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007
F0001FC007F0001FC007F0001FC0FFFF83FFFEFFFF83FFFE27227EA12C>72
D<FFFF80FFFF8007F00007F00007F00007F00007F00007F00007F00007F00007F00007F0
0007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F0
0007F00007F00007F00007F00007F00007F00007F00007F000FFFF80FFFF8011227EA115
>I<FFFFC000FFFFC00007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0001807F0001807F0001807F0001807F0003807F0
003807F0007007F0007007F000F007F001F007F007F0FFFFFFF0FFFFFFF01D227EA122>
76 D<FFF000000FFFFFF800001FFF07F800001FE006FC000037E006FC000037E006FC00
0037E0067E000067E0067E000067E0063F0000C7E0063F0000C7E0061F800187E0061F80
0187E0060FC00307E0060FC00307E0060FC00307E00607E00607E00607E00607E00603F0
0C07E00603F00C07E00601F81807E00601F81807E00601F81807E00600FC3007E00600FC
3007E006007E6007E006007E6007E006003FC007E006003FC007E006001F8007E006001F
8007E006001F8007E006000F0007E0FFF00F00FFFFFFF00600FFFF30227EA135>I<FFF8
001FFEFFFC001FFE07FC0000C007FE0000C006FF0000C0067F8000C0063FC000C0061FE0
00C0060FE000C0060FF000C00607F800C00603FC00C00601FE00C00600FE00C00600FF00
C006007F80C006003FC0C006001FE0C006000FF0C0060007F0C0060007F8C0060003FCC0
060001FEC0060000FFC00600007FC00600007FC00600003FC00600001FC00600000FC006
000007C006000003C006000003C0FFF00001C0FFF00000C027227EA12C>I<0007FC0000
003FFF800000FC07E00003F001F80007E000FC000FC0007E001F80003F001F80003F003F
00001F803F00001F807F00001FC07E00000FC07E00000FC0FE00000FE0FE00000FE0FE00
000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE07E0000
0FC07F00001FC07F00001FC03F00001F803F80003F801F80003F000FC0007E0007E000FC
0003F001F80000FC07E000003FFF80000007FC000023227DA12A>I<FFFFFF00FFFFFFE0
07F007F007F001FC07F000FC07F0007E07F0007E07F0007F07F0007F07F0007F07F0007F
07F0007F07F0007E07F0007E07F000FC07F001FC07F007F007FFFFE007FFFF0007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F00000FFFF8000FFFF800020227EA126>I<FFFFFE0000FFFFFFC0
0007F007F00007F001F80007F000FC0007F0007E0007F0007F0007F0007F0007F0007F00
07F0007F0007F0007F0007F0007F0007F0007E0007F000FC0007F001F80007F007F00007
FFFFC00007FFFF800007F00FE00007F007F00007F003F80007F001FC0007F001FC0007F0
01FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0607F000
FE0607F000FF0CFFFF803FF8FFFF800FF027227EA12A>82 D<01FE0207FF861F01FE3C00
7E7C001E78000E78000EF80006F80006FC0006FC0000FF0000FFE0007FFF007FFFC03FFF
F01FFFF80FFFFC03FFFE003FFE0003FE00007F00003F00003FC0001FC0001FC0001FE000
1EE0001EF0003CFC003CFF00F8C7FFE080FF8018227DA11F>I<7FFFFFFF807FFFFFFF80
7E03F80F807803F807807003F803806003F80180E003F801C0E003F801C0C003F800C0C0
03F800C0C003F800C0C003F800C00003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F8000001FFFFF00001FFFFF00022227EA127>I<FFFF0FFFF00FFEFFFF0FFFF00F
FE0FF000FF0000E007F0007F0000C007F0007F0000C003F8003F80018003F8003F800180
03FC003FC0018001FC003FC0030001FC003FC0030001FE007FE0070000FE006FE0060000
FE006FE00600007F00C7F00C00007F00C7F00C00007F81C7F80C00003F8183F81800003F
8183F81800003FC301FC3800001FC301FC3000001FC301FE3000000FE600FE6000000FE6
00FE6000000FFE00FFE0000007FC007FC0000007FC007FC0000003F8003F80000003F800
3F80000003F8003F80000001F0001F00000001F0001F00000001F0001F00000000E0000E
00000000E0000E000037227FA13A>87 D<0FFC003FFF807E07C07E03E07E01E07E01F03C
01F00001F00001F0003FF003FDF01FC1F03F01F07E01F0FC01F0FC01F0FC01F0FC01F07E
02F07E0CF81FF87F07E03F18167E951B>97 D<FF000000FF0000001F0000001F0000001F
0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F
0FE0001F3FF8001FE07C001F803E001F001F001F000F801F000F801F000FC01F000FC01F
000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000F801F001F801F801F001F
C03E001EE07C001C3FF800180FC0001A237EA21F>I<00FF8007FFE00F83F01F03F03E03
F07E03F07C01E07C0000FC0000FC0000FC0000FC0000FC0000FC00007C00007E00007E00
003E00181F00300FC06007FFC000FF0015167E9519>I<0001FE000001FE0000003E0000
003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000
003E0001FC3E0007FFBE000F81FE001F007E003E003E007E003E007C003E00FC003E00FC
003E00FC003E00FC003E00FC003E00FC003E00FC003E00FC003E007C003E007C003E003E
007E001F00FE000F83BE0007FF3FC001FC3FC01A237EA21F>I<00FE0007FF800F87C01E
01E03E01F07C00F07C00F8FC00F8FC00F8FFFFF8FFFFF8FC0000FC0000FC00007C00007C
00007E00003E00181F00300FC07003FFC000FF0015167E951A>I<001FC0007FE000F1F0
01E3F003E3F007C3F007C1E007C00007C00007C00007C00007C00007C000FFFE00FFFE00
07C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C000
07C00007C00007C00007C00007C00007C0003FFC003FFC00142380A211>I<01FE0F0007
FFBF800F87C7801F03E7801E01E0003E01F0003E01F0003E01F0003E01F0003E01F0001E
01E0001F03E0000F87C0000FFF800009FE000018000000180000001C0000001FFFE0000F
FFF80007FFFE001FFFFF003C003F0078000F80F0000780F0000780F0000780F000078078
000F003C001E001F007C000FFFF80001FFC00019217F951C>I<FF000000FF0000001F00
00001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F00
00001F0000001F07E0001F1FF8001F307C001F403C001F803E001F803E001F003E001F00
3E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F00
3E001F003E001F003E001F003E00FFE1FFC0FFE1FFC01A237EA21F>I<1C003E007F007F
007F003E001C000000000000000000000000000000FF00FF001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B247EA310>I<
FF000000FF0000001F0000001F0000001F0000001F0000001F0000001F0000001F000000
1F0000001F0000001F0000001F0000001F00FF801F00FF801F0038001F0060001F01C000
1F0380001F0700001F0E00001F1C00001F7E00001FFF00001FCF00001F0F80001F07C000
1F03E0001F01E0001F01F0001F00F8001F007C001F003C00FFE0FFC0FFE0FFC01A237EA2
1E>107 D<FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FF
E0FFE00B237EA210>I<FF07F007F000FF1FFC1FFC001F303E303E001F403E403E001F80
1F801F001F801F801F001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F00FFE0FFE0FFE0FFE0FFE0FFE02B16
7E9530>I<FF07E000FF1FF8001F307C001F403C001F803E001F803E001F003E001F003E
001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E
001F003E001F003E001F003E00FFE1FFC0FFE1FFC01A167E951F>I<00FE0007FFC00F83
E01E00F03E00F87C007C7C007C7C007CFC007EFC007EFC007EFC007EFC007EFC007EFC00
7E7C007C7C007C3E00F81F01F00F83E007FFC000FE0017167E951C>I<FF0FE000FF3FF8
001FE07C001F803E001F001F001F001F801F001F801F000FC01F000FC01F000FC01F000F
C01F000FC01F000FC01F000FC01F000FC01F001F801F001F801F803F001FC03E001FE0FC
001F3FF8001F0FC0001F0000001F0000001F0000001F0000001F0000001F0000001F0000
001F000000FFE00000FFE000001A207E951F>I<00FE030007FF87000FC1C7001F006F00
3F003F007E003F007E001F007C001F00FC001F00FC001F00FC001F00FC001F00FC001F00
FC001F00FC001F007E001F007E001F003E003F001F007F000FC1DF0007FF9F0001FC1F00
00001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F000000FFE0
0000FFE01B207E951E>I<FE1F00FE3FC01E67E01EC7E01E87E01E87E01F83C01F00001F
00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0000FF
F000FFF00013167E9517>I<0FF3003FFF00781F00600700E00300E00300F00300FC0000
7FE0007FF8003FFE000FFF0001FF00000F80C00780C00380E00380E00380F00700FC0E00
EFFC00C7F00011167E9516>I<0180000180000180000180000380000380000780000780
000F80003F8000FFFF00FFFF000F80000F80000F80000F80000F80000F80000F80000F80
000F80000F80000F80000F81800F81800F81800F81800F81800F830007C30003FE0000F8
0011207F9F16>I<FF01FE00FF01FE001F003E001F003E001F003E001F003E001F003E00
1F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E00
1F003E001F007E001F00FE000F81BE0007FF3FC001FC3FC01A167E951F>I<FFE01FE0FF
E01FE01F8007000F8006000FC00E0007C00C0007E00C0003E0180003E0180001F0300001
F0300000F8600000F86000007CC000007CC000007FC000003F8000003F8000001F000000
1F0000000E0000000E00001B167F951E>I<FFE07FC0FFE07FC00F801C0007C0380003E0
700003F0600001F8C00000F98000007F8000003F0000001F0000001F8000003FC0000037
C0000063E00000C1F00001C0F8000380FC0007007E000E003E00FF80FFE0FF80FFE01B16
7F951E>120 D<FFE01FE0FFE01FE01F8007000F8006000FC00E0007C00C0007E00C0003
E0180003E0180001F0300001F0300000F8600000F86000007CC000007CC000007FC00000
3F8000003F8000001F0000001F0000000E0000000E0000000C0000000C00000018000078
180000FC380000FC300000FC60000069C000007F8000001F0000001B207F951E>I
E /Fg 94 127 df<C00180C00180C00180C00180C00180C00180C00180C00180C00180C0
0180C00180C00180C00180C00180FFFF80FFFF8011107E8916>32
D<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0600000000060F0F0600419779816>I<E038F0
78F078F078F078F078F078F078E038E03860300D0B7C9816>I<03870003870003870003
87000387000387007FFFC0FFFFE0FFFFE0070E00070E00070E000E1C000E1C000E1C000E
1C00FFFFE0FFFFE07FFFC01C38001C38001C38001C38001C38001C380013197F9816>I<
00C00001C00001C00001C00007F0001FFC003FFE007DCF0071C780E1C380E1C780E1C780
F1C30079C0003FC0001FF00007FC0001FE0001CF0001C70061C380F1C380F1C380E1C380
71C70079DF003FFE001FF80007E00001C00001C00000C00011207E9C16>I<3801807C03
807C0380EE0700EE0700EE0E00EE0E00EE0E00EE1C007C1C007C38003838000070000070
0000700000E00000E00001C00001C00001C0000380000383800707C00707C00E0EE00E0E
E00E0EE01C0EE01C0EE03807C03807C018038013207F9C16>I<03800007E0000FE0001E
70001C70001C70001C70001CF7E01CE7E01DC7E00FC7000F8E000F0E001F0E003F1C007B
9C00739C00E1F800E1F800E0F0E0E0F0E071F8E07FFFC03F9FC01E070013197F9816>I<
30787C3C1C1C1C1C3878F0E040060D789816>I<00E001E0038007000E001C001C003800
3800700070007000E000E000E000E000E000E000E000E000E00070007000700038003800
1C001C000E000700038001E000E00B217A9C16>I<C000E000700038001C000E000E0007
00070003800380038001C001C001C001C001C001C001C001C001C0038003800380070007
000E000E001C0038007000E000C0000A217B9C16>I<0380038003800380E38EF39EFFFE
3FF80FE00FE03FF8FFFEF39EE38E03800380038003800F127D9516>I<00E00000E00000
E00000E00000E00000E00000E00000E000FFFFE0FFFFE0FFFFE000E00000E00000E00000
E00000E00000E00000E00000E00013137F9516>I<387C7E7E3E0E1E1C78F060070B7984
16>I<FFFF80FFFF80FFFF8011037E8D16>I<70F8F8F8700505788416>I<000180000380
000380000700000700000E00000E00001C00001C0000380000380000700000700000E000
00E00001C00001C0000380000380000700000700000E00000E00001C00001C0000380000
380000700000700000E00000E00000C0000011207E9C16>I<03E0000FF8001FFC001E3C
00380E00780F00700700700700E00380E00380E00380E00380E00380E00380E00380E003
80F00780700700700700780F003C1E001E3C001FFC000FF80003E00011197E9816>I<03
00070007000F001F00FF00FF00E700070007000700070007000700070007000700070007
00070007000700FFF8FFF8FFF80D197B9816>I<07E0001FF8003FFC00783E00E00700F0
0780F00380600380000380000380000700000700000E00001C0000380000700000E00001
C0000380000F00001E03803803807FFF80FFFF807FFF8011197E9816>I<07E0001FF800
3FFC00781E00780700300700000700000700000E00003E0007FC0007F00007FC00001E00
000700000300000380000380600380F00380E00700781E003FFC001FF80007E00011197E
9816>I<007C0000FC0000DC0001DC00039C00039C00071C000F1C000E1C001E1C003C1C
00381C00781C00F01C00FFFFE0FFFFE0FFFFE0001C00001C00001C00001C00001C0001FF
C001FFC001FFC013197F9816>I<3FFE007FFE007FFE0070000070000070000070000070
000070000070000077F0007FFC007FFE00780F00300700000380000380600380F00380F0
0380E00700781E003FFC001FF80007E00011197E9816>I<00F80003FC0007FE000F0700
1C0F00380F00780600700000700000E3F800EFFC00FFFE00F80F00F00700F00380E00380
E003807003807003807007803807003C1E001FFC000FF80003E00011197E9816>I<E000
00FFFF80FFFF80FFFF80E00F00E01E00001C0000380000780000700000E00000E00001C0
0001C00001C0000380000380000380000380000700000700000700000700000700000700
00070000111A7E9916>I<07F0001FFC003FFE007C1F00F00780E00380E00380E0038070
07007C1F001FFC0007F0001FFC003C1E00700700F00780E00380E00380E00380F0078070
07007C1F003FFE001FFC0007F00011197E9816>I<03E0000FF8001FFC003C1E00700E00
700700E00700E00780E00380E00380E00780700780780F803FFF801FFB800FE380000700
000700300700780E00781C00707C003FF8001FE0000F800011197E9816>I<70F8F8F870
000000000000000070F8F8F8700512789116>I<387C7C7C38000000000000000038787C
7C3C1C1C3870F0400618799116>I<000180000780001F80003E0000F80001F00007C000
0F80003E0000FC0000F00000FC00003E00000F800007C00001F00000F800003E00001F80
00078000018011157E9616>I<7FFFC0FFFFE0FFFFE00000000000000000000000000000
00FFFFE0FFFFE07FFFC0130B7F9116>I<C00000F00000FC00003E00000F800007C00001
F00000F800003E00001F80000780001F80003E0000F80001F00007C0000F80003E0000FC
0000F00000C0000011157E9616>I<0FF0003FFE007FFF00F00F80F00380F00380600780
001F00003E0000780000F00001C00001C00001C00001C00001C000018000000000000000
00000000000001800003C00003C00001800011197E9816>I<00F80003FC0007FE000F07
001C3B8038FF8079FF8073C7C07383C0E701C0E701C0E701C0E701C0E701C0E701C0E701
C073838073C78079FF0038FE001C38000F03C007FFC003FF0000FC0012197E9816>I<00
E00001F00001F00001B00001B00003B80003B80003B800031800071C00071C00071C0007
1C00071C000E0E000E0E000FFE000FFE001FFF001C07001C07001C07007E0FC0FF1FE07E
0FC013197F9816>I<7FF800FFFE007FFF001C07001C07801C03801C03801C03801C0380
1C07001FFF001FFE001FFE001C1F001C03801C03C01C01C01C01C01C01C01C01C01C03C0
1C07807FFF80FFFF007FFC0012197F9816>I<01F18007FB800FFF801F0F803C07803803
80700380700380F00000E00000E00000E00000E00000E00000E00000E00000F000007003
807003803803803C07001F0F000FFE0007FC0001F00011197E9816>I<7FF800FFFE007F
FF001C0F001C07801C03C01C01C01C01C01C01E01C00E01C00E01C00E01C00E01C00E01C
00E01C00E01C00E01C01C01C01C01C03C01C07801C0F807FFF00FFFE007FF80013198098
16>I<7FFFC0FFFFC07FFFC01C01C01C01C01C01C01C01C01C00001C00001C1C001C1C00
1FFC001FFC001FFC001C1C001C1C001C00001C00E01C00E01C00E01C00E01C00E07FFFE0
FFFFE07FFFE013197F9816>I<7FFFE0FFFFE07FFFE01C00E01C00E01C00E01C00E01C00
001C00001C1C001C1C001FFC001FFC001FFC001C1C001C1C001C00001C00001C00001C00
001C00001C00007F8000FFC0007F800013197F9816>I<01F18007FB800FFF801F0F803C
0780380380700380700380F00000E00000E00000E00000E00000E01FC0E01FE0E01FC0F0
03807003807007803807803C07801E0F800FFF8007FB8001F38013197F9816>I<7F07F0
FF8FF87F07F01C01C01C01C01C01C01C01C01C01C01C01C01C01C01FFFC01FFFC01FFFC0
1C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C07F07F0FF8FF87F07F0
1519809816>I<7FFCFFFE7FFC0380038003800380038003800380038003800380038003
8003800380038003800380038003807FFCFFFE7FFC0F197D9816>I<01FF0003FF8001FF
00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C
00001C00001C00001C00001C00601C00F01C00F038007FF8007FF0001FC00011197E9816
>I<7F0FE0FF8FF07F0FE01C07801C0F001C0E001C1C001C3C001C78001CF0001CE0001D
F0001FF0001FF8001F38001E1C001C1C001C0E001C0E001C07001C07001C03807F07E0FF
8FF07F07E01419809816>I<FF8000FFC000FF80001C00001C00001C00001C00001C0000
1C00001C00001C00001C00001C00001C00001C00001C00001C00001C00401C00E01C00E0
1C00E01C00E0FFFFE0FFFFE0FFFFE013197F9816>I<FC07E0FE0FE0FE0FE03A0B803B1B
803B1B803B1B803B1B803B1B803BBB8039B38039B38039B38039B38039F38038E38038E3
80380380380380380380380380380380FE0FE0FE0FE0FE0FE013197F9816>I<7E07F0FF
0FF87F07F01D81C01D81C01D81C01DC1C01CC1C01CE1C01CE1C01C61C01C71C01C71C01C
71C01C31C01C39C01C39C01C19C01C1DC01C0DC01C0DC01C0DC07F07C0FF87C07F03C015
19809816>I<1FFC003FFE007FFF00780F00F00780E00380E00380E00380E00380E00380
E00380E00380E00380E00380E00380E00380E00380E00380E00380F00780F00780780F00
7FFF003FFE001FFC0011197E9816>I<7FF800FFFE007FFF001C0F801C03801C03C01C01
C01C01C01C01C01C03C01C03801C0F801FFF001FFE001FF8001C00001C00001C00001C00
001C00001C00001C00007F0000FF80007F000012197F9816>I<1FFC003FFE007FFF0078
0F00F00780E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E0
0380E00380E00380E0E380E1E380F0F780787F007FFF003FFE001FFC00001C00001E0000
0E00000F00000700000700111F7E9816>I<7FF000FFFC007FFE001C0F001C07801C0380
1C03801C03801C03801C07801C0F001FFE001FFC001FFE001C0E001C07001C07001C0700
1C07001C07101C07381C07387F03F0FF83F07F01E01519809816>I<07E3001FFF003FFF
00781F00F00700E00700E00700E00000F000007800003F80001FF00007FC0000FE00000F
00000700000380000380600380E00380E00700F80F00FFFE00FFFC00C7F00011197E9816
>I<7FFFE0FFFFE0FFFFE0E0E0E0E0E0E0E0E0E0E0E0E000E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00007FC000F
FE0007FC0013197F9816>I<7F07F0FF8FF87F07F01C01C01C01C01C01C01C01C01C01C0
1C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C00E0380
0E038007070007FF0003FE0000F8001519809816>I<FE0FE0FE0FE0FE0FE03803803C07
801C07001C07001C07001E0F000E0E000E0E000E0E000E0E00071C00071C00071C00071C
0003180003B80003B80003B80001B00001F00001F00000E00013197F9816>I<7E03F0FF
07F87E03F03800E03800E03800E03800E01C01C01C01C01C01C01C71C01CF9C01CF9C01C
D9C01CD9C00CD9800CD9800CD9800DDD800D8D800D8D800D8D80078F00078F0007070015
19809816>I<7F1F807F3FC07F1F800E1E000E1C00071C0007380003B80003F00001F000
01E00000E00001E00001F00003F00003B80007B800071C000F1C000E0E000E0E001C0700
7E0FC0FF1FE07E0FC013197F9816>I<FE0FE0FF1FE0FE0FE01C07001C07000E0E000E0E
00071C00071C00071C0003B80003B80001F00001F00000E00000E00000E00000E00000E0
0000E00000E00000E00003F80007FC0003F80013197F9816>I<7FFF80FFFF80FFFF80E0
0700E00F00E01E00E01C00003C0000780000700000F00001E00001C00003C00007800007
00000F00001E03801C03803C0380780380700380FFFF80FFFF80FFFF8011197E9816>I<
FFF0FFF0FFF0E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000
E000E000E000E000E000E000E000E000E000E000E000FFF0FFF0FFF00C20789C16>I<C0
0000E00000E000007000007000003800003800001C00001C00000E00000E000007000007
000003800003800001C00001C00000E00000E000007000007000003800003800001C0000
1C00000E00000E0000070000070000038000038000018011207E9C16>I<FFF0FFF0FFF0
007000700070007000700070007000700070007000700070007000700070007000700070
00700070007000700070007000700070FFF0FFF0FFF00C207F9C16>I<03000F803FE0FD
F8F07840100D067C9816>I<FFFF80FFFF80FFFF8011037E7E16>I<1FE0003FF0007FF800
783C00300E00000E00000E0003FE001FFE003E0E00700E00E00E00E00E00E00E00783E00
7FFFE03FE7E00F83E013127E9116>97 D<FC0000FC0000FC00001C00001C00001C00001C
00001C7C001DFE001FFF001F07801E03C01C01C01C00E01C00E01C00E01C00E01C00E01C
00E01C01C01E03C01F07801FFF001DFE000C780013197F9816>I<03F80FFC1FFE3C1E78
0C7000E000E000E000E000E000F000700778073E0E1FFC0FF803F010127D9116>I<003F
00003F00003F0000070000070000070000070003C7000FF7001FFF003C1F00780F007007
00E00700E00700E00700E00700E00700E00700700F00780F003C1F001FFFE00FF7E007C7
E013197F9816>I<03F0000FFC001FFE003C0F00780700700380E00380FFFF80FFFF80FF
FF80E00000E000007003807803803E07801FFF0007FE0001F80011127E9116>I<001E00
007F0001FF8001C7800383000380000380007FFF00FFFF00FFFF00038000038000038000
0380000380000380000380000380000380000380000380000380007FFC00FFFE007FFC00
11197F9816>I<03E3C007F7E00FFFE01C1CC0380E00380E00380E00380E00380E001C1C
000FF8001FF0001BE0003800001800001FFC001FFF003FFF807003C0E000E0E000E0E000
E0E000E07001C07C07C03FFF800FFE0003F800131C7F9116>I<FC0000FC0000FC00001C
00001C00001C00001C00001C78001DFC001FFE001F0F001E07001C07001C07001C07001C
07001C07001C07001C07001C07001C07001C0700FF8FE0FF9FE0FF8FE013197F9816>I<
03000780078003000000000000000000FF80FF80FF800380038003800380038003800380
03800380038003800380FFFCFFFEFFFC0F1A7C9916>I<00300078007800300000000000
0000000FF81FF80FF8003800380038003800380038003800380038003800380038003800
38003800380038003800386070F0F0FFE07FC03F800D237E9916>I<7E0000FE00007E00
000E00000E00000E00000E00000E7FE00E7FE00E7FE00E0F000E1E000E3C000E78000EF0
000FF0000FF8000FBC000F1E000E0E000E07000E07807F87F0FFCFF07F87F01419809816
>I<7FC000FFC0007FC00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0007FFF00FF
FF807FFF0011197E9816>I<F9C380FFEFC0FFFFE03C78E03C78E03870E03870E03870E0
3870E03870E03870E03870E03870E03870E03870E0FE7CF8FE7CF8FE7CF81512809116>
I<FC7800FDFC00FFFE001F0F001E07001C07001C07001C07001C07001C07001C07001C07
001C07001C07001C0700FF8FE0FF9FE0FF8FE013127F9116>I<03E0000FF8001FFC003C
1E00780F00700700E00380E00380E00380E00380E00380F00780700700780F003C1E001F
FC000FF80003E00011127E9116>I<FC7C00FDFE00FFFF001F07801E03C01C01C01C00E0
1C00E01C00E01C00E01C00E01C00E01C01C01E03C01F07801FFF001DFE001C78001C0000
1C00001C00001C00001C00001C0000FF8000FF8000FF8000131B7F9116>I<03E3800FF3
801FFB803E0F80780780700780E00380E00380E00380E00380E00380E003807007807807
803C1F801FFB800FF38003E380000380000380000380000380000380000380001FF0003F
F8001FF0151B7F9116>I<7F0FC0FF3FE07F7FE007F04007C00007800007800007000007
00000700000700000700000700000700000700007FFC00FFFC007FFC0013127F9116>I<
0FEC3FFC7FFCF03CE01CE01C70007F801FF007F8003C600EE00EF00EF81EFFFCFFF8C7E0
0F127D9116>I<0300000700000700000700000700007FFF00FFFF00FFFF000700000700
0007000007000007000007000007000007010007038007038007038007870003FE0001FC
0000F80011177F9616>I<FC3F00FC3F00FC3F001C07001C07001C07001C07001C07001C
07001C07001C07001C07001C07001C07001C1F001FFFE00FF7E007C7E013127F9116>I<
7F1FC0FF9FE07F1FC01C07001C07000E0E000E0E000E0E00071C00071C00071C00071C00
03B80003B80003B80001F00001F00000E00013127F9116>I<FF1FE0FF1FE0FF1FE03803
8038038038038038038039F38039F38019F30019B30019B30019B3001DB7001D17001F1F
000F1E000E0E0013127F9116>I<7F1FC07F3FC07F1FC00F1E00073C0003B80003F00001
F00000E00001E00001F00003B800073C00071C000E0E007F1FC0FF3FE07F1FC013127F91
16>I<7F1FC0FF9FE07F1FC01C07000E07000E0E000E0E00070E00071C00071C00039C00
039C0003980001B80001B80000F00000F00000F00000E00000E00000E00001C00079C000
7BC0007F80007F00003C0000131B7F9116>I<3FFFC07FFFC07FFFC0700780700F00701E
00003C0000780001F00003E0000780000F00001E01C03C01C07801C0FFFFC0FFFFC0FFFF
C012127F9116>I<001F80007F8000FF8001E00001C00001C00001C00001C00001C00001
C00001C00001C00001C00003C0007F8000FF0000FF00007F800003C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001E00000FF80007F80001F8011207E9C
16>I<E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E003
20779C16>I<7C0000FF0000FF800003C00001C00001C00001C00001C00001C00001C000
01C00001C00001C00001E00000FF00007F80007F8000FF0001E00001C00001C00001C000
01C00001C00001C00001C00001C00001C00003C000FF8000FF00007C000011207E9C16>
I<1C303F78FFF8F7E061C00D057C9816>I E /Fh 3 111 df<60F0F06004047C830C>58
D<60F0F0701010101020204080040C7C830C>I<3C1F004E61804681C04701C08F01C08E
01C00E01C00E01C01C03801C03801C03801C0700380710380710380E10380E2070064030
038014127E9119>110 D E /Fi 4 21 df<60F0F06004047C8B0C>1
D<0003FE0000000FFF8000003C01E00000F000780001C0001C0003000006000600000300
0C0000018018000000C018000000C0300000006030000000606000000030600000003060
00000030C000000018C000000018C000000018C000000018C000000018C000000018C000
000018C000000018C0000000186000000030600000003060000000303000000060300000
006018000000C018000000C00C000001800600000300030000060001C0001C0000F00078
00003C01E000000FFF80000003FE000025277E9D2A>13 D<03C00FF01FF83FFC7FFE7FFE
FFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003C010107E9115>15
D<000001800000078000001E00000078000001E00000078000001E00000078000001E000
00078000001E00000078000000E0000000780000001E0000000780000001E00000007800
00001E0000000780000001E0000000780000001E00000007800000018000000000000000
0000000000000000000000000000000000000000007FFFFF00FFFFFF8019227D9920>20
D E /Fj 41 122 df<FFFF80FFFF80FFFF80FFFF80FFFF80FFFF8011067F9017>45
D<00000300000007800000078000000F8000000F0000000F0000001F0000001E0000003E
0000003C0000003C0000007C0000007800000078000000F8000000F0000001F0000001E0
000001E0000003E0000003C0000003C0000007C00000078000000F8000000F0000000F00
00001F0000001E0000003E0000003C0000003C0000007C0000007800000078000000F800
0000F0000001F0000001E0000001E0000003E0000003C0000003C0000007C00000078000
000F8000000F0000000F0000001F0000001E0000001E0000003E0000003C0000007C0000
007800000078000000F8000000F0000000F000000060000000193C7CAC22>47
D<000E00001E00007E0007FE00FFFE00FFFE00F8FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
007FFFFE7FFFFE7FFFFE17277BA622>49 D<00FF800003FFF0000FFFFC001F03FE003800
FF007C007F80FE003FC0FF003FC0FF003FE0FF001FE0FF001FE07E001FE03C003FE00000
3FE000003FC000003FC000007F8000007F000000FE000000FC000001F8000003F0000003
E00000078000000F0000001E0000003C00E0007000E000E000E001C001C0038001C00700
01C00FFFFFC01FFFFFC03FFFFFC07FFFFFC0FFFFFF80FFFFFF80FFFFFF801B277DA622>
I<007F800003FFF00007FFF8000F81FE001F00FE003F80FF003F807F803F807F803F807F
801F807F800F007F800000FF000000FF000000FE000001FC000001F8000007F00000FFC0
0000FFF0000001FC000000FE0000007F0000007F8000003FC000003FC000003FE000003F
E03C003FE07E003FE0FF003FE0FF003FE0FF003FC0FF007FC07E007F807C007F003F01FE
001FFFFC0007FFF00000FF80001B277DA622>I<00000E0000001E0000003E0000007E00
0000FE000000FE000001FE000003FE0000077E00000E7E00000E7E00001C7E0000387E00
00707E0000E07E0000E07E0001C07E0003807E0007007E000E007E000E007E001C007E00
38007E0070007E00E0007E00FFFFFFF8FFFFFFF8FFFFFFF80000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE00003FFFF8003FFFF8003FFFF81D277EA6
22>I<080003001F803F001FFFFE001FFFFC001FFFF8001FFFF0001FFFE0001FFF80001F
FE00001C0000001C0000001C0000001C0000001C0000001C0000001C7FC0001DFFF8001F
80FC001E003E0008003F0000003F8000001FC000001FC000001FE000001FE018001FE07C
001FE0FE001FE0FE001FE0FE001FE0FE001FC0FC001FC078003F8078003F803C007F001F
01FE000FFFF80003FFF00000FF80001B277DA622>I<0007F800003FFE0000FFFF0001FC
078003F00F8007E01FC00FC01FC01FC01FC01F801FC03F800F803F8000007F0000007F00
00007F000000FF000000FF0FC000FF3FF800FF707C00FFC03E00FFC03F00FF801F80FF80
1FC0FF001FC0FF001FE0FF001FE0FF001FE07F001FE07F001FE07F001FE07F001FE03F00
1FE03F001FC01F801FC01F803F800FC03F0007E07E0003FFFC0000FFF000003FC0001B27
7DA622>I<380000003E0000003FFFFFF03FFFFFF03FFFFFF07FFFFFE07FFFFFC07FFFFF
807FFFFF0070000E0070000E0070001C00E0003800E0007000E000E0000001C0000001C0
00000380000007800000070000000F0000001F0000001E0000003E0000003E0000007E00
00007C0000007C000000FC000000FC000000FC000000FC000001FC000001FC000001FC00
0001FC000001FC000001FC000001FC000000F80000007000001C297CA822>I<00000380
0000000007C00000000007C0000000000FE0000000000FE0000000000FE0000000001FF0
000000001FF0000000003FF8000000003FF8000000003FF80000000073FC0000000073FC
00000000F3FE00000000E1FE00000001E1FF00000001C0FF00000001C0FF00000003C0FF
80000003807F80000007807FC0000007003FC0000007003FC000000E001FE000000E001F
E000001E001FF000001C000FF000001FFFFFF000003FFFFFF800003FFFFFF80000780007
FC0000700003FC0000F00003FE0000E00001FE0000E00001FE0001E00001FF0001C00000
FF0003C00000FF80FFFE001FFFFEFFFE001FFFFEFFFE001FFFFE2F297EA834>65
D<FFFFFFFC0000FFFFFFFF8000FFFFFFFFC00003F8001FF00003F8000FF80003F80007FC
0003F80003FC0003F80003FC0003F80003FE0003F80001FE0003F80001FE0003F80001FE
0003F80003FE0003F80003FC0003F80003FC0003F80007F80003F8000FF00003F8001FE0
0003F800FFC00003FFFFFE000003FFFFFFE00003F80007F00003F80003FC0003F80001FE
0003F80001FE0003F80000FF0003F80000FF0003F80000FF8003F80000FF8003F80000FF
8003F80000FF8003F80000FF8003F80000FF8003F80000FF0003F80001FF0003F80003FE
0003F80007FC0003F8001FF800FFFFFFFFF000FFFFFFFFC000FFFFFFFE000029297DA831
>I<00003FF001800003FFFE0380000FFFFF8780003FF007DF8000FF8001FF8001FE0000
7F8003FC00003F8007F000001F800FF000000F801FE0000007801FE0000007803FC00000
07803FC0000003807FC0000003807F80000003807F8000000000FF8000000000FF800000
0000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF800000
0000FF80000000007F80000000007F80000000007FC0000003803FC0000003803FC00000
03801FE0000003801FE0000007000FF00000070007F000000E0003FC00001E0001FE0000
3C0000FF8000F800003FF007E000000FFFFFC0000003FFFF000000003FF8000029297CA8
32>I<FFFFFFF80000FFFFFFFF8000FFFFFFFFE00003FC001FF80003FC0007FC0003FC00
01FE0003FC0000FF0003FC00007F8003FC00003FC003FC00001FC003FC00001FE003FC00
001FE003FC00000FF003FC00000FF003FC00000FF003FC00000FF003FC00000FF803FC00
000FF803FC00000FF803FC00000FF803FC00000FF803FC00000FF803FC00000FF803FC00
000FF803FC00000FF803FC00000FF803FC00000FF003FC00000FF003FC00000FF003FC00
001FE003FC00001FE003FC00001FC003FC00003FC003FC00007F8003FC00007F0003FC00
01FE0003FC0003FC0003FC001FF800FFFFFFFFE000FFFFFFFF8000FFFFFFFC00002D297D
A835>I<FFFFFCFFFFFCFFFFFC01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE
0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE
0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE
0001FE0001FE0001FE00FFFFFCFFFFFCFFFFFC16297EA81A>73 D<FFFE0000001FFFC0FF
FE0000001FFFC0FFFF0000003FFFC003FF0000003FF00003FF0000003FF00003BF800000
77F00003BF80000077F000039FC00000E7F000039FC00000E7F000038FE00001C7F00003
8FE00001C7F0000387F0000387F0000387F0000387F0000387F0000387F0000383F80007
07F0000383F8000707F0000381FC000E07F0000381FC000E07F0000380FE001C07F00003
80FE001C07F0000380FF003807F00003807F003807F00003807F003807F00003803F8070
07F00003803F807007F00003801FC0E007F00003801FC0E007F00003800FE1C007F00003
800FE1C007F00003800FE1C007F000038007F38007F000038007F38007F000038003FF00
07F000038003FF0007F000038001FE0007F000038001FE0007F000038000FC0007F00003
8000FC0007F000FFFE00FC01FFFFC0FFFE007801FFFFC0FFFE007801FFFFC03A297DA841
>77 D<0000FFE000000007FFFC0000003FC07F8000007F001FC00001FC0007F00003F800
03F80007F00001FC000FF00001FE001FE00000FF001FE00000FF003FC000007F803FC000
007F807FC000007FC07F8000003FC07F8000003FC07F8000003FC0FF8000003FE0FF8000
003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000
003FE0FF8000003FE0FF8000003FE07F8000003FC07FC000007FC07FC000007FC03FC000
007F803FC000007F801FE00000FF001FE00000FF000FF00001FE0007F00001FC0003F800
03F80001FC0007F00000FF001FE000003FC07F8000000FFFFE00000000FFE000002B297C
A834>79 D<FFFFFFE00000FFFFFFFE0000FFFFFFFF800003FC007FE00003FC000FF00003
FC0007F80003FC0007FC0003FC0003FC0003FC0003FE0003FC0003FE0003FC0003FE0003
FC0003FE0003FC0003FE0003FC0003FE0003FC0003FC0003FC0007F80003FC0007F80003
FC001FE00003FC007FC00003FFFFFE000003FFFFF8000003FC00FC000003FC007F000003
FC003F800003FC003F800003FC001FC00003FC001FE00003FC001FE00003FC001FE00003
FC001FE00003FC001FE00003FC001FF00003FC001FF00003FC001FF00003FC001FF00703
FC001FF80703FC000FF80703FC0007F80EFFFFF003FE1CFFFFF001FFF8FFFFF0003FF030
297DA834>82 D<007F806003FFF0E007FFF9E00F807FE01F001FE03E0007E07C0003E07C
0001E0FC0001E0FC0001E0FC0000E0FE0000E0FE0000E0FF000000FFC000007FFE00007F
FFE0003FFFFC001FFFFE000FFFFF8007FFFFC003FFFFC0007FFFE00007FFF000007FF000
000FF8000007F8000003F8600001F8E00001F8E00001F8E00001F8F00001F0F00001F0F8
0003F0FC0003E0FF0007C0FFE01F80F3FFFF00E1FFFE00C01FF0001D297CA826>I<7FFF
FFFFFFC07FFFFFFFFFC07FFFFFFFFFC07F803FC03FC07E003FC007C078003FC003C07800
3FC003C070003FC001C0F0003FC001E0F0003FC001E0E0003FC000E0E0003FC000E0E000
3FC000E0E0003FC000E0E0003FC000E000003FC0000000003FC0000000003FC000000000
3FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC000000000
3FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC000000000
3FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC000000000
3FC00000007FFFFFE000007FFFFFE000007FFFFFE0002B287EA730>I<FFFFF001FFFCFF
FFF001FFFCFFFFF001FFFC03FC0000070003FC0000070003FC0000070003FC0000070003
FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003
FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003
FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003
FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070001
FC00000E0001FE00000E0000FE00001C00007E00001C00007F00003800003FC000F00000
0FF007E0000007FFFFC0000001FFFF000000001FF800002E297DA835>I<03FF80000FFF
F0001F01F8003F807E003F807E003F803F001F003F800E003F8000003F8000003F800000
3F80000FFF8000FFFF8007FC3F800FE03F803F803F803F003F807F003F80FE003F80FE00
3F80FE003F80FE003F807E007F807F00DF803F839FFC0FFF0FFC01FC03FC1E1B7E9A21>
97 D<003FF80000FFFE0003F01F0007E03F800FC03F801F803F803F801F007F000E007F
0000007F000000FF000000FF000000FF000000FF000000FF000000FF000000FF0000007F
0000007F0000007F8000003F8001C01F8001C00FC0038007E0070003F01E0000FFFC0000
3FE0001A1B7E9A1F>99 D<00003FF80000003FF80000003FF800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800001FE3F80000FFFBF80003F83FF80007E00FF8000FC0
07F8001F8003F8003F8003F8007F0003F8007F0003F8007F0003F800FF0003F800FF0003
F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F8007F0003F8007F0003F8
007F0003F8003F8003F8001F8003F8000F8007F80007C00FF80003F03FFF8000FFF3FF80
003FC3FF80212A7EA926>I<003FE00001FFF80003F07E0007C01F000F801F801F800F80
3F800FC07F000FC07F0007C07F0007E0FF0007E0FF0007E0FFFFFFE0FFFFFFE0FF000000
FF000000FF0000007F0000007F0000007F0000003F8000E01F8000E00FC001C007E00380
03F81F0000FFFE00001FF0001B1B7E9A20>I<0007F0003FFC00FE3E01F87F03F87F03F0
7F07F07F07F03E07F00007F00007F00007F00007F00007F00007F000FFFFC0FFFFC0FFFF
C007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F0
0007F00007F00007F00007F00007F00007F00007F00007F00007F0007FFF807FFF807FFF
80182A7EA915>I<00FF81F003FFE7F80FC1FE7C1F80FC7C1F007C383F007E107F007F00
7F007F007F007F007F007F007F007F007F007F003F007E001F007C001F80FC000FC1F800
1FFFE00018FF800038000000380000003C0000003E0000003FFFF8001FFFFF001FFFFF80
0FFFFFC007FFFFE01FFFFFF03C0007F07C0001F8F80000F8F80000F8F80000F8F80000F8
7C0001F03C0001E01F0007C00FC01F8003FFFE00007FF0001E287E9A22>I<FFE0000000
FFE0000000FFE00000000FE00000000FE00000000FE00000000FE00000000FE00000000F
E00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE0
7F00000FE1FFC0000FE787E0000FEE03F0000FF803F0000FF803F8000FF003F8000FF003
F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F800
0FE003F8000FE003F800FFFE3FFF80FFFE3FFF80FFFE3FFF80212A7DA926>I<07000F80
1FC03FE03FE03FE01FC00F8007000000000000000000000000000000FFE0FFE0FFE00FE0
0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE0FFFEFFFEFFFE0F2B7DAA14>I<FFE00000FFE00000FFE000000FE000000FE000
000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000
000FE000000FE01FFC0FE01FFC0FE01FFC0FE007800FE00F000FE01E000FE03C000FE078
000FE0E0000FE3C0000FE7C0000FEFE0000FFFE0000FFFF0000FF3F8000FE3F8000FC1FC
000FC0FE000FC07F000FC07F000FC03F800FC01FC00FC00FC00FC00FE0FFFC3FFEFFFC3F
FEFFFC3FFE1F2A7EA924>107 D<FFE0FFE0FFE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0FFFEFFFEFFFE0F2A7DA914>I<FFC07F
800FF000FFC1FFE03FFC00FFC383F0707E000FC603F8C07F000FCC01F9803F000FD801FF
003F800FF001FE003F800FF001FE003F800FE001FC003F800FE001FC003F800FE001FC00
3F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F
800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F80
0FE001FC003F800FE001FC003F800FE001FC003F80FFFE1FFFC3FFF8FFFE1FFFC3FFF8FF
FE1FFFC3FFF8351B7D9A3A>I<FFC07F0000FFC1FFC000FFC787E0000FCE03F0000FD803
F0000FD803F8000FF003F8000FF003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F800
0FE003F8000FE003F8000FE003F8000FE003F8000FE003F800FFFE3FFF80FFFE3FFF80FF
FE3FFF80211B7D9A26>I<003FE00001FFFC0003F07E000FC01F801F800FC03F800FE03F
0007E07F0007F07F0007F07F0007F0FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF
0007F8FF0007F8FF0007F87F0007F07F0007F03F800FE03F800FE01F800FC00FC01F8007
F07F0001FFFC00003FE0001D1B7E9A22>I<FFE1FE0000FFE7FF8000FFFE07E0000FF803
F0000FF001F8000FE000FC000FE000FE000FE000FF000FE0007F000FE0007F000FE0007F
800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F00
0FE000FF000FE000FF000FE000FE000FE001FC000FF001F8000FF803F0000FFE0FE0000F
EFFF80000FE1FC00000FE00000000FE00000000FE00000000FE00000000FE00000000FE0
0000000FE00000000FE00000000FE0000000FFFE000000FFFE000000FFFE00000021277E
9A26>I<FFC1F0FFC7FCFFCE3E0FD87F0FD87F0FF07F0FF03E0FF01C0FE0000FE0000FE0
000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0
000FE000FFFF00FFFF00FFFF00181B7E9A1C>114 D<03FE300FFFF01E03F03800F07000
70F00070F00070F80070FE0000FFE0007FFE007FFF803FFFE01FFFF007FFF800FFF80007
FC6000FCE0007CE0003CF0003CF00038F80038FC0070FF01E0F7FFC0C1FF00161B7E9A1B
>I<00700000700000700000700000F00000F00000F00001F00003F00003F00007F0001F
FFF0FFFFF0FFFFF007F00007F00007F00007F00007F00007F00007F00007F00007F00007
F00007F00007F00007F00007F03807F03807F03807F03807F03807F03803F03803F87001
F86000FFC0001F8015267FA51B>I<FFE03FF800FFE03FF800FFE03FF8000FE003F8000F
E003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003
F8000FE003F8000FE003F8000FE007F80007E007F80007E00FF80003F03BFF8001FFF3FF
80003FC3FF80211B7D9A26>I<FFFC3FFC0FFEFFFC3FFC0FFEFFFC3FFC0FFE0FE007E000
E007F003F001C007F003F001C007F807F803C003F807F8038003F807F8038001FC0EFC07
0001FC0EFC070001FC1EFE0F0000FE1C7E0E0000FE1C7E0E0000FF383F1E00007F383F1C
00007F783F1C00003FF01FB800003FF01FB800003FE00FF800001FE00FF000001FE00FF0
00000FC007E000000FC007E000000FC007E00000078003C00000078003C0002F1B7F9A32
>119 D<FFFC0FFF00FFFC0FFF00FFFC0FFF0007F003C00003F803800001FC07800000FE
0F000000FF1E0000007F3C0000003FF80000001FF00000001FF00000000FF000000007F0
00000007F80000000FFC0000001FFE0000001EFE0000003C7F000000783F800000F01FC0
0001E01FE00003C00FE00003C007F000FFF01FFF80FFF01FFF80FFF01FFF80211B7F9A24
>I<FFFE03FF80FFFE03FF80FFFE03FF800FF000780007F000700007F800F00003F800E0
0003FC01E00001FC01C00001FC01C00000FE03800000FE03800000FF078000007F070000
007F8F0000003F8E0000003FCE0000001FDC0000001FDC0000000FF80000000FF8000000
0FF800000007F000000007F000000003E000000003E000000001C000000001C000000003
800000000380000038078000007C07000000FE0F000000FE0E000000FE1C000000FE3C00
00007C780000003FE00000000F8000000021277F9A24>I E /Fk
35 122 df<70F8FCFC7404040404080810102040060F7C840E>44
D<70F8F8F87005057C840E>46 D<008003800F80F3800380038003800380038003800380
038003800380038003800380038003800380038003800380038003800380038003800380
0380038007C0FFFE0F217CA018>49 D<03F0000C1C001007002007804003C04003C08003
E0F003E0F801E0F801E0F801E02003E00003E00003C00003C0000780000700000E00001C
0000180000300000600000C0000180000100000200200400200800201800603000403FFF
C07FFFC0FFFFC013217EA018>I<03F8000C1E00100F002007804007C07807C07803C078
07C03807C0000780000780000700000F00000C0000380003F000001C00000F0000078000
07800003C00003C00003E02003E07003E0F803E0F803E0F003C04003C040078020078010
0F000C1C0003F00013227EA018>I<1000801E07001FFF001FFE001FF80017E000100000
10000010000010000010000010000011F800120C001C07001803801003800001C00001C0
0001E00001E00001E00001E07001E0F001E0F001E0E001C08001C04003C0400380200700
1006000C1C0003F00013227EA018>53 D<01F000060C000C060018070038038070038070
0380F001C0F001C0F001C0F001E0F001E0F001E0F001E0F001E07001E07003E03803E018
05E00C05E00619E003E1E00001C00001C00001C000038000038030038078070078060070
0C002018001030000FC00013227EA018>57 D<FFFFF8000F800E0007800780078003C007
8003E0078001E0078001F0078001F0078001F0078001F0078001F0078001E0078003E007
8007C007800F8007803E0007FFFE0007800780078003C0078001E0078001F0078000F007
8000F8078000F8078000F8078000F8078000F8078000F8078001F0078001F0078003E007
8007C00F800F00FFFFFC001D227EA123>66 D<FFFFF0000F801E00078007000780038007
8001C0078000E0078000F007800078078000780780007C0780003C0780003C0780003C07
80003E0780003E0780003E0780003E0780003E0780003E0780003E0780003E0780003E07
80003C0780003C0780007C0780007807800078078000F0078000E0078001E0078003C007
8007000F801E00FFFFF0001F227EA125>68 D<0007F008003C0C1800E0021801C001B803
8000F8070000780F0000381E0000381E0000183C0000183C0000187C0000087800000878
000008F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8001FFF78
0000F8780000787C0000783C0000783C0000781E0000781E0000780F0000780700007803
8000B801C000B800E00318003C0C080007F00020247DA226>71 D<FFFC3FFF0FC003F007
8001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E007
8001E0078001E0078001E0078001E0078001E007FFFFE0078001E0078001E0078001E007
8001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E007
8001E0078001E0078001E00FC003F0FFFC3FFF20227EA125>I<03FFE0001F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00700F00F8
0F00F80F00F80E00F01E00401C0020380018700007C00013237EA119>74
D<FFFC00FF800FC0007C0007800030000780002000078000400007800080000780010000
078002000007800400000780080000078010000007802000000780400000078080000007
81C000000783E000000785E000000788F000000790F0000007A078000007C03C00000780
3C000007801E000007800F000007800F00000780078000078007C000078003C000078001
E000078001E000078000F000078000F8000FC000FC00FFFC07FF8021227EA126>I<FFC0
0003FF0FC00003F007C00003E005E00005E005E00005E004F00009E004F00009E004F000
09E004780011E004780011E004780011E0043C0021E0043C0021E0043C0021E0041E0041
E0041E0041E0040F0081E0040F0081E0040F0081E004078101E004078101E004078101E0
0403C201E00403C201E00401E401E00401E401E00401E401E00400F801E00400F801E004
00F801E004007001E00E007001E01F007003F0FFE0203FFF28227EA12D>77
D<FF8007FF07C000F807C0007005E0002004F0002004F0002004780020047C0020043C00
20041E0020041F0020040F002004078020040780200403C0200401E0200401E0200400F0
200400F8200400782004003C2004003E2004001E2004000F2004000F20040007A0040003
E0040003E0040001E0040001E0040000E00E0000601F000060FFE0002020227EA125>I<
FFFFF0000F803C0007800F0007800780078007C0078003C0078003E0078003E0078003E0
078003E0078003E0078003E0078003C0078007C00780078007800F0007803C0007FFF000
078000000780000007800000078000000780000007800000078000000780000007800000
07800000078000000780000007800000078000000FC00000FFFC00001B227EA121>80
D<FFFFE000000F803C000007800E00000780078000078007C000078003C000078003E000
078003E000078003E000078003E000078003E000078003C000078007C000078007800007
800E000007803C000007FFE000000780700000078038000007801C000007801E00000780
0E000007800F000007800F000007800F000007800F000007800F800007800F800007800F
800007800F808007800FC080078007C0800FC003C100FFFC01E2000000007C0021237EA1
24>82 D<7FFFFFF87807807860078018400780084007800840078008C007800C80078004
800780048007800480078004000780000007800000078000000780000007800000078000
000780000007800000078000000780000007800000078000000780000007800000078000
000780000007800000078000000780000007800000078000000FC00001FFFE001E227EA1
23>84 D<FFF03FFC03FE1F8007E000F80F0003C000700F0003C000200F0001E000200780
01E00040078001E00040078003F0004003C002F0008003C002F0008003C002F0008003E0
0478018001E00478010001E00478010001E0083C010000F0083C020000F0083C020000F0
101E02000078101E04000078101E04000078200F0400003C200F0800003C200F0800003C
600F8800001E40079000001E40079000001E4007D000001F8003F000000F8003E000000F
8003E000000F0001E00000070001C00000070001C00000060000C0000002000080002F23
7FA132>87 D<1FE000303800780C00780E0030070000070000070000070000FF0007C700
1E07003C0700780700700700F00708F00708F00708F00F087817083C23900FC1E015157E
9418>97 D<0E0000FE00001E00000E00000E00000E00000E00000E00000E00000E00000E
00000E00000E00000E00000E1F000E61C00E80600F00300E00380E003C0E001C0E001E0E
001E0E001E0E001E0E001E0E001E0E001E0E001C0E003C0E00380F00700C80600C41C008
3F0017237FA21B>I<01FE000703000C07801C0780380300780000700000F00000F00000
F00000F00000F00000F00000F000007000007800403800401C00800C010007060001F800
12157E9416>I<01FC000707000C03801C01C03801C07801E07000E0F000E0FFFFE0F000
00F00000F00000F00000F000007000007800203800201C00400E008007030000FC001315
7F9416>101 D<00007003F1980E1E181C0E183807003807007807807807807807807807
803807003807001C0E001E1C0033F0002000002000003000003800003FFE001FFFC00FFF
E03000F0600030C00018C00018C00018C000186000306000303800E00E038003FE001521
7F9518>103 D<1C003E003E003E001C00000000000000000000000000000000000E007E
001E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
00FFC00A227FA10E>105 D<0E00FE001E000E000E000E000E000E000E000E000E000E00
0E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00
0E000E000E000E00FFE00B237FA20E>108 D<0E1FC07F00FE60E183801E807201C00F00
3C00E00F003C00E00E003800E00E003800E00E003800E00E003800E00E003800E00E0038
00E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800
E00E003800E00E003800E0FFE3FF8FFE27157F942A>I<0E1F80FE60C01E80E00F00700F
00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E0070FFE7FF18157F941B>I<01FC000707000C01801800C03800E0
700070700070F00078F00078F00078F00078F00078F00078F000787000707800F03800E0
1C01C00E038007070001FC0015157F9418>I<0E3CFE461E8F0F0F0F060F000E000E000E
000E000E000E000E000E000E000E000E000E000E000F00FFF010157F9413>114
D<0F8830786018C018C008C008E008F0007F003FE00FF001F8003C801C800C800CC00CC0
08E018D0308FC00E157E9413>I<02000200020002000600060006000E001E003E00FFFC
0E000E000E000E000E000E000E000E000E000E000E000E040E040E040E040E040E040708
030801F00E1F7F9E13>I<0E0070FE07F01E00F00E00700E00700E00700E00700E00700E
00700E00700E00700E00700E00700E00700E00700E00700E00F00E00F006017003827800
FC7F18157F941B>I<FF8FF87F3E01E03C1C01C0181C01E0180E01E0100E0260100E0270
10070270200704302007043820038438400388184003881C4001C81C8001D00C8001D00E
8000F00F0000E0070000E00700006006000040020020157F9423>119
D<FF80FE1E00781E00300E00200E00200700400700400780C003808003808001C10001C1
0000E20000E20000E2000074000074000038000038000038000010000010000020000020
00002000004000F04000F08000F180004300003C0000171F7F941A>121
D E /Fl 87 127 df<007E1F0001C1B1800303E3C00703C3C00E03C1800E01C0000E01C0
000E01C0000E01C0000E01C0000E01C000FFFFFC000E01C0000E01C0000E01C0000E01C0
000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0
000E01C0000E01C0000E01C0007F87FC001A1D809C18>11 D<007E0001C1800301800703
C00E03C00E01800E00000E00000E00000E00000E0000FFFFC00E01C00E01C00E01C00E01
C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01
C07F87F8151D809C17>I<007FC001C1C00303C00703C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C0FFFFC00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C07FCFF8151D809C17>I<003F07
E00001C09C18000380F018000701F03C000E01E03C000E00E018000E00E000000E00E000
000E00E000000E00E000000E00E00000FFFFFFFC000E00E01C000E00E01C000E00E01C00
0E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E
00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C007FC7FCFF80211D
809C23>I<6060F0F0F8F86868080808080808101010102020404080800D0C7F9C15>34
D<0080008007E01898308460824081C087C08FC08FC086E08070807E803FC01FF00FF803
FC00BE008E00876087F083F083E0838082408240842088189007E00080008010217E9E15
>36 D<00E000000310000006080000060800000E0800000E0800000E0800000E0800000E
1000000E1000000E2000000740000007403FE007800F8007800600038004000780040009
C0080011C0100030E0100020F0200060702000E0384000E03C8000E01C8000E00F0020E0
070020700780403009C0401830E1800FC03F001B1F7E9D20>38 D<60F0F8680808081010
204080050C7C9C0C>I<00800100020006000C000C001800180030003000300060006000
60006000E000E000E000E000E000E000E000E000E000E000E000E0006000600060006000
300030003000180018000C000C000600020001000080092A7C9E10>I<80004000200030
00180018000C000C00060006000600030003000300030003800380038003800380038003
800380038003800380038003000300030003000600060006000C000C0018001800300020
0040008000092A7E9E10>I<000600000006000000060000000600000006000000060000
00060000000600000006000000060000000600000006000000060000FFFFFFE0FFFFFFE0
000600000006000000060000000600000006000000060000000600000006000000060000
000600000006000000060000000600001B1C7E9720>43 D<60F0F0701010101020204080
040C7C830C>I<FFE0FFE00B0280890E>I<60F0F06004047C830C>I<0001000300060006
0006000C000C000C0018001800180030003000300060006000C000C000C0018001800180
030003000300060006000C000C000C00180018001800300030003000600060006000C000
C00010297E9E15>I<03C00C301818300C300C700E60066006E007E007E007E007E007E0
07E007E007E007E007E007E007E00760066006700E300C300C18180C3007E0101D7E9B15
>I<010007003F00C7000700070007000700070007000700070007000700070007000700
0700070007000700070007000700070007000700FFF80D1C7C9B15>I<07C01830201C40
0C400EF00FF80FF807F8077007000F000E000E001C001C00380070006000C00180030006
010C01180110023FFE7FFEFFFE101C7E9B15>I<07E01830201C201C781E780E781E381E
001C001C00180030006007C00030001C001C000E000F000F700FF80FF80FF80FF00E401C
201C183007C0101D7E9B15>I<000C00000C00001C00003C00003C00005C0000DC00009C
00011C00031C00021C00041C000C1C00081C00101C00301C00201C00401C00C01C00FFFF
C0001C00001C00001C00001C00001C00001C00001C0001FFC0121C7F9B15>I<300C3FF8
3FF03FC020002000200020002000200023E02C303018301C200E000E000F000F000F600F
F00FF00FF00F800E401E401C2038187007C0101D7E9B15>I<00F0030C04040C0E181E30
1E300C700070006000E3E0E430E818F00CF00EE006E007E007E007E007E0076007600770
06300E300C18180C3003E0101D7E9B15>I<4000007FFF807FFF007FFF00400200800400
80040080080000100000100000200000600000400000C00000C00001C000018000018000
038000038000038000038000078000078000078000078000078000078000030000111D7E
9B15>I<03E00C301008200C200660066006700670067C0C3E183FB01FE007F007F818FC
307E601E600FC007C003C003C003C00360026004300C1C1007E0101D7E9B15>I<03C00C
301818300C700C600EE006E006E007E007E007E007E0076007700F300F18170C2707C700
060006000E300C780C78187018203010C00F80101D7E9B15>I<60F0F060000000000000
0000000060F0F06004127C910C>I<60F0F0600000000000000000000060F0F070101010
1020204080041A7C910C>I<7FFFFFC0FFFFFFE000000000000000000000000000000000
00000000000000000000000000000000FFFFFFE07FFFFFC01B0C7E8F20>61
D<0FE03038401CE00EF00EF00EF00E000C001C0030006000C00080018001000100010001
00010001000000000000000000000003000780078003000F1D7E9C14>63
D<000600000006000000060000000F0000000F0000000F000000178000001780000037C0
000023C0000023C0000043E0000041E0000041E0000080F0000080F0000080F000010078
000100780001FFF80002003C0002003C0002003C0004001E0004001E000C001F000C000F
001E001F00FF00FFF01C1D7F9C1F>65 D<FFFFC0000F0078000F003C000F001E000F000E
000F000F000F000F000F000F000F000F000F000E000F001E000F003C000F00F8000FFFF0
000F003C000F001E000F000F000F0007000F0007800F0007800F0007800F0007800F0007
800F000F000F000F000F001E000F007800FFFFE000191C7F9B1D>I<001F808000E06180
01801980070007800E0003801C0003801C00018038000180780000807800008070000080
F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000000070000080
7800008078000080380000801C0001001C0001000E000200070004000180080000E03000
001FC000191E7E9C1E>I<FFFFC0000F00F0000F003C000F000E000F0007000F0007000F
0003800F0003C00F0001C00F0001C00F0001E00F0001E00F0001E00F0001E00F0001E00F
0001E00F0001E00F0001E00F0001C00F0001C00F0003C00F0003800F0007800F0007000F
000E000F001C000F007000FFFFC0001B1C7E9B20>I<FFFFFC0F003C0F000C0F00040F00
040F00060F00020F00020F01020F01000F01000F01000F03000FFF000F03000F01000F01
000F01000F01010F00010F00020F00020F00020F00060F00060F000C0F003CFFFFFC181C
7E9B1C>I<FFFFF80F00780F00180F00080F00080F000C0F00040F00040F01040F01000F
01000F01000F03000FFF000F03000F01000F01000F01000F01000F00000F00000F00000F
00000F00000F00000F00000F0000FFF800161C7E9B1B>I<001F808000E0618001801980
070007800E0003801C0003801C00018038000180780000807800008070000080F0000000
F0000000F0000000F0000000F0000000F0000000F000FFF0F0000F807000078078000780
78000780380007801C0007801C0007800E00078007000B800180118000E06080001F8000
1C1E7E9C21>I<FFF0FFF00F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000FFFFF000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F00FFF0FFF01C1C7F9B1F>I<FFF00F000F000F000F000F000F000F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
FFF00C1C7F9B0F>I<07FF80007C00003C00003C00003C00003C00003C00003C00003C00
003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00
703C00F83C00F83C00F8380070780040700030E0000F8000111D7F9B15>I<FFF01FE00F
0007800F0006000F0004000F0008000F0010000F0020000F0040000F0080000F0100000F
0200000F0600000F0F00000F1780000F2780000F43C0000F81E0000F01E0000F00F0000F
0078000F0078000F003C000F003E000F001E000F000F000F000F800F000FC0FFF03FF01C
1C7F9B20>I<FFF8000F80000F00000F00000F00000F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00000F00080F00080F00080F0018
0F00180F00100F00300F00700F01F0FFFFF0151C7E9B1A>I<FF8000FF800F8000F8000F
8000F8000BC00178000BC00178000BC001780009E002780009E002780008F004780008F0
04780008F0047800087808780008780878000878087800083C107800083C107800083C10
7800081E207800081E207800081E207800080F407800080F407800080780780008078078
00080780780008030078001C03007800FF8307FF80211C7E9B26>I<FF001FF00F800380
0FC001000BC0010009E0010008F0010008F0010008780100083C0100083E0100081E0100
080F0100080F8100080781000803C1000801E1000801F1000800F1000800790008007D00
08003D0008001F0008001F0008000F0008000700080003001C000300FF8001001C1C7F9B
1F>I<003F800000E0E0000380380007001C000E000E001C0007003C0007803800038078
0003C0780003C0700001C0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F0
0001E0F00001E0700001C0780003C0780003C0380003803C0007801C0007000E000E0007
001C000380380000E0E000003F80001B1E7E9C20>I<FFFF800F00E00F00780F003C0F00
1C0F001E0F001E0F001E0F001E0F001E0F001C0F003C0F00780F00E00FFF800F00000F00
000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000FFF000171C
7E9B1C>I<003F800000E0E0000380380007001C000E000E001C0007003C000780380003
80780003C0780003C0700001C0F00001E0F00001E0F00001E0F00001E0F00001E0F00001
E0F00001E0F00001E0700001C0780003C0780003C0380003803C0E07801C1107000E208E
0007205C0003A0780000F0E020003FE0200000602000003060000038E000003FC000003F
C000001F8000000F001B257E9C20>I<FFFF00000F01E0000F0078000F003C000F001C00
0F001E000F001E000F001E000F001E000F001C000F003C000F0078000F01E0000FFF0000
0F01E0000F0070000F0078000F003C000F003C000F003C000F003C000F003C000F003C00
0F003C100F003C100F001C100F001C10FFF00E20000003C01C1D7E9B1F>I<07E0801C19
80300580300380600180E00180E00080E00080E00080F00000F800007C00007FC0003FF8
001FFE0007FF0000FF80000F800007C00003C00001C08001C08001C08001C0C00180C001
80E00300D00200CC0C0083F800121E7E9C17>I<7FFFFFC0700F01C0600F00C0400F0040
400F0040C00F0020800F0020800F0020800F0020000F0000000F0000000F0000000F0000
000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000
000F0000000F0000000F0000000F0000001F800003FFFC001B1C7F9B1E>I<FFF01FF00F
0003800F0001000F0001000F0001000F0001000F0001000F0001000F0001000F0001000F
0001000F0001000F0001000F0001000F0001000F0001000F0001000F0001000F0001000F
0001000F0001000F00010007000200078002000380040001C0040000E018000070600000
0F80001C1D7F9B1F>I<FFE00FF01F0003C01F0001800F0001000F000100078002000780
020007C0020003C0040003C0040003E00C0001E0080001E0080000F0100000F0100000F8
10000078200000782000003C4000003C4000003C4000001E8000001E8000001F8000000F
0000000F00000006000000060000000600001C1D7F9B1F>I<FFE1FFC0FF1F003E003C1E
003C00180F001E00100F001E00100F001E001007801F002007801F002007801F002003C0
27804003C027804003C027804001E043C08001E043C08001E043C08000F081E10000F081
E10000F081E10000F900F300007900F200007900F200007E007E00003E007C00003E007C
00003C003C00001C003800001C00380000180018000008001000281D7F9B2B>I<FFF07F
C00FC01E0007800C0007C0080003C0100001E0200001F0200000F0400000788000007C80
00003D0000003E0000001F0000000F0000000F8000000F80000013C0000023E0000021E0
000040F0000080F8000080780001007C0002003E0002001E0006001F001F001F80FF807F
F01C1C7F9B1F>I<FFF003FC0F8001E0078000C007C0008003C0010003E0030001E00200
00F0040000F8040000780800007C1800003C1000003E2000001F2000000F4000000FC000
000780000007800000078000000780000007800000078000000780000007800000078000
0007800000078000007FF8001E1C809B1F>I<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE07297C9E0C>91
D<08081010202040404040808080808080B0B0F8F8787830300D0C7A9C15>I<FEFE0606
0606060606060606060606060606060606060606060606060606060606060606060606FE
FE0729809E0C>I<0810204040808080B0F87830050C7D9C0C>96
D<1FC000307000783800781C00301C00001C00001C0001FC000F1C00381C00701C00601C
00E01C40E01C40E01C40603C40304E801F870012127E9115>I<FC00001C00001C00001C
00001C00001C00001C00001C00001C00001C00001C00001C7C001D87001E01801C00C01C
00E01C00601C00701C00701C00701C00701C00701C00701C00601C00E01C00C01E018019
070010FC00141D7F9C17>I<03F80C0C181E301E700C6000E000E000E000E000E000E000
60007002300218040C1803E00F127F9112>I<001F800003800003800003800003800003
8000038000038000038000038000038003F3800E0B80180780300380700380600380E003
80E00380E00380E00380E00380E003806003807003803003801807800E1B8003E3F0141D
7F9C17>I<07E00C301818300C700E6006E006FFFEE000E000E000E00060007002300218
040C1803E00F127F9112>I<00F8018C071E061E0E0C0E000E000E000E000E000E00FFE0
0E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E007FE00F1D
809C0D>I<00038007C4C01C78C0383880301800701C00701C00701C00701C0030180038
38001C700027C0002000002000003000003FF8001FFF001FFF802003806001C0C000C0C0
00C0C000C06001803003001C0E0007F800121C7F9215>I<FC00001C00001C00001C0000
1C00001C00001C00001C00001C00001C00001C00001C7C001C87001D03001E03801C0380
1C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380
FF9FF0141D7F9C17>I<18003C003C0018000000000000000000000000000000FC001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091D7F9C
0C>I<00C001E001E000C0000000000000000000000000000007E000E000E000E000E000
E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E060E0F0C0F1
C061803E000B25839C0D>I<FC00001C00001C00001C00001C00001C00001C00001C0000
1C00001C00001C00001C0FE01C07801C06001C0C001C10001C20001C40001CE0001DE000
1E70001C78001C38001C3C001C1C001C0E001C0F001C0F80FF9FE0131D7F9C16>I<FC00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C00FF80091D7F9C0C>I<FC7E07E0001C838838
001D019018001E01E01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C00
1C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C
01C01C00FF8FF8FF8021127F9124>I<FC7C001C87001D03001E03801C03801C03801C03
801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380FF9FF01412
7F9117>I<03F0000E1C00180600300300700380600180E001C0E001C0E001C0E001C0E0
01C0E001C06001807003803003001806000E1C0003F00012127F9115>I<FC7C001D8700
1E01801C01C01C00E01C00E01C00701C00701C00701C00701C00701C00701C00E01C00E0
1C01C01E01801D07001CFC001C00001C00001C00001C00001C00001C00001C0000FF8000
141A7F9117>I<03E0800E1980180580380780700380700380E00380E00380E00380E003
80E00380E003807003807003803807801807800E1B8003E3800003800003800003800003
80000380000380000380001FF0141A7F9116>I<FCE01D381E781E781C301C001C001C00
1C001C001C001C001C001C001C001C001C00FFC00D127F9110>I<1F9020704030C010C0
10E010F8007F803FE00FF000F880388018C018C018E010D0608FC00D127F9110>I<0400
0400040004000C000C001C003C00FFE01C001C001C001C001C001C001C001C001C001C10
1C101C101C101C100C100E2003C00C1A7F9910>I<FC1F801C03801C03801C03801C0380
1C03801C03801C03801C03801C03801C03801C03801C03801C03801C07800C07800E1B80
03E3F014127F9117>I<FF07E03C03801C01001C01000E02000E02000F06000704000704
0003880003880003C80001D00001D00000E00000E00000E00000400013127F9116>I<FF
3FC7E03C0703C01C0701801C0701001C0B01000E0B82000E0B82000E1182000711C40007
11C4000720C40003A0E80003A0E80003C0680001C0700001C0700001803000008020001B
127F911E>I<FF0FE01E07001C06000E040007080003900003B00001E00000E00000F000
01F000013800021C00041C000C0E001807003C0780FE1FF014127F9116>I<FF07E03C03
801C01001C01000E02000E02000F060007040007040003880003880003C80001D00001D0
0000E00000E00000E000004000004000008000008000F08000F10000F300006600003800
00131A7F9116>I<7FFC70386038407040F040E041C003C0038007000F040E041C043C0C
380870087038FFF80E127F9112>I<FFFFF01401808B15>I<FFFFFFFFFF802901808B2A>
I<1C043F0843F080E00E047D9B15>126 D E /Fm 13 122 df<0000001FFF0000300000
01FFFFE000F000000FFFFFFC01F000007FFFFFFE03F00001FFFE007F87F00003FFE0000F
CFF0000FFF000003FFF0001FFC000001FFF0003FF80000007FF0007FF00000003FF000FF
C00000003FF001FFC00000001FF003FF800000000FF007FF000000000FF00FFF00000000
07F00FFE0000000007F01FFE0000000003F01FFE0000000003F03FFC0000000003F03FFC
0000000001F03FFC0000000001F07FFC0000000001F07FF80000000001F07FF800000000
00007FF8000000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF8
000000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF800000000
0000FFF8000000000000FFF8000000000000FFF80000000000007FF80000000000007FF8
0000000000007FF80000000000007FFC0000000000F03FFC0000000000F03FFC00000000
00F03FFC0000000000F01FFE0000000000F01FFE0000000001E00FFE0000000001E00FFF
0000000001E007FF0000000003C003FF8000000003C001FFC0000000078000FFE0000000
0F00007FF00000001F00003FF80000003E00001FFC0000007C00000FFF000001F8000003
FFE00007F0000001FFFE003FC00000007FFFFFFF000000000FFFFFFC0000000001FFFFF0
00000000001FFF0000003C3D7BBB47>67 D<FFFFFFFFFC00000000FFFFFFFFFFE0000000
FFFFFFFFFFFC000000FFFFFFFFFFFF000000007FF8000FFFC00000007FF80001FFE00000
007FF800007FF80000007FF800003FFC0000007FF800001FFC0000007FF800001FFE0000
007FF800001FFF0000007FF800000FFF0000007FF800000FFF0000007FF800000FFF8000
007FF800000FFF8000007FF800000FFF8000007FF800000FFF8000007FF800000FFF8000
007FF800000FFF8000007FF800000FFF0000007FF800000FFF0000007FF800001FFE0000
007FF800001FFE0000007FF800001FFC0000007FF800003FF80000007FF800007FF00000
007FF80001FFE00000007FF8000FFF800000007FFFFFFFFE000000007FFFFFFFF0000000
007FFFFFFFF0000000007FF8003FFC000000007FF8000FFE000000007FF80007FF000000
007FF80003FF800000007FF80001FFC00000007FF80001FFE00000007FF80000FFE00000
007FF80000FFE00000007FF80000FFF00000007FF80000FFF00000007FF80000FFF00000
007FF80000FFF00000007FF80000FFF00000007FF80000FFF80000007FF80000FFF80000
007FF80000FFF80000007FF80000FFF80000007FF80000FFF80000007FF80000FFF80078
007FF80000FFF80078007FF800007FFC0078007FF800007FFC0078007FF800007FFC00F0
007FF800003FFE00F0FFFFFFFC001FFF01E0FFFFFFFC000FFF83E0FFFFFFFC0003FFFFC0
FFFFFFFC0000FFFF000000000000000FFC00453C7CBA4A>82 D<0003FF800180001FFFF0
0380007FFFFC078001FFFFFF0F8003FE00FF9F8007F0000FFF800FE00003FF801FC00001
FF803F8000007F803F8000007F807F0000003F807F0000001F807F0000001F80FF000000
0F80FF0000000F80FF0000000F80FF8000000780FF8000000780FFC000000780FFE00000
0780FFF8000000007FFE000000007FFFF00000007FFFFF0000003FFFFFF800003FFFFFFF
00001FFFFFFFC0000FFFFFFFF00007FFFFFFF80003FFFFFFFC0001FFFFFFFE00007FFFFF
FF00003FFFFFFF800007FFFFFF8000007FFFFFC0000007FFFFC00000003FFFE000000003
FFE000000000FFF0000000007FF0000000003FF0700000001FF0F00000001FF0F0000000
1FF0F00000000FF0F00000000FF0F80000000FF0F80000000FE0F80000000FE0FC000000
0FE0FC0000001FC0FE0000001FC0FF0000001F80FFC000003F80FFF000007F00FFFC0001
FE00FCFFC007FC00F87FFFFFF000F01FFFFFE000E003FFFF8000C0003FFC00002C3D7BBB
37>I<001FFF80000001FFFFF0000003FFFFFC000007F003FF00000FF800FF80001FFC00
7FC0001FFC003FE0001FFC003FF0001FFC001FF0000FF8001FF8000FF8001FF80007F000
1FF80001C0001FF8000000001FF8000000001FF8000000001FF8000000FFFFF800000FFF
FFF800007FFC1FF80001FFC01FF80007FE001FF8000FFC001FF8001FF0001FF8003FF000
1FF8007FE0001FF8007FE0001FF800FFC0001FF800FFC0001FF800FFC0001FF800FFC000
1FF800FFC0003FF8007FE0003FF8007FE0006FF8003FF001CFFC001FFC0787FFF007FFFF
07FFF001FFFC03FFF0003FF0007FF02C267DA530>97 D<0000FFF000000FFFFF00003FFF
FF8000FFC01FC001FF003FE003FC007FF007FC007FF00FF8007FF01FF0007FF01FF0003F
E03FF0003FE03FF0001FC07FE00007007FE00000007FE0000000FFE0000000FFE0000000
FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE00000007FE00000007F
E00000007FF00000003FF00000003FF00000001FF00000781FF80000780FF80000F007FC
0000F003FE0001E001FF8007C000FFE01F80003FFFFF00000FFFFC000000FFC00025267D
A52C>99 D<0001FF8000000FFFF800003FFFFE0000FF80FF0001FE003F8007FC001FC00F
F8000FE00FF8000FF01FF00007F03FF00007F83FF00007F87FE00007F87FE00003FC7FE0
0003FC7FE00003FCFFE00003FCFFFFFFFFFCFFFFFFFFFCFFFFFFFFFCFFE0000000FFE000
0000FFE0000000FFE00000007FE00000007FE00000007FE00000003FE00000003FF00000
3C1FF000003C1FF000003C0FF800007807FC0000F803FE0001F001FF0007E000FFC03FC0
003FFFFF000007FFFC000000FFE00026267DA52D>101 D<00FF00000000FFFF00000000
FFFF00000000FFFF00000000FFFF0000000007FF0000000003FF0000000003FF00000000
03FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF00000000
03FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF00000000
03FF0000000003FF0000000003FF007FC00003FF01FFF80003FF07FFFC0003FF0F03FE00
03FF1C01FF0003FF3001FF8003FF6000FF8003FFE000FFC003FFC000FFC003FF8000FFC0
03FF8000FFC003FF8000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC0
03FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC0
03FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC0
03FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC0
FFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFF303C7CBB37>104
D<00FE003FE00007FC0000FFFE01FFFC003FFF8000FFFE07FFFE00FFFFC000FFFE0F81FF
01F03FE000FFFE1C00FF83801FF00007FE3800FFC7001FF80003FE60007FCC000FF80003
FEE0007FFC000FFC0003FEC0007FF8000FFC0003FF80007FF0000FFC0003FF80007FF000
0FFC0003FF80007FF0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00
007FE0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC
0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00007F
E0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003
FF00007FE0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00007FE000
0FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00007FE0000FFC0003FF00
007FE0000FFC0003FF00007FE0000FFC00FFFFFC1FFFFF83FFFFF0FFFFFC1FFFFF83FFFF
F0FFFFFC1FFFFF83FFFFF0FFFFFC1FFFFF83FFFFF04C267CA553>109
D<00FE007FC000FFFE01FFF800FFFE07FFFC00FFFE0F03FE00FFFE1C01FF0007FE3001FF
8003FE6000FF8003FEE000FFC003FEC000FFC003FF8000FFC003FF8000FFC003FF8000FF
C003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FF
C003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FF
C003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FF
C003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC0FFFFFC3FFFFFFFFFFC3FFF
FFFFFFFC3FFFFFFFFFFC3FFFFF30267CA537>I<00FE01FC00FFFE07FF00FFFE0FFF80FF
FE1E1FC0FFFE383FE007FE707FF003FE607FF003FEC07FF003FEC07FF003FFC03FE003FF
803FE003FF801FC003FF80070003FF00000003FF00000003FF00000003FF00000003FF00
000003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF0000
0003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF000000
03FF00000003FF000000FFFFFE0000FFFFFE0000FFFFFE0000FFFFFE000024267EA529>
114 D<003FF83801FFFEF807FFFFF80FC00FF81F0003F83E0000F87C0000F87C000078FC
000078FC000078FE000078FF800000FFF00000FFFF80007FFFFC007FFFFF003FFFFFC01F
FFFFE00FFFFFF007FFFFF801FFFFFC003FFFFE0001FFFE00000FFF000001FF7000007FF0
00007FF000003FF800003FF800003EFC00003EFE00003EFF00007CFF8000F8FFF007F0FD
FFFFE0F0FFFF80E01FFC0020267DA527>I<000F0000000F0000000F0000000F0000000F
0000001F0000001F0000001F0000001F0000003F0000003F0000007F0000007F000000FF
000001FF000003FF000007FF00001FFFFFF0FFFFFFF0FFFFFFF0FFFFFFF003FF000003FF
000003FF000003FF000003FF000003FF000003FF000003FF000003FF000003FF000003FF
000003FF000003FF000003FF000003FF000003FF000003FF000003FF000003FF000003FF
003C03FF003C03FF003C03FF003C03FF003C03FF003C03FF003C03FF003C01FF007801FF
807800FF80F0007FC1E0003FFFC0000FFF800001FE001E377EB626>I<FFFFF800FFFEFF
FFF800FFFEFFFFF800FFFEFFFFF800FFFE03FF00000FC003FF80000F8001FF80000F0001
FFC0001F0000FFC0001E0000FFE0003E00007FE0003C00007FF0003C00003FF000780000
3FF0007800003FF800F800001FF800F000001FFC01F000000FFC01E000000FFE03E00000
07FE03C0000007FF07C0000003FF0780000003FF8F80000001FF8F00000001FFCF000000
00FFDE00000000FFDE00000000FFFE000000007FFC000000007FFC000000003FF8000000
003FF8000000001FF0000000001FF0000000000FE0000000000FE00000000007C0000000
0007C0000000000780000000000780000000000F80000000000F0000000C001F0000003F
001E0000007F803E000000FFC03C000000FFC07C000000FFC078000000FFC0F0000000FF
C1F00000007F83E00000007F0FC00000003FFF000000001FFE0000000003F0000000002F
377EA534>121 D E /Fn 56 122 df<78FCFCFEFE7A0202040408081060070E7D9C0D>
39 D<70F8FCFCFC7C0404080808102040060E7D850D>44 D<FFF8FFF8FFF8FFF80D0480
8A10>I<78FCFCFCFC7806067D850D>I<000180000380000380000700000700000700000E
00000E00001C00001C00001C0000380000380000380000700000700000E00000E00000E0
0001C00001C00001C0000380000380000380000700000700000E00000E00000E00001C00
001C00001C0000380000380000700000700000700000E00000E00000C0000011297D9E18
>I<03F8000F1E001C07003C07803803807803C07803C07803C0F803E0F803E0F803E0F8
03E0F803E0F803E0F803E0F803E0F803E0F803E0F803E0F803E07803C07803C03803803C
07801C07000F1E0003F800131B7E9A18>I<00600001E0000FE000FFE000F3E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E0007FFF807FFF80111B7D9A18>I<07F8
001FFE00383F80780FC0FC07C0FC07E0FC03E0FC03E07803E00007E00007C00007C0000F
80001F00001E0000380000700000E0000180600300600600600800E01FFFC03FFFC07FFF
C0FFFFC0FFFFC0131B7E9A18>I<07F8001FFE003C1F003C0F807C07C07E07C07C07C038
07C0000F80000F80001E00003C0003F800001E00000F800007C00007C00007E03007E078
07E0FC07E0FC07E0FC07C0780F80781F001FFE0007F800131B7E9A18>I<000180000380
000780000F80001F80003F80006F8000CF80008F80018F80030F80060F800C0F80180F80
300F80600F80C00F80FFFFF8FFFFF8000F80000F80000F80000F80000F80000F8000FFF8
00FFF8151B7F9A18>I<3801803FFF003FFE003FFC003FF8003FC0003000003000003000
0030000031F800361E00380F803007800007C00007E00007E00007E07807E0F807E0F807
E0F807C0F007C0600F80381F001FFE0007F000131B7E9A18>I<007E0003FF000781800F
03C01E07C03C07C07C0380780000780000F80000F8F800FB0E00FA0780FC0380FC03C0F8
03E0F803E0F803E0F803E07803E07803E07803C03C03C03C07801E0F0007FE0003F80013
1B7E9A18>I<6000007FFFE07FFFE07FFFC07FFF807FFF80E00300C00600C00C00C01800
00300000300000600000E00000E00001E00001C00003C00003C00003C00003C00007C000
07C00007C00007C00007C00007C000038000131C7D9B18>I<03F8000FFE001E0F803807
803803C07803C07C03C07E03C07F83803FC7003FFE001FFC000FFE0007FF001DFF80387F
C0781FE0700FE0F003E0F001E0F001E0F001E07801C07803803E07801FFE0003F800131B
7E9A18>I<03F8000FFE001E0F003C07807807807803C0F803C0F803C0F803E0F803E0F8
03E0F803E07807E03807E03C0BE00E1BE003E3E00003E00003C00003C03807C07C07807C
0700780F00383C001FF8000FE000131B7E9A18>I<00038000000380000007C0000007C0
000007C000000FE000000FE000001FF000001BF000003BF8000031F8000031F8000060FC
000060FC0000E0FE0000C07E0000C07E0001803F0001FFFF0003FFFF8003001F8007001F
C006000FC006000FC00C0007E00C0007E0FF803FFEFF803FFE1F1C7E9B24>65
D<FFFFF800FFFFFF000FC01F800FC00FC00FC007C00FC007E00FC007E00FC007E00FC007
E00FC007E00FC007C00FC00F800FC03F000FFFFE000FC00F800FC007C00FC003E00FC003
E00FC003F00FC003F00FC003F00FC003F00FC003F00FC007E00FC007E00FC01FC0FFFFFF
00FFFFFC001C1C7E9B22>I<001FE02000FFF8E003F80FE007C003E00F8001E01F0000E0
3E0000E03E0000607E0000607C000060FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC0000007C0000607E0000603E0000603E0000C01F0000C00F800180
07C0030003F80E0000FFFC00001FE0001B1C7D9B22>I<FFFFF800FFFFFF000FC01FC00F
C007E00FC001F00FC001F80FC000F80FC000FC0FC0007C0FC0007C0FC0007E0FC0007E0F
C0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007C0FC0007C0FC0007C0F
C000F80FC000F80FC001F00FC007E00FC01FC0FFFFFF00FFFFF8001F1C7E9B25>I<FFFF
FF00FFFFFF000FC01F000FC007000FC003000FC003800FC003800FC0C1800FC0C1800FC0
C1800FC1C0000FC3C0000FFFC0000FFFC0000FC3C0000FC1C0000FC0C0000FC0C0600FC0
C0600FC000E00FC000C00FC000C00FC001C00FC001C00FC003C00FC00F80FFFFFF80FFFF
FF801B1C7E9B1F>I<FFFFFF00FFFFFF000FC01F000FC007000FC003000FC003800FC003
800FC001800FC0C1800FC0C1800FC0C0000FC1C0000FC3C0000FFFC0000FFFC0000FC3C0
000FC1C0000FC0C0000FC0C0000FC0C0000FC000000FC000000FC000000FC000000FC000
000FC00000FFFE0000FFFE0000191C7E9B1E>I<FFFCFFFC0FC00FC00FC00FC00FC00FC0
0FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC0
FFFCFFFC0E1C7E9B12>73 D<FFFE00FFFE000FC0000FC0000FC0000FC0000FC0000FC000
0FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0030FC0030FC003
0FC0070FC0070FC0060FC00E0FC01E0FC07EFFFFFEFFFFFE181C7E9B1D>76
D<FFC00003FFFFE00007FF0FE00007F00DF0000DF00DF0000DF00DF0000DF00CF80019F0
0CF80019F00C7C0031F00C7C0031F00C3E0061F00C3E0061F00C1F00C1F00C1F00C1F00C
1F00C1F00C0F8181F00C0F8181F00C07C301F00C07C301F00C03E601F00C03E601F00C01
FC01F00C01FC01F00C01FC01F00C00F801F00C00F801F0FFC0701FFFFFC0701FFF281C7E
9B2D>I<FFE003FFFFE003FF0FF000300FF800300DFC00300CFE00300C7E00300C3F0030
0C1F80300C1FC0300C0FE0300C07F0300C03F0300C01F8300C01FC300C00FE300C007F30
0C003F300C001FB00C001FF00C000FF00C0007F00C0003F00C0001F00C0000F00C0000F0
FFC00070FFC00030201C7E9B25>I<003FE00001F07C0003C01E000F800F801F0007C01E
0003C03E0003E07E0003F07C0001F07C0001F0FC0001F8FC0001F8FC0001F8FC0001F8FC
0001F8FC0001F8FC0001F8FC0001F87C0001F07E0003F07E0003F03E0003E03F0007E01F
0007C00F800F8003C01E0001F07C00003FE0001D1C7D9B24>I<FFFFF800FFFFFE000FC0
3F800FC00F800FC007C00FC007E00FC007E00FC007E00FC007E00FC007E00FC007C00FC0
07C00FC00F800FC03F000FFFFC000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC00000FFFC0000FFFC00001B1C7E9B21>
I<FFFFF00000FFFFFE00000FC03F00000FC00F80000FC007C0000FC007E0000FC007E000
0FC007E0000FC007E0000FC007E0000FC007C0000FC00F80000FC03E00000FFFF000000F
C07C00000FC03E00000FC03F00000FC01F80000FC01F80000FC01F80000FC01F80000FC0
1F80000FC01F80000FC01F81800FC01F81800FC00FC180FFFC07C300FFFC01FE00211C7E
9B24>82 D<07F8201FFEE03C07E07801E07000E0F000E0F00060F00060F80000FE0000FF
E0007FFE003FFF003FFF800FFFC007FFE0007FE00003F00001F00000F0C000F0C000F0C0
00E0E000E0F001C0FC03C0EFFF0083FC00141C7D9B1B>I<7FFFFFE07FFFFFE0781F81E0
701F80E0601F8060E01F8070C01F8030C01F8030C01F8030C01F8030001F8000001F8000
001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000
001F8000001F8000001F8000001F8000001F800007FFFE0007FFFE001C1C7E9B21>I<FF
F87FFE0FFCFFF87FFE0FFC0FC007E000C00FC007F000C00FE003F001C007E003F0018007
E007F8018007F007F8038003F00FFC030003F00CFC030001F80CFC060001F81CFE060001
FC187E0E0000FC187E0C0000FC303F0C0000FE303F1C00007E703F9800007E601F980000
3F601FB000003FE01FF000003FC00FF000001FC00FE000001F8007E000001F8007E00000
0F8007C000000F0003C0000007000380000007000380002E1C7F9B31>87
D<7FFE1FFE007FFE1FFE0007F001800003F803800001F807000001FC06000000FE0C0000
007F1C0000003F380000003FB00000001FE00000000FE00000000FE000000007F0000000
03F800000007F80000000FFC0000000CFE000000187E000000387F000000703F80000060
1FC00000C01FC00001C00FE000038007F000030003F000FFF01FFF80FFF01FFF80211C7F
9B24>I<0FF8001C1E003E0F803E07803E07C01C07C00007C0007FC007E7C01F07C03C07
C07C07C0F807C0F807C0F807C0780BC03E13F80FE1F815127F9117>97
D<FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F3F
801FE1E01F80701F00781F003C1F003C1F003E1F003E1F003E1F003E1F003E1F003E1F00
3C1F003C1F00781F80701EC1E01C3F00171D7F9C1B>I<03FC000E0E001C1F003C1F0078
1F00780E00F80000F80000F80000F80000F80000F800007800007801803C01801C03000E
0E0003F80011127E9115>I<000FF0000FF00001F00001F00001F00001F00001F00001F0
0001F00001F00001F001F9F00F07F01C03F03C01F07801F07801F0F801F0F801F0F801F0
F801F0F801F0F801F07801F07801F03C01F01C03F00F0FFE03F9FE171D7E9C1B>I<03FC
000F07001C03803C01C07801C07801E0F801E0F801E0FFFFE0F80000F80000F800007800
007800603C00601E00C00F038001FC0013127F9116>I<007F0001E38003C7C00787C00F
87C00F83800F80000F80000F80000F80000F8000FFF800FFF8000F80000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80007FF0007F
F000121D809C0F>I<03F0F00E1F383C0F38380730780780780780780780780780380700
3C0F001E1C0033F0003000003000003000003FFF003FFFC01FFFE01FFFF07801F8F00078
F00078F000787000707800F01E03C007FF00151B7F9118>I<FF0000FF00001F00001F00
001F00001F00001F00001F00001F00001F00001F00001F0FC01F31E01F40F01F80F81F80
F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8FFE7
FFFFE7FF181D7F9C1B>I<1E003F003F003F003F001E000000000000000000000000007F
007F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFC0FFC00A
1E7F9D0E>I<FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F0000
1F00001F03FC1F03FC1F01C01F03001F0E001F1C001F38001F78001FFC001FBE001F1F00
1F0F001F0F801F07C01F03E01F01E0FFE7FEFFE7FE171D7F9C19>107
D<FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F00FFE0FFE00B1D7F9C0E>I<FF0FC07E00FF
31E18F001F40F207801F80FC07C01F80FC07C01F00F807C01F00F807C01F00F807C01F00
F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F807C01F00F8
07C0FFE7FF3FF8FFE7FF3FF825127F9128>I<FF0FC0FF31E01F40F01F80F81F80F81F00
F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8FFE7FFFFE7
FF18127F911B>I<01FC000F07801C01C03C01E07800F07800F0F800F8F800F8F800F8F8
00F8F800F8F800F87800F07800F03C01E01E03C00F078001FC0015127F9118>I<FF3F80
FFE1E01F80F01F00781F007C1F003C1F003E1F003E1F003E1F003E1F003E1F003E1F003C
1F007C1F00781F80F01FC1E01F3F001F00001F00001F00001F00001F00001F0000FFE000
FFE000171A7F911B>I<03F0600F0CE01E07E03C03E07C03E07803E0F803E0F803E0F803
E0F803E0F803E0F803E07803E07C03E03C03E01C07E00E0FE003F3E00003E00003E00003
E00003E00003E00003E0001FFC001FFC161A7E9119>I<FE3E00FE47001E8F801E8F801E
8F801F07001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0000FF
E000FFE00011127F9114>I<1FD830786018E018E018F000FF807FE07FF01FF807FC007C
C01CC01CE01CE018F830CFC00E127E9113>I<0300030003000300070007000F000F003F
FCFFFC1F001F001F001F001F001F001F001F001F001F0C1F0C1F0C1F0C0F08079803F00E
1A7F9913>I<FF07F8FF07F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8
1F00F81F00F81F00F81F00F81F01F80F01F80786FF01F8FF18127F911B>I<FFC1FCFFC1
FC1F00601F80600F80C00F80C007C18007C18003E30003E30003F70001F60001FE0000FC
0000FC0000780000780000300016127F9119>I<FF8FF8FEFF8FF8FE1F03E0301F03E030
1F03E0300F87F0600F86F0600FC6F8E007CC78C007CC78C003FC7D8003F83D8003F83F80
01F01F0001F01F0000F01E0000E00E0000E00E001F127F9122>I<FFC7FCFFC7FC1F81C0
0F838007C70003EE0001FC0001F80000F800007C0000FE0001DF00039F80070F800607C0
0C03E0FF07FCFF07FC16127F9119>I<FFC1FCFFC1FC1F00601F80600F80C00F80C007C1
8007C18003E30003E30003F70001F60001FE0000FC0000FC000078000078000030000030
00006000706000F8E000F8C000F980007300003E0000161A7F9119>I
E /Fo 29 120 df<78FCFCFEFE7A02020202040404080810204007127B8511>44
D<00100000700000F00007F000FFF000F8F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0
0000F00001F8007FFFE07FFFE013287BA71E>49 D<00FE0007FF800E07E01803F02001F8
2000F840007C40007CF8007EFC007EFC003EFC003EFC003E78007E00007E00007C00007C
0000F80000F80001F00001E00003C0000780000700000E00001C00003800007000006000
00C0000180020300020600040C000418000410000C3FFFFC7FFFF8FFFFF8FFFFF817287D
A71E>I<007F000003FFC0000701F0000C00F80010007C001C007C003E007E003E003E00
3E003E001E003E000C007E0000007C0000007C00000078000000F0000000E0000001C000
0007000000FF00000001E0000000F0000000780000003C0000003E0000001F0000001F00
00001F8000001F8030001F8078001F80FC001F80FC001F80FC001F00F8001F0040003F00
40003E0030007C001800F8000F01F00003FFC00000FF000019297EA71E>I<1800181F00
F01FFFE01FFFC01FFF801FFE0011F8001000001000001000001000001000001000001000
00100000107E001383801400C01800E010007000007800007C00003C00003C00003E0000
3E00003E70003EF8003EF8003EF8003EF8003C80003C40007C4000782000783000F01801
E00E07C007FF0001FC0017297DA71E>53 D<007F000001FFC00007C1E0000F0070001E00
38003C003C003C001C0078001E0078001E00F8000F00F8000F00F8000F00F8000F00F800
0F80F8000F80F8000F80F8000F8078000F8078001F803C001F803C001F801C002F800E00
4F800700CF8003810F80007E0F8000000F0000000F0000000F0000001E0000001E000000
1E0000003C001C003C003E0078003E0070003C00E0001801C0001C0780000FFF000003F8
000019297EA71E>57 D<FFFFFF8000FFFFFFF00007E000FC0003E0007E0003E0003F0003
E0001F8003E0000F8003E0000FC003E0000FC003E0000FC003E0000FC003E0000FC003E0
000FC003E0000F8003E0001F8003E0001F0003E0003E0003E0007C0003E001F80003FFFF
E00003E000F80003E0003E0003E0001F8003E0000F8003E00007C003E00007E003E00003
E003E00003F003E00003F003E00003F003E00003F003E00003F003E00003F003E00007E0
03E00007E003E0000FC003E0001F8003E0003F0007E000FE00FFFFFFF800FFFFFFE00024
297EA82A>66 D<FFFFFFC000FFFFFFF80007E000FC0003E0003F0003E0000F8003E00007
C003E00003E003E00001F003E00000F003E00000F803E000007C03E000007C03E000007C
03E000003E03E000003E03E000003E03E000003F03E000003F03E000003F03E000003F03
E000003F03E000003F03E000003F03E000003F03E000003F03E000003F03E000003E03E0
00003E03E000007E03E000007C03E000007C03E00000F803E00000F803E00001F003E000
03E003E00007C003E0000F8003E0001F0007E000FE00FFFFFFF800FFFFFFC00028297EA8
2E>68 D<0000FF00100007FFE030001FC07830003E000C7000F80006F001F00003F003E0
0001F007C00000F00F800000700F800000701F000000303F000000303E000000303E0000
00107E000000107E000000107C00000000FC00000000FC00000000FC00000000FC000000
00FC00000000FC00000000FC00000000FC00000000FC0000FFFF7C0000FFFF7E000003F0
7E000001F03E000001F03E000001F03F000001F01F000001F00F800001F00F800001F007
C00001F003E00001F001F00002F000F80002F0003E000C70001FC038300007FFE0100000
FF8000282B7DA92F>71 D<FFFF81FFFFFFFF81FFFF07F0000FE003E00007C003E00007C0
03E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003
E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003FF
FFFFC003FFFFFFC003E00007C003E00007C003E00007C003E00007C003E00007C003E000
07C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007
C003E00007C003E00007C003E00007C003E00007C007F0000FE0FFFF81FFFFFFFF81FFFF
28297EA82D>I<01FFFF01FFFF0003F00001F00001F00001F00001F00001F00001F00001
F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001
F00001F00001F00001F00001F00001F00001F00001F00001F00001F03001F07801F0FC01
F0FC01F0FC01E0F803E04003C02007801007000C1E0003F000182A7DA81F>74
D<FFFF800FFF00FFFF800FFF0007F00003F00003E00001C00003E00001000003E0000200
0003E00004000003E00008000003E00010000003E00020000003E00040000003E0008000
0003E00100000003E00200000003E00400000003E00800000003E01800000003E03C0000
0003E07E00000003E0BE00000003E11F00000003E20F80000003E40F80000003E807C000
0003F007E0000003E003E0000003E001F0000003E001F8000003E000F8000003E0007C00
0003E0007E000003E0003E000003E0001F000003E0001F000003E0000F800003E00007C0
0003E00007C00003E00007E00007F00007F800FFFF803FFF80FFFF803FFF8029297EA82E
>I<FFE0000003FFC0FFE0000003FFC007E0000003F80002F0000005F00002F0000005F0
000278000009F0000278000009F0000278000009F000023C000011F000023C000011F000
021E000021F000021E000021F000021E000021F000020F000041F000020F000041F00002
07800081F0000207800081F0000207800081F0000203C00101F0000203C00101F0000203
E00201F0000201E00201F0000201E00201F0000200F00401F0000200F00401F0000200F0
0401F0000200780801F0000200780801F00002003C1001F00002003C1001F00002003C10
01F00002001E2001F00002001E2001F00002000F4001F00002000F4001F00002000F4001
F0000200078001F0000700078001F0000F80030003F800FFF803007FFFC0FFF803007FFF
C032297EA837>77 D<FFE0001FFFFFF0001FFF03F80001F002F80000E0027C000040027E
000040023E000040021F000040021F800040020F8000400207C000400207E000400203E0
00400201F000400201F800400200F8004002007C004002007E004002003E004002001F00
4002001F804002000F8040020007C040020003E040020003E040020001F040020000F840
020000F8400200007C400200003E400200003E400200001F400200000FC00200000FC002
000007C002000003C002000003C007000001C00F800000C0FFF80000C0FFF80000402829
7EA82D>I<FFFFFF8000FFFFFFF00007E001FC0003E0003E0003E0001F0003E0000F8003
E0000FC003E00007C003E00007E003E00007E003E00007E003E00007E003E00007E003E0
0007E003E00007C003E0000FC003E0000F8003E0001F0003E0003E0003E001F80003FFFF
E00003E000000003E000000003E000000003E000000003E000000003E000000003E00000
0003E000000003E000000003E000000003E000000003E000000003E000000003E0000000
03E000000003E000000003E000000007F0000000FFFF800000FFFF80000023297EA829>
80 D<01FC00000E0780001001C0003C00E0003E00F0003E0078001C0078000800780000
0078000000780000007800007FF80003E078000F8078001F0078003E0078007C00780078
007820F8007820F8007820F8007820F800F8207C00F8203C013C401F063FC007F80F001B
1A7E991E>97 D<0F000000FF000000FF0000001F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
07E0000F1838000F600E000F8007000F8007800F0003C00F0003C00F0001E00F0001E00F
0001F00F0001F00F0001F00F0001F00F0001F00F0001F00F0001F00F0001E00F0001E00F
0003E00F0003C00F0003800F8007800E800F000E401C000C303800080FC0001C2A7EA921
>I<007F8001C0700780080F003C1E007C3C007C3C00387C0010780000F80000F80000F8
0000F80000F80000F80000F80000F800007800007C00003C00043C00041E00080F001007
802001C0C0007F00161A7E991B>I<007E0003C3800700E00E00F01C00703C00783C0038
78003C78003CF8003CF8003CFFFFFCF80000F80000F80000F80000F800007800007C0000
3C00043C00041E00080E001007002001C0C0007F00161A7E991B>101
D<0000078000FC18400787A1C00E01C1C01E01E0803C00F0003C00F0007C00F8007C00F8
007C00F8007C00F8007C00F8003C00F0003C00F0001E01E0000E01C0001F87800010FC00
00100000003000000030000000380000001C0000001FFFC0000FFFF80007FFFC001C003E
0030000F007000070060000380E0000380E0000380E0000380E000038070000700700007
0038000E000C0018000780F00000FF80001A287E9A1E>103 D<1E003F003F003F003F00
1E000000000000000000000000000000000000000F00FF00FF001F000F000F000F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00FFF0FFF0
0C297EA811>105 D<0F00FF00FF001F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F00FFF0FFF00C2A7EA911>108
D<0781F800FC00FF860E030700FF98070C03800FA0079003C007A003D001E007C003E001
E007C003E001E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001
E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001
E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001
E0FFFC7FFE3FFFFFFC7FFE3FFF301A7F9933>I<0F07F000FF183800FF201C001F400E00
0F400F000F800F000F800F000F000F000F000F000F000F000F000F000F000F000F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
0F000F000F000F00FFF0FFF0FFF0FFF01C1A7E9921>I<007F000001C1C000070070000E
0038001C001C003C001E003C001E0078000F0078000F00F8000F80F8000F80F8000F80F8
000F80F8000F80F8000F80F8000F80F8000F8078000F0078000F003C001E003C001E001E
003C000E0038000700700001C1C000007F0000191A7E991E>I<0F0F80FF11C0FF23E01F
43E00F83E00F81C00F80000F00000F00000F00000F00000F00000F00000F00000F00000F
00000F00000F00000F00000F00000F00000F00000F00000F8000FFF800FFF800131A7E99
17>114 D<07F8401C06C03001C06000C06000C0E00040E00040F00040F800007E00007F
F0003FFE000FFF0003FF80003FC00007C08001E08001E0C000E0C000E0C000E0E000C0F0
01C0F80180C4070083F800131A7E9918>I<0F000F00FF00FF00FF00FF001F001F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F001F000F001F000700
2F0003804F8001C08FF0007F0FF01C1A7E9921>117 D<FFF1FFC1FFFFF1FFC1FF0F801E
007C0F001E003007801E003007801E002007801F002003C027004003C027004003C02780
4001E043808001E043808001E043C08000F081C10000F081E10000F081E100007900E200
007900F200007900F200003E007400003E007C00003E007C00001C003800001C00380000
1C0038000008001000281A7F992B>119 D E /Fp 20 118 df<FFFFFFC0FFFFFFC0FFFF
FFC0FFFFFFC0FFFFFFC0FFFFFFC01A067F9822>45 D<000038000000007800000000F800
000003F80000000FF80000007FF800000FFFF80000FFF7F80000FF87F80000F007F80000
0007F800000007F800000007F800000007F800000007F800000007F800000007F8000000
07F800000007F800000007F800000007F800000007F800000007F800000007F800000007
F800000007F800000007F800000007F800000007F800000007F800000007F800000007F8
00000007F800000007F800000007F800000007F800000007F800000007F800000007F800
000007F800000007F800000007F800000007F800000007F800000007F800000007F80000
0007F800000007F800000007F800000007F800000007F800000007F800000007F8000000
07F800000007F800000007F800000007F800000007F800000007F800000007F800000007
F800000007F800000007F80000000FFC0000003FFF0000FFFFFFFFC0FFFFFFFFC0FFFFFF
FFC0224477C334>49 D<0000FFC00000000FFFFC0000003F00FF00000078003FC00001E0
001FE0000380000FF00007000007F80007000007FC000FC00003FE000FF00003FE001FF0
0003FE001FF80003FF001FF80003FF001FF80003FF001FF80003FF000FF00003FF0007E0
0003FF0001800003FE0000000003FE0000000007FE0000000007FC0000000007FC000000
0007F8000000000FF0000000000FF0000000001FE0000000001FC0000000003F80000000
007E0000000001FC000000000FF000000007FFC000000007FFFC0000000000FF00000000
003FC0000000000FE00000000007F00000000007F80000000003FC0000000003FE000000
0001FF0000000001FF8000000001FF8000000000FFC000000000FFC000000000FFC00000
0000FFE000000000FFE01F000000FFE03F800000FFE07FC00000FFE0FFE00000FFE0FFE0
0000FFE0FFE00000FFC0FFE00000FFC0FFE00000FFC0FFC00001FF807F800001FF807E00
0001FF0038000003FF003C000003FE001E000007FC000F000007F80007C0000FF00003F0
003FE00000FF00FF8000003FFFFF0000000FFFF800000000FFC000002B457CC334>51
D<FFFFFFFEFFFFFFFEFFFFFFFE007FFC00003FF800001FF000001FF000001FF000001FF0
00001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF0
00001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF0
00001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF0
00001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF0
00001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF0
00001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF000001FF0
00001FF000001FF000001FF000003FF800007FFC00FFFFFFFEFFFFFFFEFFFFFFFE1F477D
C625>73 D<FFFFF800000000001FFFFFFFFFF800000000001FFFFFFFFFF800000000001F
FFFF007FFC00000000003FFE00003FFC00000000003FFC00001DFE000000000077F80000
1DFE000000000077F800001DFE000000000077F800001CFF0000000000E7F800001CFF00
00000000E7F800001C7F8000000001C7F800001C7F8000000001C7F800001C7F80000000
01C7F800001C3FC00000000387F800001C3FC00000000387F800001C1FE00000000707F8
00001C1FE00000000707F800001C1FE00000000707F800001C0FF00000000E07F800001C
0FF00000000E07F800001C0FF00000000E07F800001C07F80000001C07F800001C07F800
00001C07F800001C03FC0000003807F800001C03FC0000003807F800001C03FC00000038
07F800001C01FE0000007007F800001C01FE0000007007F800001C00FF000000E007F800
001C00FF000000E007F800001C00FF000000E007F800001C007F800001C007F800001C00
7F800001C007F800001C007F800001C007F800001C003FC000038007F800001C003FC000
038007F800001C001FE000070007F800001C001FE000070007F800001C001FE000070007
F800001C000FF0000E0007F800001C000FF0000E0007F800001C0007F8001C0007F80000
1C0007F8001C0007F800001C0007F8001C0007F800001C0003FC00380007F800001C0003
FC00380007F800001C0001FE00700007F800001C0001FE00700007F800001C0001FE0070
0007F800001C0000FF00E00007F800001C0000FF00E00007F800001C0000FF00E00007F8
00001C00007F81C00007F800001C00007F81C00007F800001C00003FC3800007F800001C
00003FC3800007F800001C00003FC3800007F800001C00001FE7000007F800001C00001F
E7000007F800001C00000FFE000007F800001C00000FFE000007F800001C00000FFE0000
07F800001C000007FC000007F800001C000007FC000007F800003E000007FC000007F800
007F000003F8000007F80000FF800003F800000FFC0003FFE00001F000001FFE00FFFFFF
8001F0003FFFFFFFFFFFFF8001F0003FFFFFFFFFFFFF8000E0003FFFFFFF58477DC65F>
77 D<0001FF0000C0000FFFF001C0003FFFFC01C0007E00FF03C001F8000F87C003E000
03C7C007C00001EFC00F800000FFC00F0000007FC01F0000003FC03E0000001FC03E0000
000FC07C0000000FC07C00000007C07C00000007C0FC00000007C0FC00000003C0FC0000
0003C0FC00000003C0FC00000003C0FE00000001C0FE00000001C0FF00000001C0FF0000
0001C07F80000000007FC0000000007FE0000000003FF8000000003FFF000000001FFFF0
0000000FFFFF0000000FFFFFF0000007FFFFFE000003FFFFFF800001FFFFFFE000007FFF
FFF000003FFFFFF800000FFFFFFC000000FFFFFE0000000FFFFF00000001FFFF80000000
1FFF8000000003FFC000000000FFC0000000003FE0000000001FE0000000001FE0000000
000FF0000000000FF06000000007F0E000000007F0E000000007F0E000000003F0E00000
0003F0E000000003F0F000000003F0F000000003F0F000000003E0F000000003E0F80000
0003E0F800000007C0FC00000007C0FE0000000780FE0000000F80FF0000001F00FFC000
001E00FDE000003C00F8F800007800F87E0001F000F01FE00FE000E007FFFFC000E001FF
FF0000C0001FF800002C497AC739>83 D<FFFFFFFE0007FFFFFCFFFFFFFE0007FFFFFCFF
FFFFFE0007FFFFFC007FFC0000001FFF00003FF800000007FC00001FF000000003F80000
1FF000000001F000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000001FF000000000E000001FF000000000E00000
1FF000000000E000001FF000000000E000000FF000000000C000000FF000000001C00000
0FF800000001C0000007F800000001C0000007F80000000380000007F800000003800000
03FC0000000700000003FC0000000700000001FC0000000E00000000FE0000000E000000
007F0000001C000000003F00000038000000001F80000070000000000FC00000E0000000
0007F00003C00000000003FC000F800000000000FF007F0000000000003FFFFC00000000
00000FFFF000000000000001FF8000000046487DC64D>85 D<0003FE000000003FFFC000
0000FC03F0000001E000FC00000380007E00000700003F00000F80001F80000FE0001FC0
001FE0000FC0001FF0000FE0001FF0000FE0001FF00007F0000FE00007F0000FE00007F0
0003800007F00000000007F00000000007F00000000007F00000000007F000000001FFF0
0000007FFFF0000003FF87F000001FF007F000007F8007F00001FE0007F00003F80007F0
0007F00007F0000FE00007F0001FC00007F0003FC00007F0003F800007F0007F800007F0
1C7F800007F01CFF000007F01CFF000007F01CFF000007F01CFF00000FF01CFF00000FF0
1CFF00000FF01C7F80001BF01C7F800033F01C3FC00031F8381FC00061F8380FF001C0FC
7003FC0780FFE000FFFE003FC0000FF8001F802E2F7CAD34>97 D<00003FE0000001FFFE
000007E01F80001F8003C0003E0000E000FC00007001F80000F803F80003F803F00003FC
07F00007FC0FE00007FC1FE00007FC1FC00003F83FC00003F83FC00000E03FC00000007F
C00000007F800000007F80000000FF80000000FF80000000FF80000000FF80000000FF80
000000FF80000000FF80000000FF80000000FF80000000FF800000007F800000007F8000
00007FC00000003FC00000003FC000000E1FC000000E1FE000000E0FE000001C0FF00000
1C07F000003803F800003801F800007000FC0000E0007E0001C0001F800780000FE03E00
0001FFFC0000003FE000272F7DAD2E>99 D<000000001FC0000000001FFFC0000000001F
FFC0000000001FFFC000000000007FC000000000003FC000000000001FC000000000001F
C000000000001FC000000000001FC000000000001FC000000000001FC000000000001FC0
00000000001FC000000000001FC000000000001FC000000000001FC000000000001FC000
000000001FC000000000001FC000000000001FC000000000001FC000000000001FC00000
0000001FC000000000001FC000000000001FC000000000001FC00000001FE01FC0000001
FFFC1FC0000007F01E1FC000001F80079FC000003F0001DFC000007C0000FFC00001F800
007FC00003F800003FC00003F000003FC00007E000001FC0000FE000001FC0001FE00000
1FC0001FC000001FC0003FC000001FC0003FC000001FC0007FC000001FC0007F8000001F
C0007F8000001FC000FF8000001FC000FF8000001FC000FF8000001FC000FF8000001FC0
00FF8000001FC000FF8000001FC000FF8000001FC000FF8000001FC000FF8000001FC000
FF8000001FC0007F8000001FC0007F8000001FC0007F8000001FC0003FC000001FC0003F
C000001FC0001FC000001FC0001FC000001FC0000FE000001FC0000FE000003FC00007F0
00003FC00003F000007FC00001F80000FFC00000FC0001DFE000007E00039FF000001F80
0F1FFFC0000FE03E1FFFC00001FFF81FFFC000003FC01FC00032497DC739>I<00007F80
000003FFF000000FC0FC00003F003F00007C001F8000F8000FC001F80007E003F00007E0
07E00003F00FE00003F80FE00003F81FC00001FC1FC00001FC3FC00001FC3FC00001FC7F
800001FE7F800000FE7F800000FEFF800000FEFF800000FEFFFFFFFFFEFFFFFFFFFEFF80
000000FF80000000FF80000000FF80000000FF80000000FF800000007F800000007F8000
00007F800000007FC00000003FC00000003FC000000E1FC000000E1FE000000E0FE00000
1C07E000001C07F000003803F000007001F800007000FC0000E0003E0003C0001F800700
0007E03E000001FFF80000003FC000272F7DAD2E>I<000007F00000003FFC0000007C0E
000001F81F000003F03F800007E07FC0000FC07FC0000FC07FC0001F807FC0003F803F80
003F801F00003F000E00007F000000007F000000007F000000007F000000007F00000000
7F000000007F000000007F000000007F000000007F000000007F000000007F000000007F
000000007F000000007F000000007F000000007F000000FFFFFFE000FFFFFFE000FFFFFF
E000007F000000007F000000007F000000007F000000007F000000007F000000007F0000
00007F000000007F000000007F000000007F000000007F000000007F000000007F000000
007F000000007F000000007F000000007F000000007F000000007F000000007F00000000
7F000000007F000000007F000000007F000000007F000000007F000000007F000000007F
000000007F000000007F000000007F000000007F000000007F000000007F000000007F00
0000007F80000001FFC000007FFFFFC0007FFFFFC0007FFFFFC00022497DC820>I<00FE
00FFFE00FFFE00FFFE0003FE0001FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0003FF80FFFFFEFFFFFEFFFFFE1748
7DC71C>108 D<01FC007FC00007FC0000FFFC01FFF8001FFF8000FFFC0780FC00780FC0
00FFFC0E003E00E003E00003FC18003F018003F00001FC30001F830001F80000FC60001F
C60001FC0000FCC0001FCC0001FC0000FD80000FD80000FC0000FD80000FF80000FE0000
FF00000FF00000FE0000FF00000FF00000FE0000FF00000FF00000FE0000FE00000FE000
00FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00
000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE
0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000F
E00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000
FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE000
00FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00
000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE0000FE00000FE00000FE
0000FE00000FE00000FE0000FE00000FE00000FE0003FF80003FF80003FF80FFFFFE0FFF
FFE0FFFFFEFFFFFE0FFFFFE0FFFFFEFFFFFE0FFFFFE0FFFFFE4F2D7CAC56>I<01FC007F
800000FFFC03FFF00000FFFC0781F80000FFFC0C007C000003FC18007E000001FC30003F
000000FC60003F800000FCC0001F800000FD80001F800000FD80001FC00000FF00001FC0
0000FF00001FC00000FF00001FC00000FE00001FC00000FE00001FC00000FE00001FC000
00FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000
FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE
00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00
001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE0000
1FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00003FF80007F
F000FFFFFE1FFFFFC0FFFFFE1FFFFFC0FFFFFE1FFFFFC0322D7CAC39>I<00003FE00000
0001FFFC00000007E03F0000001F800FC000007E0003F00000FC0001F80001F80000FC00
03F000007E0007F000007F0007E000003F000FE000003F801FC000001FC01FC000001FC0
3FC000001FE03FC000001FE03F8000000FE07F8000000FF07F8000000FF07F8000000FF0
FF8000000FF8FF8000000FF8FF8000000FF8FF8000000FF8FF8000000FF8FF8000000FF8
FF8000000FF8FF8000000FF8FF8000000FF8FF8000000FF87F8000000FF07F8000000FF0
7F8000000FF03FC000001FE03FC000001FE03FC000001FE01FC000001FC00FE000003F80
0FE000003F8007F000007F0003F000007E0001F80000FC0000FC0001F800007E0003F000
001F800FC000000FE03F80000003FFFE000000003FE000002D2F7DAD34>I<01FC01FC00
FFFC07FF00FFFC0E0F80FFFC181FC003FC303FE001FC603FE000FCC03FE000FCC03FE000
FD801FC000FD800F8000FD80070000FF00000000FF00000000FF00000000FF00000000FE
00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00
000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE0000
0000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE000000
00FE00000000FE00000000FE00000000FF00000003FF800000FFFFFF8000FFFFFF8000FF
FFFF8000232D7EAC28>114 D<001FF8060000FFFF0E0003F0079E00078001FE000E0000
7E001C00007E003C00003E007800001E007800001E00F800001E00F800000E00F800000E
00FC00000E00FC00000E00FE00000E00FF00000E007FC00000007FFC0000003FFFE00000
1FFFFE00000FFFFF800007FFFFE00003FFFFF00000FFFFFC00001FFFFE000001FFFE0000
000FFF00000001FF800000007F806000001FC0E000001FC0E000000FC0F000000FC0F000
0007C0F0000007C0F0000007C0F8000007C0F800000780FC00000780FC00000F00FE0000
0F00FF00001E00FF80003C00F9E0007800F0F803E000E03FFFC000C007FC0000222F7DAD
29>I<000E0000000E0000000E0000000E0000000E0000000E0000000E0000001E000000
1E0000001E0000001E0000003E0000003E0000003E0000007E0000007E000000FE000001
FE000003FE000007FE00001FFFFFFCFFFFFFFCFFFFFFFC00FE000000FE000000FE000000
FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000
FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000
FE000000FE000E00FE000E00FE000E00FE000E00FE000E00FE000E00FE000E00FE000E00
FE000E00FE000E00FE000E007E001C007F001C003F001C003F0018001F8038000FC07000
07E0E00001FFC000007F001F417EBF28>I<00FE00001FC000FFFE001FFFC000FFFE001F
FFC000FFFE001FFFC00003FE00007FC00001FE00003FC00000FE00001FC00000FE00001F
C00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC0
0000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC000
00FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000
FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE
00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00001FC00000FE00
003FC00000FE00003FC00000FE00003FC00000FE00007FC000007E00007FC000007E0000
7FC000003F0000DFC000003F00019FE000001F00031FF000000F80061FFFC00007F01C1F
FFC00001FFF81FFFC000003FE01FC000322E7CAC39>I E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 780 378 a Fp(113)p 182 719 1350 1 v 350 832 a(Some)34
b(Useful)i(Mo)s(dula-3)644 957 y(In)m(terfaces)p 182
999 V 149 1340 a Fo(Jim)19 b(Horning,)g(Bill)g(Kalso)n(w,)h(P)n(aul)f
(McJones,)f(Greg)i(Nelson)p 182 1681 V 610 1750 a(Decem)n(b)r(er)d(25,)
j(1993)p 182 1818 V 660 2226 a @beginspecial 100 @llx
100 @lly 170 @urx 120 @ury 945 @rwi @setspecial
%%BeginProcSet: logo.ps
/logo {gsave
  % create a 1-by-1 digital logo
  /Helvetica-Bold findfont
  .6 .75 matrix defaultmatrix scale makefont setfont

  /box {gsave
    % paint a character white on gray box
    newpath
    0.2 setgray
    0 0 moveto
    .425 0 lineto
    .425 1 lineto
    0 1 lineto
    closepath
    fill
    word exch 1 getinterval
    1 setgray
    dup stringwidth pop .425 exch sub 2 div .225 moveto
    show
    grestore} def

  /boxstr {gsave
    /word exch def
    word length 2 div 1 exch div 1 scale
    0 1 word length 1 sub {box .5 0 translate} for
    grestore} def

  (digital) boxstr
  grestore} def

100 100 translate 70 20 scale logo
%%EndProcSet
 @endspecial 592 2300 a Fn(Systems)14 b(Researc)o(h)h(Cen)o(ter)657
2350 y(130)g(Lytton)g(Av)o(en)o(ue)573 2399 y(P)o(alo)f(Alto,)h
(California)e(94301)p eop
%%Page: 2 2
2 1 bop 318 564 a Fm(Systems)34 b(Researc)m(h)g(Cen)m(ter)318
689 y Fl(The)10 b(c)o(harter)h(of)e(SR)o(C)g(is)h(to)f(adv)n(ance)h(b)q
(oth)g(the)g(state)h(of)e(kno)o(wledge)g(and)h(the)g(state)g(of)f(the)
318 739 y(art)15 b(in)g(computer)g(systems.)23 b(F)m(rom)13
b(our)i(establishmen)o(t)g(in)g(1984,)f(w)o(e)h(ha)o(v)o(e)g(p)q
(erformed)318 789 y(basic)d(and)g(applied)g(researc)o(h)i(to)e(supp)q
(ort)h(Digital's)d(business)j(ob)r(jectiv)o(es.)19 b(Our)13
b(curren)o(t)318 838 y(w)o(ork)h(includes)h(exploring)e(distributed)i
(p)q(ersonal)g(computing)d(on)i(m)o(ultiple)e(platforms,)318
888 y(net)o(w)o(orking,)g(programming)e(tec)o(hnology)m(,)i(system)h
(mo)q(delling)d(and)j(managemen)o(t)d(tec)o(h-)318 938
y(niques,)k(and)f(selected)j(applications.)318 1006 y(Our)d(strategy)g
(is)f(to)g(test)i(the)e(tec)o(hnical)h(and)f(practical)g(v)n(alue)g(of)
g(our)g(ideas)g(b)o(y)h(building)318 1056 y(hardw)o(are)18
b(and)f(soft)o(w)o(are)g(protot)o(yp)q(es)h(and)f(using)g(them)g(as)g
(daily)f(to)q(ols.)28 b(In)o(teresting)318 1105 y(systems)17
b(are)h(to)q(o)e(complex)g(to)h(b)q(e)g(ev)n(aluated)g(solely)g(in)f
(the)i(abstract;)h(extended)f(use)318 1155 y(allo)o(ws)9
b(us)i(to)f(in)o(v)o(estigate)g(their)h(prop)q(erties)h(in)e(depth.)17
b(This)10 b(exp)q(erience)j(is)d(useful)h(in)e(the)318
1205 y(short)k(term)f(in)g(re\014ning)h(our)g(designs,)g(and)f(in)o(v)n
(aluable)f(in)h(the)h(long)f(term)g(in)g(adv)n(ancing)318
1255 y(our)i(kno)o(wledge.)20 b(Most)14 b(of)g(the)h(ma)r(jor)e(adv)n
(ances)i(in)f(information)d(systems)k(ha)o(v)o(e)f(come)318
1305 y(through)i(this)g(strategy)m(,)h(including)e(p)q(ersonal)h
(computing,)e(distributed)j(systems,)f(and)318 1354 y(the)e(In)o
(ternet.)318 1422 y(W)m(e)g(also)g(p)q(erform)f(complemen)o(tary)g(w)o
(ork)h(of)g(a)g(more)f(mathematical)e(\015a)o(v)o(or.)19
b(Some)14 b(of)318 1472 y(it)f(is)f(in)h(established)h(\014elds)f(of)f
(theoretical)i(computer)f(science,)h(suc)o(h)g(as)f(the)g(analysis)g
(of)318 1522 y(algorithms,)i(computational)f(geometry)m(,)i(and)g
(logics)g(of)h(programmi)o(ng.)23 b(Other)18 b(w)o(ork)318
1572 y(explores)c(new)g(ground)f(motiv)n(ated)e(b)o(y)i(problems)f
(that)i(arise)f(in)g(our)g(systems)h(researc)o(h.)318
1639 y(W)m(e)d(ha)o(v)o(e)g(a)g(strong)g(commitm)o(en)o(t)e(to)i(comm)o
(unicating)d(our)j(results;)i(exp)q(osing)e(and)g(test-)318
1689 y(ing)k(our)h(ideas)f(in)h(the)g(researc)o(h)h(and)f(dev)o
(elopmen)o(t)f(comm)o(uni)o(ties)f(leads)h(to)h(impro)o(v)o(ed)318
1739 y(understanding.)30 b(Our)18 b(researc)o(h)h(rep)q(ort)g(series)g
(supplemen)o(ts)e(publication)g(in)g(profes-)318 1789
y(sional)10 b(journals)h(and)g(conferences.)20 b(W)m(e)11
b(seek)h(users)h(for)e(our)h(protot)o(yp)q(e)g(systems)f(among)318
1839 y(those)18 b(with)f(whom)f(w)o(e)h(ha)o(v)o(e)g(common)e(in)o
(terests,)k(and)e(w)o(e)g(encourage)i(collab)q(oration)318
1888 y(with)14 b(univ)o(ersit)o(y)f(researc)o(hers.)318
2013 y Fk(Rob)q(ert)k(W.)f(T)l(a)o(ylor,)f(Director)p
eop
%%Page: 1 3
1 2 bop 141 620 a Fj(Some)22 b(Useful)g(Mo)r(dula-3)i(In)n(terfaces)141
729 y Fk(Jim)15 b(Horning,)g(Bill)g(Kalso)o(w,)h(P)o(aul)g(McJones,)g
(Greg)g(Nelson)141 809 y(Decem)o(b)q(er)e(25,)j(1993)p
eop
%%Page: 2 4
2 3 bop 330 1892 a Fl(c)318 1893 y Fi(\015)p Fn(Digital)12
b(Equipmen)o(t)i(Corp)q(oration)f(1993)318 1993 y Fl(This)j(w)o(ork)g
(ma)o(y)e(not)i(b)q(e)g(copied)h(or)f(repro)q(duced)i(in)d(whole)h(or)g
(in)g(part)g(except)h(in)f(ac-)318 2043 y(cordance)i(with)e(this)g(pro)
o(vision.)25 b(P)o(ermission)15 b(to)i(cop)o(y)f(in)g(whole)g(or)h(in)f
(part)g(without)318 2092 y(pa)o(ymen)o(t)9 b(of)g(fee)i(is)f(gran)o
(ted)h(only)e(to)h(licensees)i(under)f(\(and)g(is)f(sub)r(ject)h(to)f
(the)h(terms)f(and)318 2142 y(conditions)k(of)s(\))f(the)i(Digital)c
(License)k(Agreemen)o(t)f(for)g(SR)o(C)f(Mo)q(dula-3,)f(as)i(it)g(app)q
(ears,)318 2192 y(for)9 b(example,)g(on)h(the)g(In)o(ternet)h(at)f(the)
g(URL)f(h)o(ttp://www.researc)o(h.digital.com/SR)n(C/)318
2242 y(m3sources/h)o(tml/COPYRIGHT.h)o(tm)o(l)f(.)17
b(All)11 b(suc)o(h)i(whole)f(or)g(partial)e(copies)j(m)o(ust)e(in-)318
2292 y(clude)j(the)g(follo)o(wing:)i(a)d(notice)h(that)f(suc)o(h)i(cop)
o(ying)e(is)g(b)o(y)g(p)q(ermission)g(of)g(the)h(Systems)318
2341 y(Researc)o(h)g(Cen)o(ter)h(of)e(Digital)e(Equipmen)o(t)h(Corp)q
(oration)h(in)g(P)o(alo)f(Alto,)g(California;)f(an)318
2391 y(ac)o(kno)o(wledgmen)o(t)g(of)g(the)i(authors)g(and)f(individual)
e(con)o(tributors)j(to)f(the)g(w)o(ork;)g(and)g(all)318
2441 y(applicable)h(p)q(ortions)h(of)f(this)h(cop)o(yrigh)o(t)g
(notice.)k(All)13 b(righ)o(ts)h(reserv)o(ed.)p eop
%%Page: 3 5
3 4 bop 141 307 a Fn(Authors')14 b(Abstract)141 376 y
Fl(This)d(man)o(ual)e(describ)q(es)k(a)e(collection)f(of)h(in)o
(terfaces)h(de\014ning)f(abstractions)h(that)f(SR)o(C's)141
425 y(programmers)20 b(ha)o(v)o(e)i(found)g(useful)g(o)o(v)o(er)g(a)f
(n)o(um)o(b)q(er)h(of)f(y)o(ears)i(of)e(exp)q(erience)j(with)141
475 y(Mo)q(dula-3)11 b(and)i(its)f(precursors.)20 b(W)m(e)12
b(hop)q(e)h(the)g(in)o(terfaces)h(will)d(b)q(e)i(useful)f(as)h(a)f
(\\starter)141 525 y(kit")k(of)f(abstractions,)i(and)f(as)h(a)f(mo)q
(del)e(for)i(designing)g(and)g(sp)q(ecifying)g(abstractions)141
575 y(in)d(Mo)q(dula-3.)840 2574 y(iii)p eop
%%Page: 4 6
4 5 bop eop
%%Page: 5 7
5 6 bop 141 307 a Fj(Con)n(ten)n(ts)141 405 y Fn(Ac)o(kno)o(wledgmen)o
(ts)1002 b(vii)141 503 y(1)38 b(In)o(tro)q(duction)1079
b(1)203 556 y Fl(1.1)42 b(Naming)11 b(con)o(v)o(en)o(tions)j(for)g(t)o
(yp)q(es.)f Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)65 b Fl(1)203 610 y(1.2)42
b(Concurrency)m(.)35 b Fh(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)65 b Fl(2)203 664 y(1.3)42 b(Aliasing.)15 b Fh(:)21
b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)65
b Fl(2)203 717 y(1.4)42 b(Exception)14 b(parameters)g(for)g(abstract)g
(t)o(yp)q(es.)g Fh(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)65 b Fl(2)203 771 y(1.5)42 b(Standard)14 b(generic)h(instances.)
34 b Fh(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)65 b Fl(3)203 824 y(1.6)42 b(Sets)15
b(and)e(relations.)34 b Fh(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)65
b Fl(4)141 922 y Fn(2)38 b(Standard)14 b(in)o(terfaces)938
b(5)203 976 y Fl(2.1)42 b(T)m(ext)28 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)65 b Fl(5)203
1029 y(2.2)42 b(Thread)12 b Fh(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)65 b Fl(7)203 1083 y(2.3)42 b(W)m(ord)11
b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
65 b Fl(9)203 1137 y(2.4)42 b(Real,)12 b(LongReal,)h(and)g(Extended)40
b Fh(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)45 b Fl(10)203 1190 y(2.5)d(RealFloat,)12
b(LongRealFloat,)f(and)j(ExtendedFloat)41 b Fh(:)20 b(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)45 b Fl(12)203 1244 y(2.6)d(FloatMo)q(de)g
Fh(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(15)203 1298 y(2.7)d(Lex)12 b Fh(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)
f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(17)203 1351
y(2.8)d(Fm)o(t)33 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)45 b Fl(20)141 1449 y Fn(3)38 b(Data)16
b(Structures)983 b(25)203 1503 y Fl(3.1)42 b(Sequence)12
b Fh(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(25)203 1556 y(3.2)d(A)o(tom)e Fh(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(27)203 1610 y(3.3)d(List)14
b(and)f(ListSort)27 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(28)203 1664 y(3.4)d(Sx)33 b Fh(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)
f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(30)203 1717
y(3.5)d(T)m(able)10 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)45 b Fl(34)203 1771 y(3.6)d(SortedT)m(able)22
b Fh(:)e(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(37)203 1825 y(3.7)d(Bundle)15 b Fh(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(38)141 1922 y
Fn(4)38 b(Algorithms)1085 b(40)203 1976 y Fl(4.1)42 b(Arra)o(ySort)27
b Fh(:)20 b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(40)203 2030 y(4.2)d(Random)20 b Fh(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(40)203 2083 y(4.3)d(Fingerprin)o(t)34
b Fh(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(42)141 2181 y Fn(5)38 b(I/O)16 b(Streams)1058 b(47)203
2235 y Fl(5.1)42 b(IO)31 b Fh(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(47)203 2288 y(5.2)d(W)m(r)22
b Fh(:)f(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)45 b Fl(48)203 2342 y(5.3)d(Rd)24 b Fh(:)d(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(51)203
2396 y(5.4)d(T)m(extW)m(r)13 b(and)h(T)m(extRd)31 b Fh(:)21
b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(57)203 2449 y(5.5)d(Stdio,)13
b(FileW)m(r,)f(and)i(FileRd)25 b Fh(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(58)846 2574 y(v)p eop
%%Page: 6 8
6 7 bop 318 307 a Fn(6)38 b(Op)q(erating)14 b(System)943
b(61)380 357 y Fl(6.1)42 b(Time)15 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)
f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(61)380 407
y(6.2)d(Date)24 b Fh(:)c(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)45 b Fl(61)380 457 y(6.3)d(Tic)o(k)30
b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
45 b Fl(63)380 506 y(6.4)d(OSError)23 b Fh(:)e(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(64)380 556 y(6.5)d(File)g
Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
45 b Fl(64)380 606 y(6.6)d(Pip)q(e)29 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(66)380
656 y(6.7)d(T)m(erminal)10 b Fh(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)45 b Fl(68)380 706 y(6.8)d(RegularFile)29
b Fh(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(70)380 756 y(6.9)d(P)o(athname)23 b Fh(:)d(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(73)380 805 y(6.10)21
b(FS)28 b Fh(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)45 b Fl(78)380 855 y(6.11)21 b(Pro)q(cess)41
b Fh(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(82)380 905 y(6.12)21 b(P)o(arams)38 b Fh(:)21 b(:)f(:)g(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(86)380 955
y(6.13)21 b(En)o(v)39 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(86)318 1046 y Fn(7)38
b(Run)o(time)1138 b(88)380 1096 y Fl(7.1)42 b(W)m(eakRef)12
b Fh(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(88)380 1146 y(7.2)d(R)m(TT)o(yp)q(e)24 b Fh(:)d(:)f(:)g(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(91)380 1196
y(7.3)d(R)m(T)m(Allo)q(cator)16 b Fh(:)k(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)45 b Fl(93)380 1245 y(7.4)d(R)m(TCollector)18
b Fh(:)i(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(94)380 1295 y(7.5)d(R)m(THeap)24 b Fh(:)d(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)45 b Fl(96)380 1345 y(7.6)d(R)m(TT)o(yp)q
(eFP)34 b Fh(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)45
b Fl(97)318 1436 y Fn(A)26 b(Basic)16 b(Data)f(T)o(yp)q(es)952
b(98)318 1528 y(References)1158 b(99)318 1619 y(Index)1242
b(101)1017 2574 y Fl(vi)p eop
%%Page: 7 9
7 8 bop 1528 162 a Fl(vii)141 307 y Fj(Ac)n(kno)n(wledgmen)n(ts)141
398 y Fl(This)20 b(man)o(ual)d(builds)j(on,)h(and)e(incorp)q(orates,)j
(the)f(w)o(ork)f(of)f(man)o(y)f(p)q(eople.)37 b(W)m(e'v)o(e)141
448 y(b)q(orro)o(w)o(ed)13 b(man)o(y)e(ideas)j(from)d(the)i
(literature,)h(as)f(do)q(cumen)o(ted)g(in)f(the)i(references.)21
b(But)141 498 y(man)o(y)16 b(other)j(p)q(eople)g(ha)o(v)o(e)e(help)q
(ed)i(us)g(design,)g(implem)o(en)o(t,)e(and)h(re\014ne)h(the)g(sp)q
(eci\014c)141 548 y(in)o(terfaces)c(published)f(in)f(this)h(man)o(ual:)
203 597 y(Lyle)e(Ramsha)o(w)e(orc)o(hestrated)j(a)f(redesign)h(of)e
(the)h Fg(Fmt)f Fl(and)h Fg(Lex)f Fl(in)o(terfaces)i(and)e(the)141
647 y(addition)k(of)h(the)h Fg(ToDecimal)d Fl(and)i Fg(FromDecimal)e
Fl(pro)q(cedures)19 b(to)d(the)h Fg(Float)e Fl(generic)141
697 y(in)o(terface.)25 b(Da)o(vid)15 b(Goldb)q(erg)h(and)g(Jorge)h
(Stol\014)e(consulted.)26 b(Luca)16 b(Cardelli)f(designed)141
747 y(the)f(\014rst)h(v)o(ersion)f(of)f Fg(Lex)h Fl(\(whic)o(h)g(he)g
(called)g Fg(Sift)p Fl(\).)203 797 y Fg(Atom)p Fl(,)i
Fg(List)p Fl(,)f Fg(Sx)p Fl(,)h(and)g Fg(Table)f Fl(are)i(similar)c(to)
j(Mo)q(dula-2+)g(v)o(ersions)g(designed)h(b)o(y)141 846
y(John)12 b(Ellis.)k(Jim)10 b(Meehan)i(collab)q(orated)f(on)g(the)h
(design)g(of)f Fg(Sx)p Fl(.)16 b(Eric)c(Muller)f(and)h(Jorge)141
896 y(Stol\014)d(explored)h(the)g(use)g(of)f(ob)r(ject)i(t)o(yp)q(es)f
(and)f(generic)i(in)o(terfaces)f(for)f(abstractions)h(suc)o(h)141
946 y(as)k(tables.)203 996 y Fg(Wr)i Fl(and)h Fg(Rd)f
Fl(w)o(ere)i(designed)f(b)o(y)f(Mark)h(R.)f(Bro)o(wn)h(and)f(Greg)h
(Nelson)g(and)f(closely)141 1046 y(follo)o(w)c(the)i(design)g(of)g(the)
g(Mo)q(dula-2+)f(streams)h(pac)o(k)n(age.)203 1095 y
Fg(Pathname)e Fl(b)q(orro)o(ws)j(from)d(an)i(earlier)g(v)o(ersion)g
(written)g(b)o(y)g(Eric)g(Muller.)203 1145 y(Jim)f(Horning)i(and)f
(John)h(Guttag)f(wrote)h(formal)e(Larc)o(h)h(sp)q(eci\014cations)i(of)e
Fg(File.T)141 1195 y Fl(and)21 b(its)g(subt)o(yp)q(es,)i(and)e(in)f
(the)i(pro)q(cess)g(ask)o(ed)f(questions)h(leading)e(to)g(substan)o
(tial)141 1245 y(impro)o(v)o(emen)o(ts)12 b(to)h(the)i(sp)q
(eci\014cations)g(in)e(this)h(man)o(ual.)203 1295 y(Mic)o(k)19
b(Jordan)h(help)q(ed)g(re\014ne)g(the)g(op)q(erating-system)f(in)o
(terfaces)h(and)g(wrote)f(the)141 1345 y(\014rst)c(implem)o(en)o
(tations)c(of)j(them.)203 1394 y Fg(WeakRef)e Fl(w)o(as)h(greatly)f
(impro)o(v)o(ed)g(through)h(long)f(and)h(spirited)g(discussions)h(in)o
(v)o(olv-)141 1444 y(ing)20 b(Luca)h(Cardelli,)h(Da)o(v)o(e)e(Detlefs,)
j(John)e(Ellis,)g(John)g(DeT)m(reville,)h(Mic)o(k)e(Jordan,)141
1494 y(Bill)14 b(Kalso)o(w,)h(Mark)h(Manasse,)g(T)m(ed)g(W)m(obb)q(er,)
f(and)g(Garret)h(Sw)o(art.)23 b(John)16 b(DeT)m(reville)141
1544 y(pro)o(vided)e(the)g(implemen)o(tation.)203 1594
y(John)j(DeT)m(reville)f(collab)q(orated)g(on)h(the)g(design)g(of)f
Fg(RTCollector)e Fl(and)i(the)h(other)141 1643 y(run)o(time)c(in)o
(terfaces.)203 1693 y(Mary-Claire)g(v)n(an)h(Leunen)h(encouraged)f(us)h
(to)e(b)q(egin.)203 1743 y(Finally)m(,)f(this)i(man)o(ual)d(w)o(as)j
(greatly)g(impro)o(v)o(ed)f(b)o(y)g(the)i(group)f(of)f(p)q(eople)i(who)
f(read)141 1793 y(earlier)g(drafts)g(and)g(participated)g(in)f(a)h
(running)f(discussion)i(on)e(an)h(electronic)h(bulletin)141
1843 y(b)q(oard:)31 b(Ed)21 b(Balk)o(o)o(vic)o(h,)g(Andrew)g(Birrell,)h
(Hans)f(Bo)q(ehm,)g(Marc)g(H.)f(Bro)o(wn,)i(Mik)o(e)141
1892 y(Burro)o(ws,)f(Luca)f(Cardelli,)f(Mic)o(hel)h(Dagenais,)g(Alan)e
(Demers,)j(Da)o(v)o(e)e(Detlefs,)h(Mik)o(e)141 1942 y(Dixon,)10
b(John)h(DeT)m(reville,)f(Stev)o(e)h(F)m(reeman,)g(Mic)o(hel)f
(Gangnet,)h(Da)o(vid)e(Goldb)q(erg,)i(Judy)141 1992 y(Hall,)f(Da)o(v)o
(e)h(Hanson,)h(Carl)f(Hauser,)h(Allan)f(Heydon,)g(Ch)o(uc)o(k)h
(Jerian,)g(Butler)g(Lampson,)141 2042 y(Mark)20 b(Manasse,)h(Eric)g
(Muller,)f(Hal)f(Murra)o(y)m(,)i(Da)o(vid)d(Nic)o(hols,)j(Sharon)f(P)o
(erl,)h(Da)o(v)o(e)141 2092 y(Redell,)13 b(Eric)i(Rob)q(erts,)f(Rob)q
(ert)g(Sedgewic)o(k,)h(Mik)o(e)e(Spreitzer,)j(Garret)e(Sw)o(art,)g(Sam)
o(uel)141 2142 y(W)m(eb)q(er,)g(and)g(T)m(ed)g(W)m(obb)q(er.)p
eop
%%Page: 8 10
8 9 bop eop
%%Page: 1 11
1 10 bop 1552 162 a Fl(1)141 307 y Fj(1)69 b(In)n(tro)r(duction)203
431 y Fl(Mo)q(dula-3)25 b(in)o(vites)i(y)o(ou)e(to)i(structure)h(y)o
(our)e(program)f(as)h(a)g(set)h(of)f(mo)q(dules)141 481
y(in)o(terconnected)i(via)d(in)o(terfaces.)56 b(Eac)o(h)26
b(in)o(terface)h(t)o(ypically)d(corresp)q(onds)k(to)e(an)141
531 y(abstract)17 b(data)f(t)o(yp)q(e.)27 b(Some)15 b(of)h(these)h
(abstractions)g(are)g(particular)f(to)h(the)g(program)141
581 y(at)h(hand,)h(but)f(others)h(are)g(more)e(general.)32
b(This)18 b(man)o(ual)e(describ)q(es)k(a)e(collection)g(of)141
631 y(in)o(terfaces)13 b(de\014ning)f(abstractions)h(that)f(SR)o(C's)g
(programmers)e(ha)o(v)o(e)i(found)g(useful)g(o)o(v)o(er)141
681 y(a)i(n)o(um)o(b)q(er)f(of)g(y)o(ears)h(of)g(exp)q(erience)i(with)d
(Mo)q(dula-3)g(and)h(its)g(precursors.)203 732 y(This)27
b(man)o(ual)e(concen)o(trates)k(on)e(basic)g(abstractions)h(suc)o(h)g
(as)f(the)h(standard)141 782 y(in)o(terfaces)f(required)h(or)e
(recommended)f(b)o(y)h(the)h(Mo)q(dula-3)f(language)f(de\014nition,)141
832 y(v)n(arious)20 b(data)g(structures,)k(p)q(ortable)d(op)q
(erating-system)f(functions,)i(and)e(con)o(trol)h(of)141
882 y(the)16 b(Mo)q(dula-3)f(run)o(time.)22 b(F)m(or)15
b(building)f(distributed)j(systems,)e(see)i([2].)22 b(F)m(or)16
b(building)141 931 y(user)f(in)o(terfaces,)f(see)h([11],)d([4],)h(and)g
([5].)141 1057 y Ff(1.1)56 b(Naming)17 b(con)n(v)n(en)n(tions)i(for)f
(t)n(yp)r(es.)141 1137 y Fl(W)m(e)e(generally)g(giv)o(e)f(the)i(name)e
Fg(T)h Fl(to)g(the)g(main)e(t)o(yp)q(e)j(in)f(an)g(in)o(terface.)25
b(F)m(or)16 b(example,)141 1186 y(the)e(main)e(t)o(yp)q(e)j(in)e(the)i
Fg(Date)e Fl(in)o(terface)h(is)g Fg(Date.T)p Fl(.)203
1238 y(Most)21 b(ob)r(ject)h(t)o(yp)q(es)g(ha)o(v)o(e)e(a)h(metho)q(d)f
(that)g(is)h(resp)q(onsible)h(for)e(initializing)e(the)141
1288 y(ob)r(ject.)g(By)13 b(con)o(v)o(en)o(tion,)e(this)h(metho)q(d)g
(is)g(named)f Fg(init)p Fl(,)g(and)h(returns)h(the)g(ob)r(ject)g(after)
141 1338 y(initializing)e(it,)h(so)i(that)f(the)h(ob)r(ject)h(can)e(b)q
(e)h(initialized)e(and)h(used)i(in)e(an)g(expression)h(at)141
1387 y(the)g(same)f(time:)k(for)d(example,)303 1467 y
Fg(VAR)21 b(s)h(:=)f(NEW\(Sequence.T\).in)o(it\(\))o(;)203
1599 y Fl(If)h(there)h(are)f(sev)o(eral)g(di\013eren)o(t)h(w)o(a)o(ys)f
(to)f(initialize)g(the)h(ob)r(ject,)i(there)f(will)d(b)q(e)141
1649 y(sev)o(eral)i(metho)q(ds.)41 b(The)23 b(most)d(basic)i(will)e(b)q
(e)i(named)f Fg(init)g Fl(and)h(the)g(others)h(will)141
1698 y(receiv)o(e)15 b(descriptiv)o(e)g(names.)i(F)m(or)d(example,)e
Fg(Sequence.T.init)f Fl(initializes)h(an)i(empt)o(y)141
1748 y(sequence;)i Fg(Sequence.T.from)o(Array)10 b Fl(initializes)j(a)h
(sequence)i(from)c(an)h(arra)o(y)m(.)203 1800 y(Man)o(y)g(of)g(our)h(t)
o(yp)q(es)g(are)g(\\abstract")g(in)f(the)h(sense)h(that)f(they)g
(de\014ne)g(the)h(metho)q(ds)141 1850 y(of)d(a)g(t)o(yp)q(e,)h(but)g
(not)f(their)h(implemen)o(tatio)o(ns.)i(V)m(arious)d(subt)o(yp)q(es)i
(of)e(the)h(abstract)h(t)o(yp)q(e)141 1899 y(de\014ne)21
b(di\013eren)o(t)g(metho)q(ds)e(corresp)q(onding)i(to)f(di\013eren)o(t)
h(instances)g(of)f(the)g(abstract)141 1949 y(t)o(yp)q(e.)41
b(F)m(or)20 b(example,)i(the)f(t)o(yp)q(e)h Fg(Rd.T)e
Fl(is)h(a)g(abstract)h(reader)h(\(a)e(stream)g(of)f(input)141
1999 y(c)o(haracters\).)g(Its)13 b(subt)o(yp)q(e)h Fg(FileRd.T)d
Fl(is)i(a)g(reader)h(whose)g(source)g(is)f(a)f(\014le;)h(its)g(subt)o
(yp)q(e)141 2049 y Fg(TextRd.T)f Fl(is)i(a)g(reader)h(whose)f(source)h
(is)f(a)g(text)g(string.)203 2100 y(If)f(y)o(ou)g(allo)q(cate)g(an)h
(ob)r(ject)g(of)f(an)g(abstract)i(t)o(yp)q(e)f(and)f(attempt)g(to)g
(use)i(it,)d(y)o(ou)i(will)141 2150 y(almost)j(certainly)i(get)g(a)g(c)
o(hec)o(k)o(ed)h(run)o(time)e(error,)j(since)f(its)f(metho)q(ds)f(will)
g(b)q(e)h Fg(NIL)p Fl(.)141 2200 y(Therefore,)h(y)o(ou)d(m)o(ust)g
(read)h(the)h(in)o(terfaces)g(to)e(\014nd)i(out)e(whic)o(h)h(t)o(yp)q
(es)h(are)f(abstract)141 2250 y(and)d(whic)o(h)g(are)g(concrete.)23
b(The)16 b(t)o(ypical)e(pattern)i(is)e(that)h(an)g(abstract)h(t)o(yp)q
(e)f(do)q(es)h(not)141 2300 y(ha)o(v)o(e)k(an)f Fg(init)g
Fl(metho)q(d,)h(but)g(eac)o(h)g(of)g(its)f(concrete)j(instances)f(do)q
(es.)37 b(This)19 b(allo)o(ws)141 2350 y(di\013eren)o(t)f(subt)o(yp)q
(es)f(to)g(b)q(e)g(initialized)e(di\013eren)o(tly)m(.)26
b(F)m(or)16 b(example,)g Fg(FileRd.T)f Fl(has)h(an)141
2399 y Fg(init)c Fl(metho)q(d)g(that)g(tak)o(es)i(a)e(\014le;)h
Fg(TextRd.T)e Fl(has)h(an)h Fg(init)f Fl(metho)q(d)g(that)g(tak)o(es)i
(a)e(text;)141 2449 y(and)i Fg(Rd.T)f Fl(has)h(no)f Fg(init)g
Fl(metho)q(d)g(at)h(all.)p eop
%%Page: 2 12
2 11 bop 318 162 a Fl(2)1010 b Fe(1)41 b(INTR)o(ODUCTION)380
307 y Fl(F)m(or)12 b(some)f(abstract)i(t)o(yp)q(es)g(w)o(e)f(c)o(ho)q
(ose)h(to)e(honor)h(one)g(of)g(its)g(subt)o(yp)q(es)h(as)f(a)g
(\\default)318 357 y(implemen)o(tatio)o(n".)35 b(F)m(or)20
b(example,)g(w)o(e)g(pro)o(vide)g(a)g(hash)h(table)f(implemen)o(tation)
d(as)318 407 y(the)j(default)f(for)h(the)g(abstract)g(t)o(yp)q(e)g
Fg(Table.T)p Fl(.)e(In)h(this)h(case)g(w)o(e)g(v)n(ary)f(the)h(naming)
318 457 y(con)o(v)o(en)o(tion:)30 b(instead)21 b(of)e(a)h(separate)h
(in)o(terface)g Fg(HashTable)d Fl(de\014ning)i(the)h(concrete)318
506 y(t)o(yp)q(e)e Fg(HashTable.T)e Fl(as)i(a)g(subt)o(yp)q(e)h(of)e
Fg(Table.T)p Fl(,)f(w)o(e)i(declare)h(the)g(default)e(concrete)318
556 y(t)o(yp)q(e)12 b(in)g(the)g(same)f(in)o(terface)i(with)e(the)h
(abstract)h(t)o(yp)q(e)g(and)e(giv)o(e)h(it)f(the)h(name)f
Fg(Default)p Fl(.)318 606 y(Th)o(us)i Fg(Table.T)e Fl(and)i
Fg(Table.Default)d Fl(are)k(resp)q(ectiv)o(ely)g(the)f(abstract)h
(table)f(t)o(yp)q(e)g(and)318 656 y(its)h(default)h(implem)o(en)o
(tation)c(via)j(hash)h(tables.)20 b(If)14 b(y)o(ou)g(w)o(an)o(t)g(to)g
(allo)q(cate)g(a)g(table)h(y)o(ou)318 706 y(m)o(ust)f(allo)q(cate)g(a)g
Fg(Table.Default)p Fl(,)e(not)i(a)g Fg(Table.T)p Fl(.)f(On)i(the)g
(other)h(hand,)e(if)g(y)o(ou)g(are)318 756 y(de\014ning)e(a)g(pro)q
(cedure)i(that)e(requires)h(a)f(table)g(as)g(a)g(parameter,)g(y)o(ou)f
(probably)h(w)o(an)o(t)f(to)318 805 y(declare)16 b(the)f(parameter)f
(as)h(a)f Fg(Table.T)p Fl(,)f(not)i(a)f Fg(Table.Default)p
Fl(,)e(to)i(a)o(v)o(oid)f(excluding)318 855 y(other)i(table)e(implemen)
o(tations.)380 906 y(W)m(e)24 b(use)h(abstract)h(t)o(yp)q(es)f(only)e
(when)i(they)g(seem)f(adv)n(an)o(tageous.)49 b(Th)o(us)24
b(the)318 956 y(t)o(yp)q(e)d Fg(Sequence.T)p Fl(,)c(whic)o(h)j
(represen)o(ts)i(an)e(extensible)h(sequence,)i(could)d(ha)o(v)o(e)g(b)q
(een)318 1005 y(an)g(abstract)h(t)o(yp)q(e,)h(since)f(di\013eren)o(t)h
(implem)o(en)o(tations)c(are)j(easy)f(to)h(imagine.)35
b(But)318 1055 y(engineering)28 b(considerations)g(argue)h(against)e(m)
o(ultiple)e(implemen)o(tations,)j(so)g(w)o(e)318 1105
y(declared)15 b Fg(Sequence.T)d Fl(as)i(a)f(concrete)j(t)o(yp)q(e.)318
1225 y Ff(1.2)56 b(Concurrency)-5 b(.)318 1303 y Fl(The)14
b(sp)q(eci\014cation)f(of)g(a)g(Mo)q(dula-3)f(in)o(terface)i(m)o(ust)e
(explain)g(ho)o(w)h(to)g(use)h(the)g(in)o(terface)318
1353 y(in)19 b(a)h(m)o(ultithreaded)f(program.)34 b(When)20
b(not)g(otherwise)g(sp)q(eci\014ed,)j(eac)o(h)d(pro)q(cedure)318
1403 y(or)g(metho)q(d)f(is)h Fd(atomic)p Fl(:)30 b(it)20
b(transforms)f(an)g(initial)f(state)j(to)f(a)g(\014nal)f(state)i(with)e
(no)318 1453 y(in)o(termediate)13 b(states)i(that)f(can)g(b)q(e)h
(observ)o(ed)g(b)o(y)e(other)i(threads.)380 1503 y(Alternativ)o(ely)m
(,)22 b(a)f(data)g(structure)j(\(the)e(state)g(of)f(an)g(en)o(tire)h
(in)o(terface,)h(or)f(of)e(a)318 1553 y(particular)12
b(instance)i(of)d(an)i(ob)r(ject)g(t)o(yp)q(e\))g(can)g(b)q(e)g(sp)q
(eci\014ed)h(as)e Fd(unmonitor)n(e)n(d)p Fl(,)h(in)f(whic)o(h)318
1603 y(case)19 b(the)g(pro)q(cedures)h(and)e(metho)q(ds)g(op)q(erating)
g(on)g(it)g(are)g(not)g(necessarily)h(atomic.)318 1653
y(In)d(this)g(case)h(it)e(is)h(the)g(clien)o(t's)g(resp)q(onsibilit)o
(y)f(to)h(ensure)h(that)f(m)o(ultiple)e(threads)j(are)318
1703 y(not)d(accessing)h(the)f(data)f(structure)j(at)e(the)g(same)f
(time|or)f(more)g(precisely)m(,)i(that)g(this)318 1753
y(happ)q(ens)i(only)f(if)g(all)f(the)i(concurren)o(t)h(accesses)i(are)c
(read-only)h(op)q(erations.)23 b(Th)o(us)15 b(for)318
1802 y(an)h(unmonitored)e(data)i(structure,)i(the)f(sp)q(eci\014cation)
f(m)o(ust)f(state)i(whic)o(h)f(pro)q(cedures)318 1852
y(or)e(metho)q(ds)f(are)i(read-only)m(.)380 1903 y(If)e(all)f(op)q
(erations)h(are)g(read-only)m(,)f(there)j(is)e(no)f(di\013erence)j(b)q
(et)o(w)o(een)g(monitored)c(and)318 1953 y(unmonitored)i(data)g
(structures.)318 2073 y Ff(1.3)56 b(Aliasing.)318 2151
y Fl(The)12 b(pro)q(cedures)i(and)e(metho)q(ds)g(de\014ned)g(in)g(this)
g(man)o(ual)d(are)j(not)g(guaran)o(teed)h(to)e(w)o(ork)318
2201 y(with)j(aliased)f Fg(VAR)g Fl(parameters.)318 2321
y Ff(1.4)56 b(Exception)17 b(parameters)g(for)h(abstract)h(t)n(yp)r
(es.)318 2399 y Fl(It)d(is)f(often)g(useful)h(for)f(an)g(exception)h
(to)g(include)f(a)g(parameter)g(pro)o(viding)g(debugging)318
2449 y(information)g(of)j(use)h(to)g(the)g(programmer,)d(esp)q(ecially)
j(when)g(the)g(exception)g(signals)p eop
%%Page: 3 13
3 12 bop 141 162 a Fe(1.5)41 b(Standard)14 b(generic)g(instances.)821
b Fl(3)141 307 y(abstraction)19 b(failure.)32 b(Di\013eren)o(t)20
b(implem)o(en)o(tations)c(of)j(an)f(abstract)i(t)o(yp)q(e)f(ma)o(y)e
(wish)141 357 y(to)j(supply)g(di\013eren)o(t)h(debugging)f
(information.)34 b(By)20 b(con)o(v)o(en)o(tion,)h(w)o(e)g(use)g(the)g
(t)o(yp)q(e)141 407 y Fg(AtomList.T)12 b Fl(for)i(this)g(purp)q(ose.)20
b(The)15 b(\014rst)g(elemen)o(t)f(of)f(the)i(list)f(is)g(an)g(error)h
(co)q(de;)f(the)141 457 y(sp)q(eci\014cation)j(of)e(the)i(subsequen)o
(t)h(elemen)o(ts)e(is)g(deferred)i(to)e(the)h(subt)o(yp)q(es.)26
b(P)o(ortable)141 506 y(mo)q(dules)13 b(should)g(treat)i(the)g(en)o
(tire)f(parameter)g(as)g(an)f(opaque)h(t)o(yp)q(e.)203
560 y(An)22 b(implemen)o(tation)c(mo)q(dule)j(can)h(minim)o(ize)d(the)k
(probabilit)o(y)d(of)h(collision)f(b)o(y)141 609 y(pre\014xing)14
b(its)g(mo)q(dule)e(name)h(to)h(eac)o(h)g(atom)e(that)i(it)g(includes)g
(in)f(the)i(list.)141 743 y Ff(1.5)56 b(Standard)19 b(generic)e
(instances.)141 826 y Fl(Sev)o(eral)29 b(of)g(the)g(in)o(terfaces)h(in)
f(this)g(man)o(ual)d(are)k(generic.)64 b(Unless)30 b(otherwise)141
876 y(sp)q(eci\014ed,)15 b(standard)g(instances)g(of)f(these)h(in)o
(terfaces)g(are)g(pro)o(vided)f(for)g(all)f(meaningful)141
926 y(com)o(binations)h(of)i(the)g(formal)e(imp)q(orts)h(ranging)g(o)o
(v)o(er)h Fg(Atom)p Fl(,)g Fg(Integer)p Fl(,)e Fg(Refany)p
Fl(,)h(and)141 975 y Fg(Text)p Fl(.)203 1029 y(F)m(or)e(eac)o(h)g(in)o
(terface)h(that)f(is)f(lik)o(ely)g(to)h(b)q(e)g(used)h(as)f(a)g
(generic)h(parameter,)e(w)o(e)h(de\014ne)141 1078 y(pro)q(cedures)j
Fg(Equal)p Fl(,)d Fg(Compare)p Fl(,)e(and)j Fg(Hash)p
Fl(.)203 1132 y(The)f(pro)q(cedure)h Fg(Equal)d Fl(m)o(ust)h(compute)f
(an)h(equiv)n(alence)h(relation)f(on)g(the)h(v)n(alues)f(of)141
1181 y(the)j(t)o(yp)q(e;)h(for)e(example,)f Fg(Text.Equal\(t,)19
b(s\))c Fl(tests)h(whether)g Fg(t)e Fl(and)h Fg(s)f Fl(represen)o(t)j
(the)141 1231 y(same)12 b(string.)18 b(\(This)13 b(is)g(di\013eren)o(t)
i(from)c Fg(t)22 b(=)f(s)p Fl(,)13 b(whic)o(h)g(tests)h(whether)h
Fg(t)e Fl(and)g Fg(s)g Fl(are)g(the)141 1281 y(same)g(reference.\))203
1334 y(If)d(there)h(is)f(a)f(natural)g(total)h(order)g(on)g(a)f(t)o(yp)
q(e,)i(then)f(w)o(e)g(de\014ne)h(a)f Fg(Compare)e Fl(pro)q(cedure)141
1384 y(to)14 b(compute)f(it,)g(as)h(follo)o(ws:)241 1497
y Fg(PROCEDURE)20 b(Compare\(x,)f(y:)j(X\):)f([-1..1];)241
1566 y Fe(Return)403 1650 y Fc(-1)g Fl(if)g Fc(x)g(R)h(y)g
Fl(and)13 b(not)22 b Fc(Equal\(x,)e(y\))p Fl(,)424 1704
y Fc(0)i Fl(if)f Fc(Equal\(x,)f(y\))p Fl(,)13 b(and)424
1757 y Fc(1)22 b Fl(if)f Fc(y)g(R)h(x)g Fl(and)13 b(not)22
b Fc(Equal\(x,)e(y\))p Fl(.)203 1845 y(\(T)m(ec)o(hnically)m(,)g
Fg(Compare)f Fl(represen)o(ts)j(a)e(total)f(order)i(on)f(the)h(equiv)n
(alence)f(classes)141 1895 y(of)d(the)h(t)o(yp)q(e)g(with)f(resp)q(ect)
j(to)e Fg(Equal)p Fl(.\))28 b(If)17 b(there)i(is)e(no)g(natural)g
(order,)i(w)o(e)f(de\014ne)g(a)141 1944 y Fg(Compare)f
Fl(pro)q(cedure)k(that)d(causes)i(a)f(c)o(hec)o(k)o(ed)h(run)o(time)d
(error.)33 b(This)19 b(allo)o(ws)e(y)o(ou)h(to)141 1994
y(instan)o(tiate)12 b(generic)h(routines)f(that)h(require)g(an)e(order)
i(\(suc)o(h)g(as)f(sorting)g(routines\),)h(but)141 2044
y(requires)i(y)o(ou)e(to)g(pass)h(a)g(compare)e(pro)q(cedure)k(as)e(an)
f(explicit)g(argumen)o(t)f(when)j(calling)141 2094 y(the)f(generic)h
(routine.)203 2147 y(The)h(function)f Fg(Hash)f Fl(is)h(a)g(hash)h
(function)f(mapping)e(v)n(alues)i(of)f(a)h(t)o(yp)q(e)h
Fg(T)f Fl(to)g(v)n(alues)141 2197 y(of)h(t)o(yp)q(e)h
Fg(Word.T)p Fl(.)d(This)i(means)g(that)g(\(1\))h(it)e(is)i(time-in)o(v)
n(arian)n(t,)d(\(2\))i(if)g Fg(t1)g Fl(and)g Fg(t2)g
Fl(are)141 2247 y(v)n(alues)i(of)f(t)o(yp)q(e)i Fg(T)e
Fl(suc)o(h)i(that)f Fg(Equal\(t1,)i(t2\))p Fl(,)e(then)h
Fg(Hash\(t1\))h(=)h(Hash\(t2\))p Fl(,)c(and)141 2296
y(\(3\))d(its)g(range)g(is)g(distributed)g(uniformly)d(throughout)j
Fg(Word.T)p Fl(.)203 2350 y(Note)i(that)g(it)f(is)g(not)g(v)n(alid)f
(to)i(use)g Fg(LOOPHOLE\(r,)j(INTEGER\))14 b Fl(as)i(a)f(hash)g
(function)141 2399 y(for)h(a)g(reference)i Fg(r)p Fl(,)e(since)h(this)f
(is)g(not)g(time-in)o(v)n(arian)o(t)d(on)j(implemen)o(tations)d(that)j
(use)141 2449 y(cop)o(ying)d(garbage)h(collectors.)p
eop
%%Page: 4 14
4 13 bop 318 162 a Fl(4)1010 b Fe(1)41 b(INTR)o(ODUCTION)318
307 y Ff(1.6)56 b(Sets)18 b(and)h(relations.)318 384
y Fl(The)h(sp)q(eci\014cations)g(in)f(this)h(man)o(ual)c(are)k(written)
g(informally)c(but)k(precisely)m(,)g(using)318 434 y(basic)e
(mathematical)d(concepts.)32 b(F)m(or)18 b(completeness,)h(here)h(are)e
(de\014nitions)g(of)g(these)318 483 y(concepts.)380 533
y(A)24 b Fd(set)g Fl(is)g(a)g(collection)g(of)f(elemen)o(ts,)j(without)
e(consideration)g(of)g(ordering)g(or)318 583 y(duplication:)17
b(t)o(w)o(o)c(sets)j(are)e(equal)f(if)g(and)h(only)f(if)g(they)i(con)o
(tain)e(the)i(same)e(elemen)o(ts.)380 633 y(If)g Fg(X)h
Fl(and)f Fg(Y)g Fl(are)h(sets,)g(a)g Fd(map)f Fg(m)h
Fl(from)d Fg(X)j Fl(to)f Fg(Y)g Fl(uniquely)g(determines)h(for)f(eac)o
(h)h Fg(x)f Fl(in)g Fg(X)318 683 y Fl(an)i(elemen)o(t)g
Fg(y)g Fl(in)f Fg(Y)p Fl(;)h(w)o(e)g(write)h Fg(y)21
b(=)h(m\(x\))p Fl(.)f(W)m(e)15 b(refer)h(to)f(the)h(set)g
Fg(X)f Fl(as)g(the)h Fd(domain)g Fl(of)318 732 y Fg(m)p
Fl(,)c(or)h Fg(dom\(m\))f Fl(for)h(short,)g(and)g(the)g(set)h
Fg(Y)f Fl(as)g(the)h Fd(r)n(ange)f Fl(of)f Fg(m)p Fl(.)18
b(A)13 b Fd(p)n(artial)f Fl(map)f(from)g Fg(X)i Fl(to)318
782 y Fg(Y)h Fl(is)f(a)h(map)e(from)g(some)h(subset)j(of)d
Fg(X)h Fl(to)f Fg(Y)p Fl(.)380 832 y(If)h Fg(X)g Fl(is)g(a)g(set,)h(a)f
Fd(r)n(elation)g Fg(R)g Fl(on)g Fg(X)g Fl(is)g(a)g(set)h(of)f(ordered)h
(pairs)f Fg(\(x,)21 b(y\))14 b Fl(with)g Fg(x)g Fl(and)g
Fg(y)318 882 y Fl(elemen)o(ts)g(of)f Fg(X)p Fl(.)g(W)m(e)h(write)g
Fg(x)21 b(R)h(y)14 b Fl(if)f Fg(\(x,)21 b(y\))13 b Fl(is)h(an)g(elemen)
o(t)f(of)g Fg(R)p Fl(.)380 932 y(A)e(relation)f Fg(R)h
Fl(on)f Fg(X)h Fl(is)f Fd(r)n(e\015exive)h Fl(if)f Fg(x)22
b(R)f(x)11 b Fl(for)f(ev)o(ery)i Fg(x)e Fl(in)g Fg(X)p
Fl(;)g(it)h(is)f Fd(symmetric)g Fl(if)g Fg(x)22 b(R)f(y)318
982 y Fl(implies)12 b(that)h Fg(y)22 b(R)f(x)14 b Fl(for)f(ev)o(ery)h
Fg(x)p Fl(,)f Fg(y)g Fl(in)g Fg(X)p Fl(;)g(it)g(is)h
Fd(tr)n(ansitive)e Fl(if)h Fg(x)22 b(R)f(y)14 b Fl(and)f
Fg(y)22 b(R)f(z)14 b Fl(imply)318 1031 y Fg(x)22 b(R)f(z)16
b Fl(for)g(ev)o(ery)h Fg(x)p Fl(,)f Fg(y)p Fl(,)g Fg(z)g
Fl(in)g Fg(X)p Fl(;)f(and)h(it)g(is)g(an)g Fd(e)n(quivalenc)n(e)i(r)n
(elation)d Fl(if)h(it)g(is)g(re\015exiv)o(e,)318 1081
y(symmetric,)c(and)h(transitiv)o(e.)380 1131 y(A)g(relation)f
Fg(R)g Fl(on)h Fg(X)f Fl(is)h Fd(antisymmetric)e Fl(if)h(for)h(ev)o
(ery)g Fg(x)f Fl(and)h Fg(y)f Fl(in)g Fg(X)p Fl(,)g Fg(x)22
b(=)f(y)13 b Fl(whenev)o(er)318 1181 y(b)q(oth)22 b Fg(x)g(R)g(y)g
Fl(and)g Fg(y)f(R)h(x)p Fl(;)k Fg(R)c Fl(is)g(a)g Fd(total)g(or)n(der)g
Fl(if)f(it)h(is)g(re\015exiv)o(e,)j(an)o(tisymmetric,)318
1231 y(transitiv)o(e,)13 b(and)h(if,)f(for)g(ev)o(ery)i
Fg(x)e Fl(and)h Fg(y)g Fl(in)f Fg(X)p Fl(,)g(either)i
Fg(x)22 b(R)f(y)14 b Fl(or)g Fg(y)21 b(R)h(x)p Fl(.)380
1280 y(If)17 b Fg(x)h Fl(and)f Fg(y)h Fl(are)g(elemen)o(ts)f(of)g(a)g
(set)i Fg(X)e Fl(that)h(is)f(totally)f(ordered)j(b)o(y)f(a)f(relation)g
Fg(R)p Fl(,)318 1330 y(w)o(e)j(de\014ne)h(the)g Fd(interval)e
Fg([x..y])g Fl(as)h(the)h(set)g(of)e(all)g Fg(z)h Fl(in)g
Fg(X)f Fl(suc)o(h)i(that)f Fg(x)i(R)f(z)f Fl(and)318
1380 y Fg(z)i(R)f(y)p Fl(.)j(Note)16 b(that)g(the)g(notation)f(do)q
(esn't)i(men)o(tion)d Fg(R)p Fl(,)h(whic)o(h)h(is)g(usually)f(clear)h
(from)318 1430 y(the)i(con)o(text)g(\(e.g.,)f Fi(\024)h
Fl(for)f(n)o(um)o(b)q(ers\).)28 b(W)m(e)17 b(sa)o(y)g
Fg([x..y])f Fl(is)h Fd(close)n(d)g Fl(at)h(its)f(upp)q(er)h(and)318
1480 y(lo)o(w)o(er)i(endp)q(oin)o(ts)h(b)q(ecause)i(it)d(includes)h
Fg(x)f Fl(and)h Fg(y)p Fl(.)38 b(Half-op)q(en)20 b(and)g(op)q(en)i(in)o
(terv)n(als)318 1530 y(exclude)15 b(one)f(or)f(b)q(oth)h(endp)q(oin)o
(ts;)g(notationally)e(w)o(e)i(substitute)h(a)e(paren)o(thesis)i(for)e
(the)318 1579 y(corresp)q(onding)i(brac)o(k)o(et,)f(for)f(example)g
Fg([x..y\))g Fl(or)g Fg(\(x..y\))p Fl(.)380 1629 y(A)18
b Fd(se)n(quenc)n(e)h Fg(s)f Fl(is)g(a)g(map)e(whose)j(domain)d(is)i(a)
g(set)h(of)e(consecutiv)o(e)j(in)o(tegers.)31 b(In)318
1679 y(other)13 b(w)o(ords,)g(if)e Fg(dom\(s\))h Fl(is)g(not)g(empt)o
(y)m(,)f(there)j(are)f(in)o(tegers)g Fg(l)f Fl(and)h
Fg(u)p Fl(,)f(with)g Fg(l<=u)p Fl(,)f(suc)o(h)318 1729
y(that)j Fg(dom\(s\))f Fl(is)h Fg([l..u])p Fl(.)j(W)m(e)c(often)h
(write)h Fg(s[i])e Fl(instead)h(of)f Fg(s\(i\))p Fl(,)g(to)h(emphasize)
f(the)318 1779 y(similarit)o(y)c(to)j(a)g(Mo)q(dula-3)f(arra)o(y)m(.)16
b(If)c(the)h(range)f(of)g Fg(s)f Fl(is)h Fg(Y)p Fl(,)g(w)o(e)g(refer)h
(to)f Fg(s)g Fl(as)g(a)g(sequence)318 1828 y(of)18 b
Fg(Y)p Fl('s.)30 b(The)19 b Fd(length)f Fl(of)f(a)h(sequence)j
Fg(s)p Fl(,)d(or)g Fg(len\(s\))p Fl(,)g(is)g(the)h(n)o(um)o(b)q(er)e
(of)h(elemen)o(ts)g(in)318 1878 y Fg(dom\(s\))p Fl(.)380
1928 y(In)12 b(the)g(sp)q(eci\014cations,)h(w)o(e)f(often)g(sp)q(eak)h
(of)e(assigning)g(to)g(an)h(elemen)o(t)f(of)g(a)h(sequence)318
1978 y(or)k(map,)e(whic)o(h)i(is)g(really)f(a)h(shorthand)g(for)f
(replacing)h(the)h(sequence)h(or)e(map)e(with)h(a)318
2028 y(suitable)c(new)h(one.)17 b(That)12 b(is,)f(assigning)f
Fg(m\(i\))21 b(:=)h(x)11 b Fl(is)g(lik)o(e)g(assigning)f
Fg(m)22 b(:=)f(m')p Fl(,)11 b(where)318 2077 y Fg(dom\(m'\))j
Fl(is)i(the)g(union)f(of)g Fg(dom\(m\))g Fl(and)g Fg({i})p
Fl(,)g(where)i Fg(m'\(i\))k(=)g(x)p Fl(,)16 b(and)f(where)i
Fg(m'\(j\))318 2127 y(=)22 b(m\(j\))13 b Fl(for)g(all)g
Fg(j)g Fl(di\013eren)o(t)i(from)d Fg(i)i Fl(and)g(in)f
Fg(dom\(m\))p Fl(.)380 2177 y(If)d Fg(s)g Fl(is)h(a)f(\014nite)g
(sequence,)j(and)d Fg(R)g Fl(is)h(a)f(total)f(order)i(on)g(the)g(range)
f(of)g Fg(s)p Fl(,)g(then)h Fd(sorting)f Fg(s)318 2227
y Fl(means)g(to)g(reorder)i(its)f(elemen)o(ts)f(so)h(that)g(for)f(ev)o
(ery)h(pair)f(of)g(indexes)i Fg(i)e Fl(and)g Fg(j)h Fl(in)f
Fg(dom\(s\))p Fl(,)318 2277 y Fg(s[i])21 b(R)h(s[j])14
b Fl(whenev)o(er)j Fg(i)22 b(<=)f(j)p Fl(.)i(W)m(e)15
b(sa)o(y)h(that)f(a)h(particular)f(sorting)g(algorithm)e(is)318
2327 y Fd(stable)g Fl(if)f(it)h(preserv)o(es)j(the)e(original)d(order)j
(of)f(elemen)o(ts)g(that)g(are)h(equiv)n(alen)o(t)e(under)j
Fg(R)p Fl(.)p eop
%%Page: 5 15
5 14 bop 1552 162 a Fl(5)141 307 y Fj(2)69 b(Standard)25
b(in)n(terfaces)141 398 y Fl(This)11 b(section)g(presen)o(ts)h(the)g
(in)o(terfaces)f(required)h(b)o(y)e(ev)o(ery)i(Mo)q(dula-3)d(implemen)o
(tation.)141 448 y(The)23 b(v)o(ersions)f(included)h(here)g(ha)o(v)o(e)
f(some)f(minor)f(c)o(hanges)j(and)f(additions)f(to)h(the)141
498 y(v)o(ersions)14 b(in)g([13)o(].)245 580 y Fg(Text)f
Fl(pro)o(vides)h(op)q(erations)g(on)g(text)g(strings.)245
647 y Fg(Thread)h Fl(pro)o(vides)h(sync)o(hronization)g(primitiv)o(es)f
(for)h(m)o(ultiple)e(threads)j(of)245 697 y(con)o(trol.)245
763 y Fg(Word)c Fl(pro)o(vides)h(op)q(erations)g(on)g(unsigned)g(w)o
(ords.)245 829 y Fg(Real)p Fl(,)22 b Fg(LongReal)p Fl(,)f(and)g
Fg(ExtendedReal)e Fl(de\014ne)k(the)f(prop)q(erties)h(of)e(the)245
879 y(three)15 b(\015oating-p)q(oin)o(t)d(t)o(yp)q(es;)j(for)e
(example,)f(their)j(bases)f(and)g(ranges.)245 945 y Fg(RealFloat)p
Fl(,)c Fg(LongRealFloat)p Fl(,)f(and)j Fg(ExtendedFloat)e
Fl(pro)o(vide)i(n)o(umerical)245 995 y(op)q(erations)h(related)h(to)g
(the)g(\015oating-p)q(oin)o(t)d(represen)o(tation;)k(for)e(example,)245
1045 y(extracting)h(the)h(exp)q(onen)o(t)f(of)g(a)f(n)o(um)o(b)q(er.)
245 1111 y Fg(FloatMode)d Fl(pro)o(vides)h(op)q(erations)h(for)g
(testing)g(\(and)f(p)q(ossibly)h(setting\))g(the)245
1161 y(b)q(eha)o(vior)k(of)f(the)i(implemen)o(tation)c(in)j(resp)q
(onse)i(to)e(n)o(umeric)f(conditions;)245 1211 y(for)e(example,)f(o)o
(v)o(er\015o)o(w.)203 1293 y(This)h(section)h(also)f(presen)o(ts)i(t)o
(w)o(o)e(related)g(in)o(terfaces)i(pro)o(vided)e(b)o(y)g(SR)o(C)f(Mo)q
(dula-3)141 1343 y(and)i(recommended)f(to)g(other)i(implemen)o(ters,)d
(but)i(not)g(required:)245 1426 y Fg(Lex)20 b Fl(pro)o(vides)h(for)f
(parsing)h(n)o(um)o(b)q(ers)f(and)g(other)i(data)e(from)f(an)h(input)
245 1476 y(stream.)245 1542 y Fg(Fmt)13 b Fl(pro)o(vides)h(for)g
(textual)f(formatting)f(of)h(n)o(um)o(b)q(ers)h(and)f(other)i(data.)141
1658 y Ff(2.1)56 b(T)-5 b(ext)141 1760 y Fl(A)11 b(non-nil)f
Fg(TEXT)g Fl(represen)o(ts)j(an)e(imm)n(utable,)d(zero-based)13
b(sequence)g(of)d(c)o(haracters.)19 b Fg(NIL)141 1809
y Fl(do)q(es)14 b(not)g(represen)o(t)i(an)o(y)d(sequence)j(of)d(c)o
(haracters,)i(it)e(will)f(not)i(b)q(e)g(returned)i(from)c(an)o(y)141
1859 y(pro)q(cedure)j(in)d(this)h(in)o(terface,)h(and)e(it)h(is)g(a)f
(c)o(hec)o(k)o(ed)j(run)o(time)c(error)j(to)f(pass)h
Fg(NIL)e Fl(to)h(an)o(y)141 1909 y(pro)q(cedure)j(in)d(this)h(in)o
(terface.)241 2006 y Fg(INTERFACE)20 b(Text;)241 2079
y(IMPORT)g(Word;)241 2151 y(TYPE)h(T)g(=)h(TEXT;)241
2226 y(PROCEDURE)e(Cat\(t,)g(u:)h(T\):)h(T;)241 2288
y Fe(Return)14 b(the)g(concatenation)h(of)e Fc(t)h Fe(and)f
Fc(u)p Fe(.)241 2387 y Fg(PROCEDURE)20 b(Equal\(t,)g(u:)h(T\):)g
(BOOLEAN;)241 2449 y Fe(Return)12 b Fc(TRUE)f Fe(if)f
Fc(t)i Fe(and)f Fc(u)h Fe(ha)o(v)o(e)f(the)h(same)f(length)h(and)f
(\(case-sensitiv)o(e\))i(con)o(ten)o(ts.)p eop
%%Page: 6 16
6 15 bop 318 162 a Fl(6)831 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)418 307 y Fg(PROCEDURE)20 b(GetChar\(t:)f(T;)j
(i:)f(CARDINAL\):)f(CHAR;)418 368 y Fe(Return)13 b(c)o(haracter)h
Fc(i)f Fe(of)f Fc(t)p Fe(.)18 b(It)13 b(is)g(a)f(c)o(hec)o(k)o(ed)j
(run)o(time)c(error)j(if)e Fc(i)22 b(>=)f(Length\(t\))p
Fe(.)418 464 y Fg(PROCEDURE)f(Length\(t:)f(T\):)j(CARDINAL;)418
525 y Fe(Return)14 b(the)g(n)o(um)o(b)q(er)g(of)f(c)o(haracters)j(in)d
Fc(t)p Fe(.)418 621 y Fg(PROCEDURE)20 b(Empty\(t:)g(T\):)h(BOOLEAN;)418
682 y Fe(Equiv)n(alen)o(t)13 b(to)g Fc(Length\(t\))20
b(=)i(0)p Fe(.)418 775 y Fg(PROCEDURE)e(Sub\(t:)g(T;)h(start:)g
(CARDINAL;)461 825 y(length:)g(CARDINAL)f(:=)h(LAST\(CARDINAL\)\):)e
(T;)418 887 y Fe(Return)e(a)f(sub-sequence)j(of)d Fc(t)p
Fe(:)22 b(empt)o(y)16 b(if)f Fc(start)21 b(>=)h(Length\(t\))14
b Fe(or)j Fc(length)418 936 y(=)k(0)p Fe(;)16 b(otherwise)h(the)f
(subsequence)i(ranging)d(from)f Fc(start)g Fe(to)i(the)g(minim)n(um)11
b(of)418 986 y Fc(start+length-1)g Fe(and)i Fc(Length\(t\)-1)p
Fe(.)418 1082 y Fg(PROCEDURE)20 b(SetChars\(VAR)f(a:)i(ARRAY)g(OF)g
(CHAR;)g(t:)h(T\);)418 1143 y Fe(F)m(or)f(eac)o(h)i Fc(i)f
Fe(from)e(0)h(to)h Fc(MIN\(LAST\(a\),)e(Length\(t\)-1\))p
Fe(,)h(set)i Fc(a[i])e Fe(to)418 1193 y Fc(GetChar\(t,)e(i\))p
Fe(.)418 1288 y Fg(PROCEDURE)h(FromChar\(ch:)f(CHAR\):)h(T;)418
1350 y Fe(Return)14 b(a)g(text)g(con)o(taining)f(the)h(single)g(c)o
(haracter)h Fc(ch)p Fe(.)418 1445 y Fg(PROCEDURE)20 b(FromChars\(READO)
o(NLY)f(a:)i(ARRAY)g(OF)g(CHAR\):)g(T;)418 1506 y Fe(Return)14
b(a)g(text)g(con)o(taining)f(the)h(c)o(haracters)i(of)d
Fc(a)p Fe(.)418 1602 y Fg(PROCEDURE)20 b(Hash\(t:)g(T\):)h(Word.T;)418
1663 y Fe(Return)14 b(a)g(hash)g(function)f(of)h(the)g(con)o(ten)o(ts)h
(of)e Fc(t)p Fe(.)418 1759 y Fg(PROCEDURE)20 b(Compare\(t1,)f(t2:)i
(T\):)g([-1..1];)418 1820 y Fe(Return)c(-1)f(if)f Fc(t1)h
Fe(o)q(ccurs)i(b)q(efore)g Fc(t2)p Fe(,)e(0)g(if)g Fc(Equal\(t1,)k
(t2\))p Fe(,)c(+1)g(if)g Fc(t1)g Fe(o)q(ccurs)418 1870
y(after)e Fc(t2)f Fe(in)h(lexicographic)f(order.)418
1965 y Fg(PROCEDURE)20 b(FindChar\(t:)f(T;)i(c:)h(CHAR;)f(start)f(:=)i
(0\):)f(INTEGER;)418 2027 y Fe(If)13 b Fc(c)22 b(=)f(t[i])14
b Fe(for)f(some)g Fc(i)h Fe(in)g Fc([start)20 b(..)h(Length\(t\)-1])p
Fe(,)11 b(return)16 b(the)e(smallest)418 2076 y(suc)o(h)g
Fc(i)p Fe(;)f(otherwise,)i(return)g(-1.)418 2170 y Fg(PROCEDURE)20
b(FindCharR\(t:)f(T;)i(c:)h(CHAR;)461 2220 y(start)f(:=)g
(LAST\(INTEGER\)-5\):)e(INTEGER;)418 2281 y Fe(If)12
b Fc(c)21 b(=)h(t[i])11 b Fe(for)h(some)f Fc(i)h Fe(in)g
Fc([0)22 b(..)f(MIN\(start,)f(Length\(t\)-1\)])p Fe(,)9
b(return)k(the)418 2331 y(largest)h(suc)o(h)g Fc(i)p
Fe(;)g(otherwise,)g(return)h(-1.)418 2426 y Fg(END)21
b(Text.)p eop
%%Page: 7 17
7 16 bop 141 162 a Fe(2.2)41 b(Thread)1185 b Fl(7)141
307 y Fn(SR)o(C)15 b(Implemen)o(tati)o(on)d(Note.)41
b Fl(The)14 b(default)f(v)n(alue)g(for)g(the)h Fg(start)f
Fl(parameter)g(of)141 357 y Fg(FindCharR)f Fl(w)o(as)i(c)o(hosen)h(to)e
(a)o(v)o(oid)g(a)g(bug)h(in)g(some)f(C)g(compilers.)141
501 y Ff(2.2)56 b(Thread)141 604 y Fl(A)18 b Fg(Thread.T)e
Fl(is)i(a)g(handle)g(on)g(a)f(thread.)31 b(A)18 b Fg(Mutex)f
Fl(is)h(lo)q(c)o(k)o(ed)g(b)o(y)g(some)f(thread,)i(or)141
653 y(unlo)q(c)o(k)o(ed.)f(A)c Fg(Condition)e Fl(is)h(a)h(set)g(of)f(w)
o(aiting)g(threads.)19 b(A)14 b(newly-allo)q(cated)f
Fg(Mutex)f Fl(is)141 703 y(unlo)q(c)o(k)o(ed;)j(a)f(newly-allo)q(cated)
g Fg(Condition)e Fl(is)j(empt)o(y)m(.)j(It)d(is)f(a)h(c)o(hec)o(k)o(ed)
h(run)o(time)d(error)141 753 y(to)h(pass)g(the)h Fg(NIL)e(Mutex)p
Fl(,)f Fg(Condition)p Fl(,)g(or)i Fg(T)f Fl(to)h(an)o(y)f(pro)q(cedure)
j(in)e(this)f(in)o(terface.)203 803 y(The)i Fg(Thread)e
Fl(in)o(terface)h(is)g(based)h(on)f(Hoare's)g(monitors)f([7)o(],)g(as)h
(mo)q(di\014ed)f(in)g(Mesa)141 853 y([10)o(])i(and)h(simpli\014ed)e(in)
h(Mo)q(dula-2+)g([15)o(].)23 b(F)m(or)15 b(a)h(tutorial)e(on)i(threads)
h(and)e(a)h(formal)141 903 y(sp)q(eci\014cation)f(of)e(the)h(in)o
(terface,)g(see)h(c)o(hapters)h(4)d(and)h(5)g(of)f([13)o(].)241
1002 y Fg(INTERFACE)20 b(Thread;)241 1075 y(TYPE)284
1123 y(T)i(<:)f(ROOT;)284 1170 y(Mutex)g(=)h(MUTEX;)284
1218 y(Condition)e(<:)i(ROOT;)241 1291 y(TYPE)f(Closure)f(=)i(OBJECT)e
(METHODS)g(apply\(\):)h(REFANY)f(END;)241 1367 y(PROCEDURE)g(Fork\(cl:)
g(Closure\):)g(T;)241 1430 y Fe(Return)14 b(a)g(handle)f(on)h(a)g
(newly)f(created)j(thread)e(executing)h Fc(cl.apply\(\))p
Fe(.)241 1530 y Fg(PROCEDURE)20 b(Join\(t:)g(T\):)h(REFANY;)241
1593 y Fe(W)m(ait)12 b(un)o(til)h Fc(t)g Fe(has)h(terminated)f(and)h
(return)h(its)f(result.)k(It)c(is)g(a)f(c)o(hec)o(k)o(ed)i(run)o(time)
241 1643 y(error)f(to)g(call)f(this)h(more)f(than)h(once)h(for)e(an)o
(y)g Fc(t)p Fe(.)241 1744 y Fg(PROCEDURE)20 b(Wait\(m:)g(Mutex;)g(c:)i
(Condition\);)241 1807 y Fe(The)14 b(calling)f(thread)i(m)o(ust)f(ha)o
(v)o(e)g Fc(m)g Fe(lo)q(c)o(k)o(ed.)19 b(A)o(tomically)12
b(unlo)q(c)o(k)i Fc(m)g Fe(and)g(w)o(ait)g(on)241 1857
y Fc(c)p Fe(.)j(Then)e(relo)q(c)o(k)f Fc(m)g Fe(and)f(returns.)241
1958 y Fg(PROCEDURE)20 b(Acquire\(m:)f(Mutex\);)241 2021
y Fe(W)m(ait)12 b(un)o(til)h Fc(m)h Fe(is)f(unlo)q(c)o(k)o(ed)h(and)g
(then)h(lo)q(c)o(k)e(it.)241 2122 y Fg(PROCEDURE)20 b(Release\(m:)f
(Mutex\);)241 2184 y Fe(The)14 b(calling)e(thread)j(m)o(ust)e(ha)o(v)o
(e)h Fc(m)f Fe(lo)q(c)o(k)o(ed.)18 b(Unlo)q(c)o(k)c Fc(m)p
Fe(.)241 2285 y Fg(PROCEDURE)20 b(Broadcast\(c:)f(Condition\);)241
2348 y Fe(Mak)o(e)13 b(all)g(threads)i(w)o(aiting)e(on)g
Fc(c)h Fe(eligible)e(to)i(run.)241 2449 y Fg(PROCEDURE)20
b(Signal\(c:)f(Condition\);)p eop
%%Page: 8 18
8 17 bop 318 162 a Fl(8)831 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)418 307 y(One)14 b(or)g(more)f(threads)i(w)o
(aiting)d(on)i Fc(c)g Fe(b)q(ecome)f(eligible)g(to)h(run.)418
407 y Fg(PROCEDURE)20 b(Pause\(n:)g(LONGREAL\);)418 470
y Fe(W)m(ait)12 b(for)i Fc(n)f Fe(seconds)j(to)d(elapse.)318
545 y Fl(T)m(o)g(w)o(ait)g(un)o(til)f(a)i(sp)q(eci\014ed)h(p)q(oin)o(t)
e(in)g(time)f(in)h(the)h(future,)g(sa)o(y)g Fg(t)p Fl(,)e(y)o(ou)i(can)
f(use)i(the)f(call)480 621 y Fg(Pause\(t)20 b(-)i(Time.Now\(\)\))418
796 y(PROCEDURE)e(Self\(\):)g(T;)418 859 y Fe(Return)14
b(the)g(handle)g(of)g(the)g(calling)e(thread.)418 959
y Fg(EXCEPTION)20 b(Alerted;)418 1022 y Fe(Used)14 b(to)g(appro)o
(ximate)e(async)o(hronous)j(in)o(terrupts.)418 1122 y
Fg(PROCEDURE)20 b(Alert\(t:)g(T\);)418 1185 y Fe(Mark)13
b Fc(t)h Fe(as)g(an)g(alerted)g(thread.)418 1310 y Fg(PROCEDURE)20
b(TestAlert\(\):)f(BOOLEAN;)418 1373 y Fe(If)12 b(the)h(calling)e
(thread)j(has)e(b)q(een)i(mark)o(ed)e(alerted,)h(return)g
Fc(TRUE)f Fe(and)h(unmark)e(it.)418 1473 y Fg(PROCEDURE)20
b(AlertWait\(m:)f(Mutex;)h(c:)i(Condition\))e(RAISES)g({Alerted};)418
1536 y Fe(Lik)o(e)d Fc(Wait)p Fe(,)h(but)g(if)f(the)i(thread)f(is)g
(mark)o(ed)f(alerted)i(at)e(the)i(time)e(of)g(call)g(or)418
1586 y(sometime)11 b(during)j(the)g(w)o(ait,)f(lo)q(c)o(k)h
Fc(m)f Fe(and)h(raise)g Fc(Alerted)p Fe(.)418 1686 y
Fg(PROCEDURE)20 b(AlertJoin\(t:)f(T\):)i(REFANY)g(RAISES)f({Alerted};)
418 1749 y Fe(Lik)o(e)d Fc(Join)p Fe(,)h(but)g(if)f(the)i(thread)f(is)g
(mark)o(ed)f(alerted)i(at)e(the)i(time)e(of)g(call)g(or)418
1798 y(sometime)11 b(during)j(the)g(w)o(ait,)f(raise)h
Fc(Alerted)p Fe(.)418 1899 y Fg(PROCEDURE)20 b(AlertPause\(n:)f
(LONGREAL\))h(RAISES)g({Alerted};)418 1961 y Fe(Lik)o(e)14
b Fc(Pause)p Fe(,)f(but)h(if)g(the)h(thread)g(is)f(mark)o(ed)f(alerted)
i(at)g(the)g(time)e(of)g(the)i(call)f(or)418 2011 y(sometime)d(during)j
(the)g(w)o(ait,)f(raise)h Fc(Alerted)p Fe(.)418 2111
y Fg(CONSTANT)20 b(AtomicSize)f(=)j(...;)418 2174 y Fe(An)15
b(implemen)o(tatio)o(n-dep)q(enden)o(t)f(in)o(teger)i(constan)o(t:)21
b(the)15 b(n)o(um)o(b)q(er)g(of)f(bits)h(in)g(a)418 2224
y(memory-coheren)o(t)g(blo)q(c)o(k.)24 b(If)16 b(t)o(w)o(o)g(comp)q
(onen)o(ts)g(of)f(a)h(record)h(or)f(arra)o(y)g(fall)f(in)418
2274 y(di\013eren)o(t)i(blo)q(c)o(ks,)f(they)g(can)g(b)q(e)h(accessed)h
(concurren)o(tly)g(b)o(y)d(di\013eren)o(t)i(threads)418
2323 y(without)c(lo)q(c)o(king.)418 2424 y Fg(END)21
b(Thread.)p eop
%%Page: 9 19
9 18 bop 141 162 a Fe(2.3)41 b(W)m(ord)1216 b Fl(9)141
307 y Ff(2.3)56 b(W)-5 b(ord)141 413 y Fl(A)20 b Fg(Word.T)e(w)i
Fl(represen)o(ts)j(a)c(sequence)j(of)d Fg(Word.Size)f
Fl(bits)i Fg(w)1182 424 y(0)1206 413 y Fh(;)7 b(:)g(:)g(:)e(;)i
Fg(w)1320 424 y(Word.Size-1)1562 413 y Fl(.)141 463 y(It)19
b(also)e(represen)o(ts)k(the)f(unsigned)e(n)o(um)o(b)q(er)888
432 y Fb(P)932 475 y Fa(i)953 463 y Fg(w)974 469 y Fa(i)1000
463 y Fi(\001)12 b Fl(2)1045 448 y Fa(i)1059 463 y Fl(.)31
b(Finally)m(,)18 b(it)g(also)f(represen)o(ts)141 513
y(a)h(signed)g Fg(INTEGER)e Fl(b)o(y)h(some)g(implemen)o(tation-dep)q
(enden)o(t)f(enco)q(ding)i(\(for)g(example,)141 563 y(t)o(w)o(o's)10
b(complemen)o(t\).)15 b(The)c(built-in)f(op)q(erations)h(of)f(the)i
(language)d(deal)i(with)f(the)i(signed)141 612 y(v)n(alue;)h(the)i(op)q
(erations)g(in)e(this)i(in)o(terface)g(deal)e(with)h(the)h(unsigned)g
(v)n(alue)e(or)i(with)e(the)141 662 y(bit)h(sequence.)241
764 y Fg(INTERFACE)20 b(Word;)241 839 y(TYPE)h(T)g(=)h(INTEGER;)241
916 y(CONST)e(Size:)h(INTEGER)f(=)i(BITSIZE\(T\);)141
994 y Fl(Here)15 b(are)f(the)h(arithmetic)e(op)q(erations)h(on)f
(unsigned)i(w)o(ords:)241 1096 y Fg(PROCEDURE)20 b(Plus\(x,)g(y:)h
(T\):)g(T;)109 b(\(*)21 b(\(x)h(+)f(y\))h(MOD)f(2^Word.Size)e(*\))241
1144 y(PROCEDURE)h(Times\(x,)g(y:)h(T\):)g(T;)87 b(\(*)21
b(\(x)h(*)f(y\))h(MOD)f(2^Word.Size)e(*\))241 1192 y(PROCEDURE)h
(Minus\(x,)g(y:)h(T\):)g(T;)87 b(\(*)21 b(\(x)h(-)f(y\))h(MOD)f
(2^Word.Size)e(*\))241 1240 y(PROCEDURE)h(Divide\(x,)f(y:)j(T\):)f(T;)
65 b(\(*)21 b(x)h(DIV)f(y)h(*\))241 1287 y(PROCEDURE)e(Mod\(x,)g(y:)h
(T\):)h(T;)130 b(\(*)21 b(x)h(MOD)f(y)h(*\))241 1335
y(PROCEDURE)e(LT\(x,)g(y:)i(T\):)f(BOOLEAN;)f(\(*)h(x)h(<)g(y)f(*\))241
1383 y(PROCEDURE)f(LE\(x,)g(y:)i(T\):)f(BOOLEAN;)f(\(*)h(x)h(<=)f(y)h
(*\))241 1431 y(PROCEDURE)e(GT\(x,)g(y:)i(T\):)f(BOOLEAN;)f(\(*)h(x)h
(>)g(y)f(*\))241 1480 y(PROCEDURE)f(GE\(x,)g(y:)i(T\):)f(BOOLEAN;)f
(\(*)h(x)h(>=)f(y)h(*\))141 1559 y Fl(And)14 b(here)h(are)f(the)h
(logical)d(op)q(erations)i(on)g(bit)f(sequences:)241
1661 y Fg(PROCEDURE)20 b(And\(x,)g(y:)h(T\):)h(T;)130
b(\(*)21 b(Bitwise)g(AND)g(of)g(x)h(and)f(y)h(*\))241
1708 y(PROCEDURE)e(Or\(x,)g(y:)i(T\):)f(T;)152 b(\(*)21
b(Bitwise)g(OR)g(of)g(x)h(and)f(y)h(*\))241 1756 y(PROCEDURE)e(Xor\(x,)
g(y:)h(T\):)h(T;)130 b(\(*)21 b(Bitwise)g(XOR)g(of)g(x)h(and)f(y)h(*\))
241 1806 y(PROCEDURE)e(Not\(x:)g(T\):)h(T;)196 b(\(*)21
b(Bitwise)g(complement)e(of)j(x)f(*\))141 1884 y Fl(And)14
b(here)h(are)f(additional)e(op)q(erations)j(on)e(bit)h(sequences:)241
1988 y Fg(PROCEDURE)20 b(Shift\(x:)g(T;)h(n:)g(INTEGER\):)f(T;)241
2053 y Fe(F)m(or)14 b(all)f Fc(i)h Fe(suc)o(h)h(that)g(b)q(oth)g
Fc(i)f Fe(and)g Fc(i)22 b(-)f(n)14 b Fe(are)h(in)f(the)h(range)g
Fc([0..Word.Size)k(-)241 2103 y(1])p Fe(,)13 b(bit)i
Fc(i)f Fe(of)g(the)h(result)h(equals)e(bit)g Fc(i)22
b(-)g(n)14 b Fe(of)g Fc(x)p Fe(.)20 b(The)15 b(other)g(bits)g(of)f(the)
h(result)241 2152 y(are)f(0.)k(Th)o(us)c(shifting)f(b)o(y)g
Fc(n)22 b(>)g(0)13 b Fe(is)h(lik)o(e)f(m)o(ultiplying)d(b)o(y)k
Fl(2)1213 2137 y Fc(n)1237 2152 y Fe(.)141 2231 y Fl(Since)d(Mo)q
(dula-3)f(has)h(no)g(exp)q(onen)o(tiation)f(op)q(erator,)i
Fg(Word.Shift\(1,)19 b(n\))10 b Fl(is)h(the)g(usual)141
2280 y(w)o(a)o(y)i(of)g(writing)h(2)437 2265 y Fg(n)474
2280 y Fl(in)f(a)h(constan)o(t)g(expression.)241 2385
y Fg(PROCEDURE)20 b(LeftShift\(x:)f(T;)i(n:)h([0..Size-1]\):)d(T;)241
2449 y Fe(Equiv)n(alen)o(t)13 b(to)g Fc(Shift\(x,)20
b(n\))p Fe(.)p eop
%%Page: 10 20
10 19 bop 318 162 a Fl(10)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)418 307 y Fg(PROCEDURE)20 b(RightShift\(x:)f(T;)i
(n:)g([0..Size-1]\):)f(T;)418 370 y Fe(Equiv)n(alen)o(t)13
b(to)g Fc(Shift\(x,)20 b(-n\))p Fe(.)418 469 y Fg(PROCEDURE)g
(Rotate\(x:)f(T;)j(n:)f(INTEGER\):)f(T;)418 532 y Fe(Bit)14
b Fc(i)f Fe(of)g(the)i(result)g(is)e(bit)h Fc(\(\(i)21
b(-)h(n\))f(MOD)g(Word.Size\))12 b Fe(of)h Fc(x)p Fe(.)418
631 y Fg(PROCEDURE)20 b(LeftRotate\(x:)f(T;)i(n:)g([0..Size-1]\):)f(T;)
418 694 y Fe(Equiv)n(alen)o(t)13 b(to)g Fc(Rotate\(x,)20
b(n\))p Fe(.)418 794 y Fg(PROCEDURE)g(RightRotate\(x:)e(T;)k(n:)f
([0..Size-1]\):)e(T;)418 856 y Fe(Equiv)n(alen)o(t)13
b(to)g Fc(Rotate\(x,)20 b(-n\))p Fe(.)418 956 y Fg(PROCEDURE)g
(Extract\(x:)f(T;)j(i,)f(n:)g(CARDINAL\):)f(T;)418 1018
y Fe(T)m(ak)o(e)13 b Fc(n)h Fe(con)o(tiguous)g(bits)h(from)d
Fc(x)p Fe(,)i(with)f(bit)h Fc(i)g Fe(as)h(the)f(least)h(signi\014can)o
(t)f(bit,)f(and)418 1068 y(return)i(them)f(as)g(the)h(least)g
(signi\014can)o(t)f Fc(n)g Fe(bits)h(of)e(a)i(w)o(ord)f(whose)h(other)g
(bits)f(are)418 1118 y(0.)j(A)d(c)o(hec)o(k)o(ed)i(run)o(time)c(error)j
(if)e Fc(n)22 b(+)f(i)h(>)g(Word.Size)p Fe(.)418 1218
y Fg(PROCEDURE)e(Insert\(x,)f(y:)j(T;)f(i,)h(n:)f(CARDINAL\):)f(T;)418
1280 y Fe(Result)14 b(of)g(replaceing)h Fc(n)f Fe(bits)h(of)e
Fc(x)p Fe(,)h(with)h(bit)f Fc(i)g Fe(as)g(the)i(least)e(signi\014can)o
(t)g(bit,)g(b)o(y)418 1330 y(the)i(least)h(signi\014can)o(t)f
Fc(n)g Fe(bits)g(of)g Fc(y)p Fe(.)24 b(The)17 b(other)g(bits)f(of)g
Fc(x)g Fe(are)g(unc)o(hanged.)26 b(A)418 1380 y(c)o(hec)o(k)o(ed)15
b(run)o(time)e(error)h(if)f Fc(n)22 b(+)g(i)f(>)h(Word.Size)p
Fe(.)418 1479 y Fg(END)f(Word.)318 1621 y Ff(2.4)56 b(Real,)17
b(LongReal,)g(and)j(Extended)318 1697 y Fl(F)m(or)25
b(de\014nitions)g(of)g(the)h(terms)f(used)h(in)f(the)h(\015oating-p)q
(oin)o(t)d(in)o(terfaces,)29 b(see)d(the)318 1747 y(ANSI/IEEE)f
(Standard)g(754-1985,)f(IEEE)h(Standard)g(for)f(Binary)g(Floating-P)o
(oin)o(t)318 1797 y(Arithmetic.)318 1872 y(The)14 b(in)o(terfaces)g
Fg(Real)p Fl(,)f Fg(LongReal)p Fl(,)e(and)j Fg(Extended)d
Fl(de\014ne)k(constan)o(t)f(attributes)h(of)d(the)318
1922 y(three)j(built-in)e(\015oating-p)q(oin)o(t)f(t)o(yp)q(es:)418
2020 y Fg(INTERFACE)20 b(Real;)g(TYPE)h(T)h(=)f(REAL;)418
2067 y(CONST)461 2115 y(Base:)g(INTEGER)f(=)i(...;)461
2163 y(Precision:)e(INTEGER)g(=)i(...;)461 2210 y(MaxFinite:)e(T)i(=)f
(...;)461 2258 y(MinPos:)g(T)g(=)h(...;)461 2306 y(MinPosNormal:)d(T)j
(=)f(...;)461 2354 y(MaxExpDigits:)e(INTEGER)i(=)g(...;)461
2401 y(MaxSignifDigits:)e(INTEGER)h(=)i(...;)418 2449
y(END)f(Real.)p eop
%%Page: 11 21
11 20 bop 141 162 a Fe(2.4)41 b(Real,)12 b(LongReal,)g(and)i(Extended)
741 b Fl(11)241 307 y Fg(INTERFACE)20 b(LongReal;)f(TYPE)i(T)h(=)g
(LONGREAL;)241 355 y(CONST)284 403 y(Base:)f(INTEGER)f(=)i(...;)284
450 y(Precision:)e(INTEGER)g(=)i(...;)284 498 y(MaxFinite:)e(T)i(=)f
(...;)284 546 y(MinPos:)g(T)g(=)h(...;)284 594 y(MinPosNormal:)d(T)j(=)
f(...;)284 641 y(MaxExpDigits:)e(INTEGER)i(=)g(...;)284
689 y(MaxSignifDigits:)e(INTEGER)h(=)i(...;)241 737 y(END)f(LongReal.)
241 809 y(INTERFACE)f(Extended;)f(TYPE)i(T)h(=)g(EXTENDED;)241
857 y(CONST)284 905 y(Base:)f(INTEGER)f(=)i(...;)284
952 y(Precision:)e(INTEGER)g(=)i(...;)284 1000 y(MaxFinite:)e(T)i(=)f
(...;)284 1048 y(MinPos:)g(T)g(=)h(...;)284 1095 y(MinPosNormal:)d(T)j
(=)f(...;)284 1143 y(MaxExpDigits:)e(INTEGER)i(=)g(...;)284
1191 y(MaxSignifDigits:)e(INTEGER)h(=)i(...;)241 1241
y(END)f(Extended.)141 1315 y Fl(The)14 b(sp)q(eci\014cation)h(is)f(the)
g(same)f(for)h(all)e(three)k(in)o(terfaces:)245 1405
y Fg(Base)d Fl(is)h(the)g(base)g(of)g(the)g(\015oating-p)q(oin)o(t)f
(represen)o(tation)i(for)f Fg(T)p Fl(.)245 1472 y Fg(Precision)e
Fl(is)h(the)i(n)o(um)o(b)q(er)e(of)g(base-)p Fg(Base)h
Fl(digits)f(of)g(precision)i(for)e Fg(T)p Fl(.)245 1538
y Fg(MaxFinite)g Fl(is)j(the)g(maxim)n(um)11 b(\014nite)16
b(v)n(alue)f(in)g Fg(T)p Fl(.)g(F)m(or)g(non-IEEE)h(imple-)245
1588 y(men)o(tations,)c(this)i(is)g(the)g(same)f(as)h
Fg(LAST\(T\))p Fl(.)245 1654 y Fg(MinPos)e Fl(is)i(the)h(minim)n(um)9
b(p)q(ositiv)o(e)14 b(v)n(alue)f(in)h Fg(T)p Fl(.)245
1720 y Fg(MinPosNormal)25 b Fl(is)j(the)g(minim)n(um)c(p)q(ositiv)o(e)j
(normal)f(v)n(alue)h(in)h Fg(T)p Fl(;)f(it)245 1770 y(di\013ers)f(from)
d Fg(MinPos)g Fl(only)h(for)h(implemen)o(tatio)o(ns)e(\(lik)o(e)h
(IEEE\))i(with)245 1820 y(denormalized)13 b(n)o(um)o(b)q(ers.)245
1886 y Fg(MaxExpDigits)g Fl(is)j(the)g(smallest)f(in)o(teger)h(with)g
(the)g(prop)q(ert)o(y)h(that)f(ev)o(ery)245 1936 y(\014nite)d(n)o(um)o
(b)q(er)g(of)g(t)o(yp)q(e)h Fg(T)f Fl(can)h(b)q(e)g(written)g(in)f
(base-10)g(scien)o(ti\014c)h(notation)245 1985 y(using)f(an)h(exp)q
(onen)o(t)h(with)e(at)h(most)f Fg(MaxExpDigits)p Fl(.)245
2052 y Fg(MaxSignifDigits)18 b Fl(is)k(the)g(smallest)e(in)o(teger)i
(with)g(the)g(prop)q(ert)o(y)g(that)245 2101 y(for)c(ev)o(ery)h(p)q
(oin)o(t)f Fg(x)g Fl(along)f(the)i(n)o(um)o(b)q(er)f(line,)g(the)h(t)o
(w)o(o)f(\015oating-decimal)245 2151 y(n)o(um)o(b)q(ers)11
b(with)h Fg(MaxSignifDigits)d Fl(closest)j(to)g Fg(x)g
Fl(are)g(closer)h(to)e(eac)o(h)i(other)245 2201 y(than)h(are)g(the)g(t)
o(w)o(o)g(closest)h(n)o(um)o(b)q(ers)e(of)h(t)o(yp)q(e)g
Fg(T)p Fl(.)203 2291 y(T)o(ypically)m(,)303 2366 y Fg(MaxExpDigits)85
b(=)21 b(CEILING\(LOG_10\(LOG)o(_10\(M)o(axFin)o(ite\)\))o(\))303
2415 y(MaxSignifDigits)e(=)i(CEILING\(LOG_10\(Bas)o(e)1109
2400 y(Precision)1307 2415 y(\)\))h(+)f(1.)p eop
%%Page: 12 22
12 21 bop 318 162 a Fl(12)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)318 307 y Ff(2.5)56 b(RealFloat,)17
b(LongRealFloat,)g(and)i(ExtendedFloat)318 407 y Fl(The)e(in)o
(terfaces)g Fg(RealFloat)p Fl(,)e Fg(LongRealFloat)p
Fl(,)f(and)j Fg(ExtendedFloat)c Fl(de\014ne)18 b(op)q(era-)318
457 y(tions)13 b(that)h(dep)q(end)g(on)f(the)h(\015oating-p)q(oin)o(t)e
(represen)o(tation.)20 b(Eac)o(h)13 b(one)h(is)f(an)g(instance)318
507 y(of)g(a)h(generic)h(in)o(terface)f Fg(Float)p Fl(:)418
602 y Fg(INTERFACE)20 b(RealFloat)f(=)j(Float\(Real\))e(END)h
(RealFloat.)418 649 y(INTERFACE)f(LongFloat)f(=)j(Float\(LongReal\))d
(END)i(LongFloat.)418 699 y(INTERFACE)f(ExtendedFloat)f(=)i
(Float\(Extended\))e(END)i(ExtendedFloat.)318 796 y Fl(The)g(generic)g
(in)o(terface)g Fg(Float)f Fl(pro)o(vides)g(access)j(to)d(the)h
(\015oating-p)q(oin)o(t)e(op)q(erations)318 846 y(required)h(or)e
(recommended)g(b)o(y)g(the)i(IEEE)f(\015oating-p)q(oin)o(t)e(standard.)
33 b(Consult)18 b(the)318 896 y(standard)c(to)g(resolv)o(e)h(an)o(y)e
(\014ne)i(p)q(oin)o(ts)e(in)h(the)g(sp)q(eci\014cation)h(of)e(the)i
(pro)q(cedures.)20 b(Non-)318 945 y(IEEE)d(implemen)o(tations)d(that)j
(ha)o(v)o(e)g(v)n(alues)f(similar)e(to)j(NaNs)g(and)g(in\014nities)f
(should)318 995 y(explain)c(ho)o(w)h(those)g(v)n(alues)g(b)q(eha)o(v)o
(e)h(in)e(an)h(implemen)o(tatio)o(n)d(guide.)18 b(\(NaN)13
b(is)g(an)f(IEEE)318 1045 y(term)h(whose)i(informal)c(meaning)h(is)i
(\\not)f(a)h(n)o(um)o(b)q(er".\))418 1140 y Fg(GENERIC)20
b(INTERFACE)g(Float\(R\);)418 1211 y(IMPORT)g(FloatMode;)418
1282 y(TYPE)h(T)g(=)h(R.T;)418 1356 y(PROCEDURE)e(Scalb\(x:)g(T;)h(n:)g
(INTEGER\):)f(T)i(RAISES)f({FloatMode.Trap)o(};)418 1417
y Fe(Return)14 b Fc(x)9 b Fi(\001)g Fl(2)632 1402 y Fc(n)655
1417 y Fe(.)418 1514 y Fg(PROCEDURE)20 b(Logb\(x:)g(T\):)h(T)h(RAISES)e
({FloatMode.Trap};)418 1576 y Fe(Return)11 b(the)h(exp)q(onen)o(t)f(of)
g Fc(x)p Fe(.)17 b(More)11 b(precisely)m(,)g(return)i(the)e(unique)g
(in)o(teger)h Fh(n)e Fe(suc)o(h)418 1625 y(that)16 b(the)h(ratio)f
Fc(ABS\(x\))k(/)i(Base)969 1607 y Fa(n)1008 1625 y Fe(is)16
b(in)g(the)h(half-op)q(en)e(in)o(terv)n(al)h Fc([1..Base\))p
Fe(,)418 1675 y(unless)h Fc(x)g Fe(is)f(denormalized,)g(in)g(whic)o(h)h
(case)h(return)f(the)h(minim)n(um)12 b(exp)q(onen)o(t)418
1725 y(v)n(alue)h(for)g Fc(T)p Fe(.)418 1822 y Fg(PROCEDURE)20
b(ILogb\(x:)g(T\):)h(INTEGER;)418 1883 y Fe(Lik)o(e)14
b Fc(Logb)p Fe(,)g(but)h(returns)i(an)d(in)o(teger,)h(nev)o(er)h
(raises)g(an)f(exception,)g(and)g(alw)o(a)o(ys)418 1933
y(returns)k(the)g Fh(n)f Fe(suc)o(h)h(that)g Fc(ABS\(x\))h(/)i(Base)
1160 1915 y Fa(n)1201 1933 y Fe(is)c(in)g(the)g(half-op)q(en)g(in)o
(terv)n(al)418 1983 y Fc([1..Base\))p Fe(,)e(ev)o(en)i(for)f
(denormalized)f(n)o(um)o(b)q(ers.)28 b(Sp)q(ecial)18
b(cases:)26 b(it)17 b(returns)418 2033 y Fc(FIRST\(INTEGER\))11
b Fe(when)k Fc(x)g Fe(=)f(0.0,)g Fc(LAST\(INTEGER\))e
Fe(when)j Fc(x)f Fe(is)g(plus)h(or)f(min)o(us)418 2083
y(in\014nit)o(y)m(,)e(and)h(zero)i(when)g Fc(x)e Fe(is)h(NaN.)418
2179 y Fg(PROCEDURE)20 b(NextAfter\(x,)f(y:)i(T\):)g(T)h(RAISES)f
({FloatMode.Trap)o(};)418 2241 y Fe(Return)13 b(the)h(next)g(represen)o
(table)h(neigh)o(b)q(or)e(of)g Fc(x)g Fe(in)g(the)g(direction)h(to)o(w)
o(ards)f Fc(y)p Fe(.)k(If)418 2291 y Fc(x)k(=)h(y)p Fe(,)13
b(return)i Fc(x)p Fe(.)418 2388 y Fg(PROCEDURE)20 b(CopySign\(x,)f(y:)i
(T\):)h(T;)418 2449 y Fe(Return)14 b Fc(x)g Fe(with)f(the)i(sign)e(of)h
Fc(y)p Fe(.)p eop
%%Page: 13 23
13 22 bop 141 162 a Fe(2.5)41 b(RealFloat,)11 b(LongRealFloat,)h(and)i
(ExtendedFloat)451 b Fl(13)241 307 y Fg(PROCEDURE)20
b(Finite\(x:)f(T\):)j(BOOLEAN;)241 369 y Fe(Return)14
b Fc(TRUE)f Fe(if)g Fc(x)h Fe(is)g(strictly)g(b)q(et)o(w)o(een)i(min)o
(us)c(in\014nit)o(y)h(and)h(plus)g(in\014nit)o(y)m(.)j(This)241
419 y(alw)o(a)o(ys)12 b(returns)k Fc(TRUE)d Fe(on)h(non-IEEE)g
(implemen)o(tatio)o(ns.)241 517 y Fg(PROCEDURE)20 b(IsNaN\(x:)g(T\):)h
(BOOLEAN;)241 579 y Fe(Return)c Fc(FALSE)e Fe(if)g Fc(x)i
Fe(represen)o(ts)i(a)d(n)o(umerical)f(\(p)q(ossibly)h(in\014nite\))g(v)
n(alue,)g(and)241 629 y Fc(TRUE)f Fe(if)g Fc(x)h Fe(do)q(es)h(not)f
(represen)o(t)i(a)e(n)o(umerical)e(v)n(alue.)24 b(F)m(or)16
b(example,)f(on)g(IEEE)241 679 y(implem)o(en)o(tations,)c(returns)k
Fc(TRUE)e Fe(if)g(x)h(is)g(a)f(NaN,)h Fc(FALSE)f Fe(otherwise.)241
801 y Fg(PROCEDURE)20 b(Sign\(x:)g(T\):)h([0..1];)241
863 y Fe(Return)13 b(the)h(sign)e(bit)h Fc(x)p Fe(.)k(F)m(or)c
(non-IEEE)g(implemen)o(tations,)d(this)j(is)f(the)i(same)e(as)241
913 y Fc(ORD\(x)20 b(>=)i(0\))p Fe(;)16 b(for)f(IEEE)h(implemen)o
(tations,)d Fc(Sign\(-0\))20 b(=)i(1)15 b Fe(and)h Fc(Sign\(+0\))241
963 y(=)21 b(0)p Fe(.)241 1061 y Fg(PROCEDURE)f(Differs\(x,)f(y:)j
(T\):)f(BOOLEAN;)241 1123 y Fe(Return)k Fc(\(x)c(<)h(y)f(OR)h(y)f(<)h
(x\))p Fe(.)50 b(Th)o(us,)27 b(for)e(IEEE)g(implemen)o(tatio)o(ns,)241
1173 y Fc(Differs\(NaN,x\))18 b Fe(is)j(alw)o(a)o(ys)g
Fc(FALSE)p Fe(;)f(for)h(non-IEEE)h(implemen)o(tati)o(ons,)241
1222 y Fc(Differs\(x,y\))11 b Fe(is)j(the)g(same)f(as)h
Fc(x)22 b(#)f(y)p Fe(.)241 1321 y Fg(PROCEDURE)f(Unordered\(x,)f(y:)i
(T\):)g(BOOLEAN;)241 1383 y Fe(Return)d Fc(NOT)j(\(x)h(<=)f(y)h(OR)f(y)
h(<=)f(x\))p Fe(.)30 b(Th)o(us,)18 b(for)g(IEEE)g(implemen)o(tations,)
241 1432 y Fc(Unordered\(NaN,)h(x\))f Fe(is)h(alw)o(a)o(ys)f
Fc(TRUE)p Fe(;)g(for)g(non-IEEE)i(implemen)o(tatio)o(ns,)241
1482 y Fc(Unordered\(x,)f(y\))13 b Fe(is)h(alw)o(a)o(ys)f
Fc(FALSE)p Fe(.)241 1581 y Fg(PROCEDURE)20 b(Sqrt\(x:)g(T\):)h(T)h
(RAISES)e({FloatMode.Trap};)241 1642 y Fe(Return)i(the)h(square)g(ro)q
(ot)g(of)e Fc(T)p Fe(.)h(This)g(m)o(ust)f(b)q(e)i(correctly)h(rounded)f
(if)241 1692 y Fc(FloatMode.IEEE)11 b Fe(is)i Fc(TRUE)p
Fe(.)241 1788 y Fg(TYPE)21 b(IEEEClass)f(=)284 1836 y({SignalingNaN,)f
(QuietNaN,)h(Infinity,)g(Normal,)g(Denormal,)g(Zero};)241
1910 y(PROCEDURE)g(Class\(x:)g(T\):)h(IEEEClass;)241
1972 y Fe(Return)15 b(the)g(IEEE)g(n)o(um)o(b)q(er)f(class)h(con)o
(taining)f Fc(x)p Fe(.)20 b(On)14 b(non-IEEE)h(systems,)g(the)241
2022 y(result)f(will)f(b)q(e)h Fc(Normal)f Fe(or)h Fc(Zero)p
Fe(.)241 2118 y Fg(PROCEDURE)20 b(FromDecimal\()328 2166
y(sign:)h([0..1];)328 2214 y(READONLY)f(digits:)g(ARRAY)h(OF)g([0..9];)
328 2263 y(exp:)g(INTEGER\):)f(T)h(RAISES)g({FloatMode.Trap};)241
2325 y Fe(Con)o(v)o(ert)14 b(from)e(\015oating-decimal)f(to)j(t)o(yp)q
(e)g Fc(T)p Fe(.)203 2449 y Fl(Let)h Fg(F)e Fl(denote)i(the)g
(nonnegativ)o(e,)e(\015oating-decimal)e(n)o(um)o(b)q(er)p
eop
%%Page: 14 24
14 23 bop 318 162 a Fl(14)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)480 307 y Fg(digits[0])20 b(.)h(digits[1])f(...)i
(digits[LAST\(dig)o(its\)])c(*)k(10^exp)480 358 y(=)f(sum\(i,)g
(digits[i])f(*)i(10^\(exp)e(-)h(i\)\))318 438 y Fl(The)16
b(result)g(of)f Fg(FromDecimal)e Fl(is)i(the)h(n)o(um)o(b)q(er)f
Fg(\(-1\)^sign)20 b(*)i(F)p Fl(,)14 b(rounded)i(to)g(a)f(v)n(alue)318
488 y(of)e(t)o(yp)q(e)i Fg(T)p Fl(.)380 539 y(The)k(pro)q(cedure)h
Fg(FromDecimal)c Fl(is)i(a)h(\015oating-p)q(oin)o(t)d(op)q(eration,)j
(just)g(lik)o(e)e Fg(+)h Fl(and)318 589 y Fg(*)p Fl(,)g(in)f(the)h
(sense)h(that)f(it)f(rounds)h(its)g(ideal)f(result)h(correctly)m(,)h
(observing)e(the)i(curren)o(t)318 638 y(rounding)14 b(mo)q(de,)f(and)i
(it)f(sets)i(\015ags)f(and)f(raises)h(traps)h(b)o(y)e(the)h(usual)g
(rules.)20 b(On)15 b(IEEE)318 688 y(implemen)o(tatio)o(ns,)10
b(it)j(returns)h(min)o(us)e(zero)h(when)h Fg(F)e Fl(is)h(su\016cien)o
(tly)g(small)d(and)j Fg(sign=1)p Fl(.)418 792 y Fg(TYPE)21
b(DecimalApprox)e(=)i(RECORD)505 840 y(class:)f(IEEEClass;)505
887 y(sign:)h([0..1];)505 935 y(len:)g([1..R.MaxSignifD)o(igits)o(];)
505 983 y(digits:)f(ARRAY[0..R.MaxSign)o(ifDig)o(its-1)o(])f(OF)i
([0..9];)505 1031 y(exp:)g(INTEGER;)505 1078 y(errorSign:)f([-1..1])461
1126 y(END;)418 1204 y(PROCEDURE)g(ToDecimal\(x:)f(T\):)i
(DecimalApprox;)418 1269 y Fe(Con)o(v)o(ert)14 b(from)e(t)o(yp)q(e)i
Fc(T)g Fe(to)g(\015oating-decimal.)380 1399 y Fl(Let)20
b Fg(D)g Fl(denote)g Fg(ToDecimal\(x\))p Fl(.)33 b(Then,)21
b Fg(D.class)g(=)g(Class\(x\))d Fl(and)i Fg(D.sign)g(=)318
1449 y(Sign\(x\))p Fl(.)35 b(The)21 b(other)g(\014elds)f(are)h
(de\014ned)g(only)e(when)i Fg(D.class)d Fl(is)i(either)h
Fg(Normal)318 1499 y Fl(or)29 b Fg(Denormal)p Fl(.)62
b(In)29 b(those)h(cases,)k(the)29 b(v)n(alues)g Fg(D.len)p
Fl(,)i Fg(D.digits[0])c Fl(through)318 1549 y Fg(D.digits[D.len-1])o
Fl(,)14 b(and)h Fg(D.exp)g Fl(enco)q(de)j(a)d(\015oating-decimal)f(n)o
(um)o(b)q(er)h Fg(F)h Fl(with)f(the)318 1599 y(prop)q(ert)o(y)c(that)f
Fg(\(-1\)^D.sign)20 b(*)h(F)10 b Fl(appro)o(ximates)e
Fg(x)i Fl(in)g(a)g(sense)h(discussed)h(b)q(elo)o(w.)17
b(The)318 1649 y(enco)q(ding)d(is)g(suc)o(h)g(that)480
1728 y Fg(F)21 b(=)h(digits[0])e(.)i(digits[1])e(...)h(digits[len)e(-)j
(1])43 b(*)h(10^exp)523 1779 y(=)22 b(sum\(i,)f(digits[i])f(*)h
(10^\(exp)f(-)i(i\)\))318 1858 y Fl(and)480 1938 y Fg(ABS\(x\))e(=)i(F)
g(*)f(\(1)h(+)f(errorSign)f(*)i(epsilon\))318 2017 y
Fl(where)14 b Fg(epsilon)d Fl(is)h(small)e(and)j(p)q(ositiv)o(e.)k(In)
12 b(particular,)h Fg(D.errorSign)d Fl(is)i Fg(+1)p Fl(,)g
Fg(0)p Fl(,)g(or)h Fg(-1)318 2067 y Fl(according)h(as)g
Fg(ABS\(x\))e Fl(is)i(larger)g(than,)f(equal)h(to,)f(or)h(smaller)e
(than)i Fg(F)p Fl(.)380 2118 y(The)22 b(curren)o(t)h(rounding)e(mo)q
(de)g(determines)g(the)i(sense)g(in)e(whic)o(h)g(the)h(\015oating-)318
2168 y(decimal)14 b(n)o(um)o(b)q(er)i Fg(\(-1\)^sign)k(*)h(F)16
b Fl(appro)o(ximates)f Fg(x)p Fl(,)h(but)g(in)g(a)f(sligh)o(tly)g
(subtle)i(w)o(a)o(y)m(.)318 2217 y(De\014ne)f(the)f(opp)q(osite)g(of)f
(a)h(directed)h(rounding)f(mo)q(de)e(b)o(y)i(rev)o(ersing)h(the)f
(direction,)g(as)318 2267 y(follo)o(ws:)589 2347 y Fg
(Opp\(TowardPlusInf)o(inity)o(\))k(:=)i(TowardMinusInfinity)567
2398 y(Opp\(TowardMinusInf)o(inity)o(\))e(:=)i(TowardPlusInfinity)763
2449 y(Opp\(TowardZero\))e(:=)i(AwayFromZero)p eop
%%Page: 15 25
15 24 bop 141 162 a Fe(2.6)41 b(FloatMo)q(de)1098 b Fl(15)141
307 y(Note)14 b(that)f Fg(AwayFromZero)e Fl(isn't)i(actually)f(a)h
(rounding)g(mo)q(de,)f(but)h(it)g(is)h(clear)f(what)g(it)141
357 y(w)o(ould)d(mean)h(if)f(it)h(w)o(ere.)18 b(F)m(or)11
b(all)f(other)i(rounding)f(mo)q(des)f Fg(M)p Fl(,)h(w)o(e)g(de\014ne)i
Fg(Opp\(M\))20 b(=)i(M)p Fl(.)10 b(If)141 407 y(the)g(curren)o(t)h
(rounding)e(mo)q(de)f(is)i Fg(M)p Fl(,)e(the)i(call)f
Fg(ToDecimal\(x\))e Fl(returns)k(a)e(\015oating-decimal)141
457 y(n)o(um)o(b)q(er)15 b(that)g Fg(FromDecimal)e Fl(w)o(ould)i(con)o
(v)o(ert,)h(under)g(rounding)f(mo)q(de)f Fg(Opp\(M\))p
Fl(,)g(bac)o(k)141 506 y(to)f Fg(x)p Fl(.)k(Among)12
b(all)g(suc)o(h)i(n)o(um)o(b)q(ers,)e(the)i(returned)h(v)n(alue)d(has)h
(as)g(few)h(digits)e(as)h(p)q(ossible.)141 556 y(This)j(implies)e(that)
i(b)q(oth)g Fg(D.digits[0])d Fl(and)j Fg(D.digits[D.len-1])c
Fl(are)17 b(nonzero.)24 b(If)141 606 y(there)17 b(is)f(a)g(tie)g(for)f
(ha)o(ving)g(the)i(few)o(est)g(digits,)e(the)i(t)o(ying)e(n)o(um)o(b)q
(er)g(closest)i(to)f Fg(x)g Fl(wins.)141 656 y(If)h(there)i(is)e(also)g
(a)g(tie)g(for)g(b)q(eing)g(closest)i(to)e Fg(x)p Fl(,)g(it)g(m)o(ust)g
(b)q(e)h(a)f(t)o(w)o(o-w)o(a)o(y)f(tie)h(and)g(the)141
706 y(n)o(um)o(b)q(er)c(whose)i(last)e(digit)g(is)h(ev)o(en)g(wins.)203
756 y(Unlik)o(e)19 b Fg(FromDecimal)p Fl(,)e Fg(ToDecimal)g
Fl(nev)o(er)j(sets)g(a)e Fg(FloatMode.Flag)e Fl(and)j(nev)o(er)141
806 y(raises)c Fg(FloatMode.Trap)p Fl(.)203 856 y(The)j(idea)f(of)g
(con)o(v)o(erting)h(to)f(decimal)f(b)o(y)h(retaining)g(just)g(as)h(man)
o(y)d(digits)i(as)h(are)141 906 y(necessary)f(to)f(con)o(v)o(ert)g(bac)
o(k)f(to)h(binary)f(exactly)g(w)o(as)g(p)q(opularized)h(b)o(y)f(Guy)g
(L.)g(Steele)141 955 y(Jr.)h(and)g(Jon)g(L)g(White)g([17)o(].)24
b(Da)o(vid)15 b(M.)h(Ga)o(y)f(p)q(oin)o(ted)h(out)g(the)h(imp)q
(ortance,)e(in)h(this)141 1005 y(con)o(text,)e(of)f(demanding)e(that)j
(the)g(con)o(v)o(ersion)g(to)f(binary)g(handle)g(mid-p)q(oin)o(t)e
(cases)k(b)o(y)141 1055 y(a)g(kno)o(wn)g(rule)h([6)o(].)22
b(F)m(or)15 b(example,)f(in)h(IEEE)h(double)f(precision,)h(the)g
(\015oating-decimal)141 1105 y(n)o(um)o(b)q(er)9 b Fg(1e23)h
Fl(is)g(precisely)h(halfw)o(a)o(y)d(b)q(et)o(w)o(een)k(t)o(w)o(o)d
(adjacen)o(t)h(\015oating-binary)f(n)o(um)o(b)q(ers.)141
1155 y(If)14 b(con)o(v)o(ersion)g(to)g(binary)f(w)o(ere)i(allo)o(w)o
(ed)e(to)h(go)g(either)h(w)o(a)o(y)e(in)g(suc)o(h)i(a)f(mid-p)q(oin)o
(t)e(case,)141 1205 y(con)o(v)o(ersion)j(to)f(decimal)e(w)o(ould)i(ha)o
(v)o(e)g(to)g(a)o(v)o(oid)f(pro)q(ducing)h(the)h(simple)e(n)o(um)o(b)q
(er)g Fg(1e23)p Fl(,)141 1254 y(pro)q(ducing)i(instead)h(either)g
Fg(1.00000000000000)o(01e23)c Fl(or)j Fg(9.99999999999999)o(9e22)p
Fl(.)141 1304 y(W)m(e)e(b)q(eliev)o(e)h(the)f(idea)h(of)e(com)o(bining)
f(the)j(Steele/White)g(st)o(yle)g(of)e(automatic)g(precision)141
1354 y(con)o(trol)i(with)h(directed)h(rounding)e(b)o(y)g(using)h(opp)q
(osite)g(rounding)f(mo)q(des,)f(as)i(ab)q(o)o(v)o(e,)f(is)141
1404 y(new)g(with)g(Lyle)g(Ramsha)o(w.)241 1505 y Fg(END)21
b(Float.)141 1649 y Ff(2.6)56 b(FloatMo)r(de)141 1752
y Fl(The)19 b(in)o(terface)g Fg(FloatMode)e Fl(allo)o(ws)g(y)o(ou)h(to)
h(test)h(the)f(b)q(eha)o(vior)f(of)g(rounding)g(and)h(of)141
1802 y(n)o(umerical)c(exceptions.)29 b(On)17 b(some)f(implemen)o
(tations)e(it)i(also)h(allo)o(ws)e(y)o(ou)i(to)g(c)o(hange)141
1851 y(the)d(b)q(eha)o(vior,)g(on)f(a)h(p)q(er-thread)h(basis.)241
1950 y Fg(INTERFACE)20 b(FloatMode;)241 2026 y(CONST)g(IEEE:)h(BOOLEAN)
f(=)i(...;)241 2089 y Fc(TRUE)13 b Fe(for)g(fully)g(complian)o(t)e
(IEEE)k(implemen)o(tatio)o(ns.)241 2190 y Fg(EXCEPTION)20
b(Failure;)241 2253 y Fe(Raised)h(b)o(y)g(attempts)g(to)h(set)g(mo)q
(des)f(that)h(are)g(not)g(supp)q(orted)h(b)o(y)e(the)241
2302 y(implem)o(en)o(tation.)241 2401 y Fg(TYPE)g(RoundingMode)e(=)284
2449 y({NearestElseEven,)f(TowardMinusInfinity,)g(TowardPlusInfinity)o
(,)p eop
%%Page: 16 26
16 25 bop 318 162 a Fl(16)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)483 307 y Fg(TowardZero,)20 b(NearestElseAway)o
(FromZ)o(ero,)e(IBM370,)j(Other};)418 372 y Fe(Rounding)11
b(mo)q(des.)16 b(The)d(\014rst)g(four)f(are)h(the)f(IEEE)h(mo)q(des.)k
(A)12 b(V)-5 b(AX)13 b(alw)o(a)o(ys)e(do)q(es)418 422
y Fc(NearestElseAwayF)o(romZ)o(ero)p Fe(.)418 527 y Fg(CONST)20
b(RoundDefault:)f(RoundingMode)h(=)h(...;)418 592 y Fe(Implemen)o
(tation-)o(dep)q(enden)o(t:)j(the)18 b(default)f(mo)q(de)g(for)g
(rounding)g(arithmetic)418 642 y(op)q(erations,)k(used)f(b)o(y)g(a)f
(newly)h(fork)o(ed)g(thread.)36 b(This)20 b(also)f(sp)q(eci\014es)j
(the)418 692 y(b)q(eha)o(vior)13 b(of)h(the)g Fc(ROUND)f
Fe(op)q(eration)h(in)f(half-w)o(a)o(y)f(cases.)418 797
y Fg(PROCEDURE)20 b(SetRounding\(md:)e(RoundingMode\))h(RAISES)i
({Failure};)418 862 y Fe(Change)d(the)g(rounding)g(mo)q(de)f(for)g(the)
i(calling)e(thread)h(to)g Fc(md)p Fe(,)g(or)g(raise)h(the)418
912 y(exception)g(if)f(this)g(cannot)h(b)q(e)g(done.)32
b(This)19 b(a\013ects)h(the)f(implicit)d(rounding)418
961 y(in)i(\015oating-p)q(oin)o(t)g(op)q(erations;)k(it)c(do)q(es)i
(not)f(a\013ect)h(the)g Fc(ROUND)e Fe(op)q(eration.)418
1011 y(Generally)13 b(this)h(can)g(b)q(e)h(done)f(only)g(on)f(IEEE)i
(implemen)o(tatio)o(ns)d(and)i(only)f(if)g Fc(md)418
1061 y Fe(is)g(an)h(IEEE)h(mo)q(de.)418 1166 y Fg(PROCEDURE)20
b(GetRounding\(\):)e(RoundingMode;)418 1231 y Fe(Return)c(the)g
(rounding)g(mo)q(de)f(for)g(the)i(calling)d(thread.)418
1334 y Fg(TYPE)21 b(Flag)g(=)g({Invalid,)f(Inexact,)g(Overflow,)g
(Underflow,)461 1384 y(DivByZero,)g(IntOverflow,)f(IntDivByZero};)380
1514 y Fl(Asso)q(ciated)11 b(with)f(eac)o(h)h(thread)g(is)e(a)h(set)h
(of)f(b)q(o)q(olean)f(status)i(\015ags)f(recording)h(whether)318
1564 y(the)16 b(condition)e(represen)o(ted)k(b)o(y)d(the)h(\015ag)f
(has)g(o)q(ccurred)i(in)e(the)h(thread)g(since)g(the)g(\015ag)318
1614 y(w)o(as)i(last)g(reset.)33 b(The)19 b(meaning)d(of)i(the)h
(\014rst)g(\014v)o(e)g(\015ags)f(is)g(de\014ned)h(precisely)h(in)d(the)
318 1664 y(IEEE)e(\015oating)d(p)q(oin)o(t)i(standard;)g(roughly)f
(they)h(mean:)422 1760 y Fg(Invalid)e Fl(=)i(in)o(v)n(alid)e(argumen)o
(t)h(to)h(an)f(op)q(eration.)422 1829 y Fg(Inexact)f
Fl(=)i(an)g(op)q(eration)g(pro)q(duced)h(an)f(inexact)g(result.)422
1899 y Fg(Overflow)21 b Fl(=)i(a)g(\015oating-p)q(oin)o(t)e(op)q
(eration)h(pro)q(duced)j(a)d(result)i(whose)422 1948
y(absolute)14 b(v)n(alue)f(is)h(to)q(o)f(large)h(to)g(b)q(e)g(represen)
o(ted.)422 2018 y Fg(Underflow)k Fl(=)i(a)g(\015oating-p)q(oin)o(t)f
(op)q(eration)h(pro)q(duced)h(a)f(result)h(whose)422
2067 y(absolute)14 b(v)n(alue)f(is)h(to)q(o)f(small)f(to)i(b)q(e)g
(represen)o(ted.)422 2137 y Fg(DivByZero)e Fl(=)i(\015oating-p)q(oin)o
(t)e(division)h(b)o(y)g(zero.)380 2233 y(The)i(meaning)d(of)h(the)h
(last)g(t)o(w)o(o)f(\015ags)h(is:)422 2330 y Fg(IntOverflow)f
Fl(=)i(an)g(in)o(teger)h(op)q(eration)f(pro)q(duced)h(a)f(result)h
(outside)g(the)422 2380 y(represen)o(table)g(range.)422
2449 y Fg(IntDivByZero)11 b Fl(=)j(in)o(teger)h Fg(DIV)e
Fl(or)h Fg(MOD)f Fl(b)o(y)h(zero.)p eop
%%Page: 17 27
17 26 bop 141 162 a Fe(2.7)41 b(Lex)1230 b Fl(17)241
307 y Fg(CONST)20 b(NoFlags)h(=)g(SET)g(OF)h(Flag)f({};)241
381 y(PROCEDURE)f(GetFlags\(\):)f(SET)i(OF)h(Flag;)241
442 y Fe(Return)14 b(the)g(set)h(of)f(\015ags)f(for)h(the)g(curren)o(t)
i(thread.)241 537 y Fg(PROCEDURE)k(SetFlags\(s:)f(SET)i(OF)h(Flag\))284
587 y(:)g(SET)f(OF)g(Flag)g(RAISES)g({Failure};)241 649
y Fe(Set)14 b(the)f(\015ags)h(for)f(the)g(curren)o(t)i(thread)f(to)f
Fc(s)p Fe(,)g(and)g(return)i(their)e(previous)h(v)n(alues.)241
746 y Fg(PROCEDURE)20 b(ClearFlag\(f:)f(Flag\);)241 808
y Fe(T)m(urn)13 b(o\013)h(the)h(\015ag)e Fc(f)h Fe(for)f(the)i(curren)o
(t)g(thread.)241 903 y Fg(EXCEPTION)20 b(Trap\(Flag\);)241
976 y(TYPE)h(Behavior)f(=)h({Trap,)g(SetFlag,)f(Ignore};)141
1050 y Fl(The)14 b(b)q(eha)o(vior)g(of)f(an)h(op)q(eration)g(that)g
(causes)h(one)f(of)f(the)i(\015ag)e(conditions)h(is)f(either:)245
1138 y Fg(Ignore)f Fl(=)i(return)i(some)d(result)h(and)g(do)g(nothing.)
245 1204 y Fg(SetFlag)21 b Fl(=)j(return)g(some)e(result)i(and)f(set)h
(the)g(condition)e(\015ag.)46 b(F)m(or)245 1253 y(IEEE)14
b(implemen)o(tatio)o(ns,)d(the)j(result)g(of)f(the)h(op)q(eration)f(is)
g(de\014ned)i(b)o(y)e(the)245 1303 y(standard.)245 1369
y Fg(Trap)j Fl(=)h(p)q(ossibly)g(set)h(the)f(condition)g(\015ag;)g(in)g
(an)o(y)f(case)i(raise)g(the)f Fg(Trap)245 1419 y Fl(exception)d(with)g
(the)g(appropriate)g(\015ag)g(as)g(the)g(argumen)o(t.)241
1554 y Fg(PROCEDURE)20 b(SetBehavior\(f:)e(Flag;)j(b:)h(Behavior\))e
(RAISES)g({Failure};)241 1616 y Fe(Set)d(the)h(b)q(eha)o(vior)f(of)f
(the)i(curren)o(t)h(thread)e(for)g(the)h(\015ag)e Fc(f)h
Fe(to)g(b)q(e)h Fc(b)p Fe(,)f(or)g(raise)241 1666 y Fc(Failure)12
b Fe(if)h(this)h(cannot)g(b)q(e)h(done.)241 1763 y Fg(PROCEDURE)20
b(GetBehavior\(f:)e(Flag\):)j(Behavior;)241 1825 y Fe(Return)14
b(the)g(b)q(eha)o(vior)g(of)f(the)i(curren)o(t)g(thread)g(for)e(the)i
(\015ag)e Fc(f)p Fe(.)241 1922 y Fg(END)21 b(FloatMode.)141
2061 y Ff(2.7)56 b(Lex)141 2161 y Fl(The)18 b Fg(Lex)f
Fl(in)o(terface)h(pro)o(vides)g(pro)q(cedures)i(for)d(reading)g
(strings,)i(b)q(o)q(oleans,)f(in)o(tegers,)141 2211 y(and)c
(\015oating-p)q(oin)o(t)e(n)o(um)o(b)q(ers)i(from)e(an)h(input)h
(stream.)241 2306 y Fg(INTERFACE)20 b(Lex;)241 2378 y(IMPORT)g
(FloatMode,)g(Rd,)h(Word;)241 2449 y(EXCEPTION)f(Error;)p
eop
%%Page: 18 28
18 27 bop 318 162 a Fl(18)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)418 307 y Fg(CONST)483 355 y(Blanks)21
b(=)g(SET)g(OF)h(CHAR{)527 403 y(')f(',)h('\\t',)e('\\n',)h('\\r',)g
('\\013')f(\(*)i(vertical)e(tab)h(*\),)g('\\f'};)483
452 y(NonBlanks)f(=)i(SET)f(OF)g(CHAR{'!')f(..)i('~'};)318
529 y Fl(Eac)o(h)12 b(of)f(the)i(pro)q(cedures)h(in)d(this)h(in)o
(terface)h(reads)f(a)g(sp)q(eci\014ed)h(pre\014x)g(of)e(the)h(c)o
(haracters)318 579 y(in)26 b(the)h(reader)h(passed)g(to)e(the)h(pro)q
(cedure,)k(and)c(lea)o(v)o(es)f(the)i(reader)f(p)q(ositioned)318
629 y(immediately)12 b(after)j(that)g(pre\014x,)h(p)q(erhaps)g(at)f
(end-of-\014le.)22 b(Eac)o(h)16 b(pro)q(cedure)h(ma)o(y)c(call)318
679 y Fg(Rd.UngetChar)e Fl(after)j(its)g(\014nal)g(call)f(on)g
Fg(Rd.GetChar)p Fl(.)418 779 y Fg(PROCEDURE)20 b(Scan\()505
827 y(rd:)h(Rd.T;)g(READONLY)f(cs:)h(SET)g(OF)h(CHAR)f(:=)g
(NonBlanks\):)e(TEXT)461 877 y(RAISES)i({Rd.Failure};)418
941 y Fe(Read)16 b(the)h(longest)f(pre\014x)h(of)e Fc(rd)h
Fe(comp)q(osed)g(of)g(c)o(haracters)i(in)e Fc(cs)f Fe(and)h(return)418
990 y(that)e(pre\014x)g(as)g(a)g Fc(TEXT)p Fe(.)418 1091
y Fg(PROCEDURE)20 b(Skip\()505 1139 y(rd:)h(Rd.T;)g(READONLY)f(cs:)h
(SET)g(OF)h(CHAR)f(:=)g(Blanks\))461 1189 y(RAISES)g({Rd.Failure};)418
1252 y Fe(Read)12 b(the)i(longest)f(pre\014x)g(of)g Fc(rd)f
Fe(comp)q(osed)h(of)f(c)o(haracters)j(in)d Fc(cs)h Fe(and)g(discard)g
(it.)318 1329 y Fl(Whenev)o(er)19 b(a)g(sp)q(eci\014cation)g(of)e(one)i
(of)f(the)h(pro)q(cedures)h(men)o(tions)d(skipping)h(blanks,)318
1379 y(this)c(is)g(equiv)n(alen)o(t)f(to)h(p)q(erforming)e(the)i(call)g
Fg(Skip\(rd,)20 b(Blanks\))p Fl(.)418 1479 y Fg(PROCEDURE)g(Match\(rd:)
f(Rd.T;)i(t:)h(TEXT\))461 1529 y(RAISES)f({Rd.Failure,)e(Error};)418
1593 y Fe(Read)12 b(the)h(longest)f(pre\014x)i(of)e Fc(rd)g
Fe(that)g(is)g(also)g(a)h(pre\014x)g(of)f Fc(t)p Fe(.)17
b(Raise)12 b Fc(Error)f Fe(if)h(that)418 1643 y(pre\014x)i(is)g(not,)f
(in)h(fact,)f(equal)h(to)f(all)g(of)g Fc(t)p Fe(.)418
1745 y Fg(PROCEDURE)20 b(Bool\(rd:)g(Rd.T\):)g(BOOLEAN)h(RAISES)f
({Rd.Failure,)f(Error};)418 1809 y Fe(Read)13 b(a)h(b)q(o)q(olean)f
(from)g Fc(rd)g Fe(and)h(return)h(its)f(v)n(alue.)318
1886 y Fg(Bool)19 b Fl(skips)i(blanks,)g(then)g(reads)g(the)g(longest)f
(pre\014x)i(of)d Fg(rd)h Fl(that)g(is)h(a)f(pre\014x)h(of)e(a)318
1936 y Fg(Boolean)12 b Fl(in)i(the)g(follo)o(wing)e(gramma)o(r:)480
2013 y Fg(Boolean)20 b(=)i("F")f("A")g("L")g("S")h("E")f(|)g("T")g("R")
h("U")f("E".)318 2090 y Fl(The)14 b(case)h(of)f(letters)h(in)e(a)h
Fg(Boolean)e Fl(is)i(not)g(signi\014can)o(t.)k(If)13
b(the)i(pre\014x)f(read)h(from)d Fg(rd)h Fl(is)318 2140
y(an)h(en)o(tire)g Fg(Boolean)p Fl(,)e Fg(Bool)h Fl(returns)j(that)e(b)
q(o)q(olean;)f(else)h(it)g(raises)g Fg(Error)p Fl(.)418
2240 y Fg(PROCEDURE)20 b(Int\(rd:)g(Rd.T;)h(defaultBase:)e([2..16])h
(:=)i(10\))461 2288 y(:)g(INTEGER)e(RAISES)h({Rd.Failure,)e(Error,)i
(FloatMode.Trap})o(;)418 2336 y(PROCEDURE)f(Unsigned\(rd:)f(Rd.T;)i
(defaultBase:)e([2..16])h(:=)i(16\))461 2385 y(:)g(Word.T)e(RAISES)h
({Rd.Failure,)e(Error,)i(FloatMode.Trap};)418 2449 y
Fe(Read)13 b(a)h(n)o(um)o(b)q(er)f(from)f Fc(rd)i Fe(and)f(return)i
(its)f(v)n(alue.)p eop
%%Page: 19 29
19 28 bop 141 162 a Fe(2.7)41 b(Lex)1230 b Fl(19)141
307 y(Eac)o(h)13 b(pro)q(cedure)i(skips)e(blanks,)f(then)h(reads)h(the)
g(longest)e(pre\014x)i(of)e Fg(rd)g Fl(that)h(is)g(a)f(pre\014x)141
357 y(of)g(a)f Fg(Number)g Fl(as)i(de\014ned)g(b)o(y)f(the)h(gramma)o
(r)d(b)q(elo)o(w.)17 b(If)12 b Fg(defaultBase)e Fl(exceeds)k(10,)d
(then)141 407 y(the)k(pro)q(cedure)i(scans)f(for)f(a)f
Fg(BigBaseNum)p Fl(;)f(otherwise)j(it)e(scans)i(for)f(a)f
Fg(SmallBaseNum)p Fl(.)141 457 y(The)20 b(e\013ect)h(of)e(this)g(rule)h
(is)f(that)g(the)h(letters)h Fg('a')e Fl(through)g Fg('f')g
Fl(and)g Fg('A')g Fl(through)141 506 y Fg('F')12 b Fl(stop)g(the)h
(scan)g(unless)g(either)h(the)f Fg(defaultBase)d Fl(or)i(the)h
(explicitly)e(pro)o(vided)h(base)141 556 y(exceeds)k(10.)h
Fg(Unsigned)c Fl(omits)f(the)i(scan)h(for)e(a)h Fg(Sign)p
Fl(.)303 633 y Fg(Number)151 b(=)22 b([Sign])e(\(SmallBaseNum)f(|)j
(BigBaseNum\).)303 683 y(SmallBaseNum)d(=)j(DecVal)e(|)i(BasedInt.)303
734 y(BigBaseNum)63 b(=)22 b(HexVal)e(|)i(BasedInt.)303
784 y(BasedInt)107 b(=)22 b(SmallBase)e("_")h(DecVal)f(|)i(BigBase)e
("_")i(HexVal.)303 835 y(DecVal)151 b(=)22 b(Digit)f({Digit}.)303
885 y(HexVal)151 b(=)22 b(HexDigit)e({HexDigit}.)303
935 y(Sign)195 b(=)22 b("+")f(|)h("-".)303 986 y(SmallBase)85
b(=)22 b("2")f(|)h("3")f(|)g(...)g(|)h("10".)303 1036
y(BigBase)129 b(=)22 b("11")f(|)g("12")g(|)h(...)f(|)h("16".)303
1087 y(Digit)173 b(=)22 b("0")f(|)h("1")f(|)g(...)g(|)h("9".)303
1137 y(HexDigit)107 b(=)22 b(Digit)f(|)g("A")g(|)h("B")f(|)h("C")f(|)g
("D")h(|)f("E")g(|)h("F")761 1188 y(|)f("a")g(|)h("b")f(|)h("c")f(|)g
("d")h(|)f("e")g(|)h("f".)141 1264 y Fl(If)i(the)h(pre\014x)g(read)g
(from)e Fg(rd)h Fl(is)g(an)h(en)o(tire)g Fg(Number)e
Fl(\(as)i(describ)q(ed)h(ab)q(o)o(v)o(e\),)g(the)141
1314 y(corresp)q(onding)15 b(n)o(um)o(b)q(er)e(is)h(returned;)h(else)f
Fg(Error)f Fl(is)h(raised.)203 1364 y(If)h(an)g(explicit)f(base)i(is)f
(giv)o(en)f(with)h(an)g(underscore,)i(it)d(is)h(in)o(terpreted)i(in)d
(decimal.)141 1414 y(In)f(this)g(case,)h(the)f(digits)g(in)f
Fg(DecVal)g Fl(or)h Fg(HexVal)e Fl(are)j(in)o(terpreted)g(in)f(the)g
(explicit)g(base,)141 1464 y(else)i(they)f(are)g(in)o(terpreted)i(in)d
(the)i Fg(defaultBase)p Fl(.)203 1514 y(Both)22 b(pro)q(cedures)i(ma)o
(y)c(raise)h Fg(FloatMode.Trap\(IntOv)o(erfl)o(ow\))p
Fl(.)38 b(They)22 b(raise)141 1564 y Fg(Error)13 b Fl(if)g(some)g
(digit)g(in)g(the)i(v)n(alue)e(part)h(is)g(not)f(a)h(legal)f(digit)g
(in)g(the)i(c)o(hosen)g(base.)241 1664 y Fg(PROCEDURE)20
b(Real\(rd:)g(Rd.T\):)g(REAL)284 1712 y(RAISES)h({Rd.Failure,)e(Error,)
i(FloatMode.Trap};)241 1760 y(PROCEDURE)f(LongReal\(rd:)f(Rd.T\):)h
(LONGREAL)284 1807 y(RAISES)h({Rd.Failure,)e(Error,)i(FloatMode.Trap};)
241 1855 y(PROCEDURE)f(Extended\(rd:)f(Rd.T\):)h(EXTENDED)284
1905 y(RAISES)h({Rd.Failure,)e(Error,)i(FloatMode.Trap};)241
1969 y Fe(Read)13 b(a)h(real)g(n)o(um)o(b)q(er)f(from)f
Fc(rd)h Fe(and)h(return)h(its)f(v)n(alue.)141 2045 y
Fl(Eac)o(h)f(pro)q(cedure)i(skips)e(blanks,)f(then)h(reads)h(the)g
(longest)e(pre\014x)i(of)e Fg(rd)g Fl(that)h(is)g(a)f(pre\014x)141
2095 y(of)h(a)h(\015oating-decimal)d(n)o(um)o(b)q(er)i
Fg(Float)g Fl(in)g(the)i(grammar:)303 2171 y Fg(Float)42
b(=)22 b([Sign])f(FloVal)f([Exp].)303 2222 y(FloVal)g(=)i({Digit})e
(\(Digit)h(|)h(Digit)e(".")h(|)h(".")f(Digit\))g({Digit}.)303
2272 y(Exp)86 b(=)22 b(Marker)f([Sign])f(Digit)h({Digit}.)303
2323 y(Marker)f(=)i(\("E")f(|)h("e")f(|)g("D")h(|)f("d")g(|)h("X")f(|)h
("x"\).)141 2399 y Fl(where)11 b Fg(Sign)d Fl(and)h Fg(Digit)g
Fl(are)g(as)h(de\014ned)g(ab)q(o)o(v)o(e.)17 b(If)9 b(the)h(pre\014x)g
(read)f(from)f Fg(rd)h Fl(is)g(an)g(en)o(tire)141 2449
y Fg(Float)p Fl(,)18 b(that)g Fg(Float)f Fl(is)h(con)o(v)o(erted)h(to)f
(a)g Fg(REAL)p Fl(,)f Fg(LONGREAL)p Fl(,)f(or)i Fg(EXTENDED)f
Fl(using)g(the)p eop
%%Page: 20 30
20 29 bop 318 162 a Fl(20)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)318 307 y Fl(routine)12 b Fg(FromDecimal)e
Fl(in)i(the)g(appropriate)g(instance)h(of)e(the)i Fg(Float)e
Fl(generic)i(in)o(terface;)318 357 y(else)j Fg(Error)e
Fl(is)h(raised.)23 b(Note)16 b(that)f(the)h(exp)q(onen)o(t)g(of)f
Fg(Float)f Fl(can)h(b)q(e)h(in)o(tro)q(duced)g(with)318
407 y(an)o(y)g(of)g(the)h(six)f(c)o(haracters)i Fg('e')p
Fl(,)e Fg('E')p Fl(,)g Fg('d')p Fl(,)g Fg('D')p Fl(,)f
Fg('x')p Fl(,)h(or)g Fg('X')p Fl(,)g(indep)q(enden)o(t)i(of)d(the)318
457 y(target)f(t)o(yp)q(e)h(of)e(the)i(con)o(v)o(ersion.)380
506 y(On)f(IEEE)h(implemen)o(tatio)o(ns,)c(the)k(syn)o(tax)f(for)f
Fg(Float)g Fl(is)h(extended)h(as)f(follo)o(ws:)480 580
y Fg(Float)64 b(=)22 b([Sign])e(FloVal)h([Exp])g(|)g([Sign])g(IEEEVal.)
480 630 y(IEEEVal)f(=)i("I")f("N")g("F")g("I")h("N")f("I")g("T")g("Y")g
(|)h("I")f("N")g(F")654 680 y(|)h("N")f("A")g("N".)318
754 y Fl(The)g(case)h(of)f(letters)h(in)f(an)f Fg(IEEEVal)g
Fl(is)h(not)g(signi\014can)o(t.)39 b(The)21 b Fg(FloatMode.Trap)318
804 y Fl(exception)c(ma)o(y)d(b)q(e)j(raised)g(with)f(an)o(y)g(of)f
(the)i(argumen)o(ts)f Fg(Overflow)p Fl(,)f Fg(Underflow)p
Fl(,)f(or)318 853 y Fg(Inexact)p Fl(.)418 951 y Fg(END)21
b(Lex.)318 1091 y Ff(2.8)56 b(Fm)n(t)318 1192 y Fl(The)16
b Fg(Fmt)f Fl(in)o(terface)i(pro)o(vides)e(pro)q(cedures)j(for)e
(formatting)d(n)o(um)o(b)q(ers)j(and)f(other)h(data)318
1242 y(as)e(text.)418 1338 y Fg(INTERFACE)20 b(Fmt;)418
1409 y(IMPORT)g(Word,)h(Real)g(AS)g(R,)h(LongReal)e(AS)h(LR,)g
(Extended)f(AS)i(ER;)418 1483 y(PROCEDURE)e(Bool\(b:)g(BOOLEAN\):)g
(TEXT;)418 1545 y Fe(F)m(ormat)12 b Fc(b)h Fe(as)h Fc("TRUE")f
Fe(or)h Fc("FALSE")p Fe(.)418 1643 y Fg(PROCEDURE)20
b(Char\(c:)g(CHAR\):)g(TEXT;)418 1705 y Fe(Return)14
b(a)g(text)g(con)o(taining)f(the)h(c)o(haracter)i Fc(c)p
Fe(.)418 1801 y Fg(TYPE)21 b(Base)g(=)g([2..16];)418
1873 y(PROCEDURE)f(Int\(n:)g(INTEGER;)g(base:)h(Base)g(:=)g(10\):)g
(TEXT;)418 1922 y(PROCEDURE)f(Unsigned\(n:)f(Word.T;)h(base:)h(Base)g
(:=)h(16\):)e(TEXT;)418 1984 y Fe(F)m(ormat)12 b(the)i(signed)g(or)g
(unsigned)g(n)o(um)o(b)q(er)f Fc(n)h Fe(in)f(the)i(sp)q(eci\014ed)g
(base.)318 2058 y Fl(The)g(v)n(alue)f(returned)j(b)o(y)d
Fg(Int)g Fl(or)h Fg(Unsigned)e Fl(nev)o(er)i(con)o(tains)g(upp)q
(er-case)i(letters,)e(and)318 2108 y(it)e(nev)o(er)i(starts)f(with)f
(an)h(explicit)f(base)h(and)f(underscore.)20 b(F)m(or)13
b(example,)f(to)h(render)i(an)318 2158 y(unsigned)g(n)o(um)o(b)q(er)f
Fg(N)h Fl(in)g(hexadecimal)e(as)i(a)g(legal)f(Mo)q(dula-3)g(literal,)f
(y)o(ou)i(m)o(ust)f(write)318 2208 y(something)f(lik)o(e:)480
2281 y Fg("16_")21 b(&)g(Fmt.Unsigned\(N,)e(16\))418
2377 y(TYPE)i(Style)f(=)i({Sci,)f(Fix,)g(Auto};)418 2449
y(PROCEDURE)f(Real\()p eop
%%Page: 21 31
21 30 bop 141 162 a Fe(2.8)41 b(Fm)o(t)1218 b Fl(21)328
307 y Fg(x:)21 b(REAL;)328 355 y(style)g(:=)g(Style.Auto;)328
403 y(prec:)g(CARDINAL)f(:=)h(R.MaxSignifDigits)d(-)k(1;)328
450 y(literal)e(:=)i(FALSE\))284 498 y(:)g(TEXT;)241
546 y(PROCEDURE)e(LongReal\()328 594 y(x:)h(LONGREAL;)328
641 y(style)g(:=)g(Style.Auto;)328 689 y(prec:)g(CARDINAL)f(:=)h
(LR.MaxSignifDigits)d(-)k(1;)328 737 y(literal)e(:=)i(FALSE\))284
785 y(:)g(TEXT;)241 832 y(PROCEDURE)e(Extended\()328
880 y(x:)h(EXTENDED;)328 928 y(style)g(:=)g(Style.Auto;)328
976 y(prec:)g(CARDINAL)f(:=)h(ER.MaxSignifDigits)d(-)k(1;)328
1023 y(literal)e(:=)i(FALSE\))284 1073 y(:)g(TEXT;)241
1138 y Fe(F)m(ormat)12 b(the)i(\015oating-p)q(oin)o(t)e(n)o(um)o(b)q
(er)i Fc(x)p Fe(.)141 1282 y Fn(Ov)o(erview.)43 b Fg(Style.Sci)18
b Fl(giv)o(es)i(scien)o(ti\014c)g(notation)g(with)f(\014elds)i(padded)f
(to)g(\014xed)141 1332 y(widths,)15 b(suitable)f(for)h(making)d(a)j
(table.)21 b(The)15 b(parameter)g Fg(prec)f Fl(sp)q(eci\014es)i(the)g
(n)o(um)o(b)q(er)141 1382 y(of)d(digits)h(after)g(the)g(decimal)e(p)q
(oin)o(t|that)h(is,)h(the)g(relativ)o(e)g(precision.)203
1433 y Fg(Style.Fix)d Fl(giv)o(es)i(\014xed)g(p)q(oin)o(t,)f(with)h
Fg(prec)e Fl(once)j(again)e(sp)q(ecifying)g(the)i(n)o(um)o(b)q(er)e(of)
141 1483 y(digits)i(after)g(the)h(decimal)d(p)q(oin)o(t|in)h(this)h
(case,)h(the)g(absolute)f(precision.)19 b(The)c(results)141
1533 y(of)e Fg(Style.Fix)f Fl(ha)o(v)o(e)i(v)n(arying)f(widths,)g(but)h
(they)h(will)d(form)g(a)i(table)g(if)f(they)h(are)h(righ)o(t-)141
1583 y(aligned)e(\(using)h Fg(Fmt.Pad)p Fl(\))e(in)i(a)f(su\016cien)o
(tly)h(wide)g(\014eld.)203 1634 y Fg(Style.Auto)h Fl(is)i(not)g(in)o
(tended)g(for)g(tables.)27 b(It)17 b(giv)o(es)g(scien)o(ti\014c)h
(notation)e(with)g(at)141 1684 y(most)d Fg(prec)h Fl(digits)f(after)i
(the)g(decimal)e(p)q(oin)o(t)h(for)g(n)o(um)o(b)q(ers)g(that)g(are)h(v)
o(ery)g(big)e(or)i(v)o(ery)141 1733 y(small.)27 b(There)18
b(ma)o(y)e(b)q(e)i(few)o(er)g(than)g Fg(prec)f Fl(digits)f(after)i(the)
g(decimal)e(p)q(oin)o(t)h(b)q(ecause)141 1783 y(trailing)h(zeros)i(are)
f(suppressed.)36 b(F)m(or)19 b(n)o(um)o(b)q(ers)g(that)g(are)g(neither)
h(to)q(o)f(big)f(nor)h(to)q(o)141 1833 y(small,)11 b(it)h(formats)g
(the)i(same)e(signi\014can)o(t)h(digits|at)f(most)g Fg(prec+1)g
Fl(of)g(them|in)g(\014xed)141 1883 y(p)q(oin)o(t,)h(for)g(greater)i
(legibilit)o(y)m(.)203 1934 y(All)e(st)o(yles)i(omit)d(the)i(decimal)e
(p)q(oin)o(t)i(unless)g(it)g(is)g(follo)o(w)o(ed)e(b)o(y)i(at)f(least)h
(one)h(digit.)203 1985 y(Setting)h Fg(literal)e Fl(to)i
Fg(TRUE)e Fl(alters)i(all)f(st)o(yles)h(as)g(necessary)h(to)f(mak)o(e)e
(the)i(result)g(a)141 2035 y(legal)d(Mo)q(dula-3)g(literal)g(of)g(the)h
(appropriate)g(t)o(yp)q(e.)141 2150 y Fn(Accuracy)l(.)42
b Fl(As)28 b(discussed)h(in)f(the)g Fg(Float)e Fl(in)o(terface,)32
b(the)c(call)f Fg(ToDecimal\(x\))141 2200 y Fl(con)o(v)o(erts)12
b Fg(x)f Fl(to)g(a)g(\015oating-decimal)d(n)o(um)o(b)q(er)i(with)h
(automatic)e(precision)j(con)o(trol)f([17)o(,)f(6]:)141
2250 y(Just)23 b(enough)f(digits)g(are)h(retained)g(to)f(distinguish)g
Fg(x)g Fl(from)e(other)j(v)n(alues)f(of)g(t)o(yp)q(e)141
2300 y Fg(T)p Fl(,)d(whic)o(h)g(implies)f(that)h(at)h(most)e
Fg(T.MaxSignifDigits)e Fl(are)k(retained.)35 b(The)20
b Fg(Real)p Fl(,)141 2350 y Fg(LongReal)p Fl(,)9 b(and)g
Fg(Extended)f Fl(pro)q(cedures)13 b(format)8 b(those)i(digits)f(as)h
(an)g(appropriate)g(string)141 2399 y(of)15 b(c)o(haracters.)24
b(If)15 b(the)h(precision)g(requested)h(b)o(y)e Fg(prec)g
Fl(is)g(higher)h(than)f(the)h(automatic)141 2449 y(precision)11
b(pro)o(vided)f(b)o(y)f Fg(ToDecimal\(x\))p Fl(,)f(they)j(app)q(end)g
(trailing)d(zeros.)18 b(If)10 b(the)h(precision)p eop
%%Page: 22 32
22 31 bop 318 162 a Fl(22)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)318 307 y Fl(requested)14 b(b)o(y)e
Fg(prec)f Fl(is)i(lo)o(w)o(er,)e(they)i(round)f Fg(ToDecimal\(x\))e
Fl(as)i(necessary)m(,)i(ob)q(eying)d(the)318 357 y(curren)o(t)k
(rounding)d(mo)q(de.)17 b(Because)e(they)e(exploit)g(the)g
Fg(errorSign)f Fl(\014eld)h(of)f(the)i(record)318 407
y Fg(ToDecimal\(x\))c Fl(in)j(doing)e(this)i(rounding,)f(they)h(get)h
(the)f(same)f(result)h(that)g(rounding)f Fg(x)318 457
y Fl(itself)i(w)o(ould)f(giv)o(e.)380 508 y(As)27 b(a)g(consequence,)k
(setting)c Fg(prec)f Fl(higher)g(than)h Fg(T.MaxSignifDigits)o(-1)d
Fl(in)318 558 y Fg(Style.Sci)13 b Fl(isn't)h(v)o(ery)h(useful:)20
b(The)15 b(trailing)e(digits)i(of)f(all)f(of)h(the)i(resulting)e(n)o
(um)o(b)q(ers)318 608 y(will)h(b)q(e)j(zero.)27 b(Setting)17
b Fg(prec)f Fl(higher)g(than)h Fg(T.MaxSignifDigits-)o(1)d
Fl(in)i Fg(Style.Auto)318 658 y Fl(actually)d(has)h(no)g(e\013ect)h(at)
f(all,)e(since)j(trailing)d(zeros)j(are)g(suppressed.)318
774 y Fn(Details.)39 b Fl(W)m(e)13 b(restrict)h(ourselv)o(es)g(at)e
(\014rst)i(to)e(those)i(cases)g(where)g Fg(Class\(x\))d
Fl(is)h(either)318 824 y Fg(Normal)h Fl(or)g Fg(Denormal)p
Fl(.)380 875 y(In)d(those)g(cases,)h Fg(Style.Sci)d Fl(returns:)17
b(a)9 b(min)o(us)f(sign)h(or)h(blank,)f(the)h(leading)e(nonzero)318
925 y(digit)k(of)g Fg(x)p Fl(,)h(a)g(decimal)e(p)q(oin)o(t,)h
Fg(prec)h Fl(more)f(digits)g(of)g Fg(x)p Fl(,)h(a)g(c)o(haracter)h
Fg('e')p Fl(,)e(a)h(min)o(us)e(sign)318 975 y(or)g(plus)f(sign,)h(and)f
Fg(T.MaxExpDigits)e Fl(of)h(exp)q(onen)o(t)j(\(with)e(leading)g(zeros)i
(as)e(necessary\).)318 1025 y(When)k Fg(prec)f Fl(is)h(zero,)g(the)h
(decimal)d(p)q(oin)o(t)h(is)h(omitted.)380 1076 y Fg(Style.Fix)e
Fl(returns:)20 b(a)13 b(min)o(us)g(sign)g(if)g(necessary)m(,)i(one)g
(or)e(more)g(digits,)g(a)h(decimal)318 1126 y(p)q(oin)o(t,)d(and)h
Fg(prec)f Fl(more)f(digits|nev)o(er)i(an)o(y)f(blanks.)17
b(When)12 b Fg(prec)f Fl(is)h(zero,)g(the)h(decimal)318
1176 y(p)q(oin)o(t)g(is)h(omitted.)380 1227 y Fg(Style.Auto)g
Fl(\014rst)i(formats)f Fg(x)g Fl(as)h(in)f Fg(Style.Sci)p
Fl(,)f(using)i(scien)o(ti\014c)g(notation)f(with)318
1277 y Fg(prec)e Fl(digits)g(after)h(the)h(decimal)d(p)q(oin)o(t.)18
b(Call)12 b(this)i(in)o(termediate)f(result)i Fg(R)p
Fl(.)380 1329 y(If)20 b(the)g(exp)q(onen)o(t)h(of)e Fg(R)g
Fl(is)h(at)g(least)g Fg(6)f Fl(in)g(magnitude,)g Fg(Style.Auto)f
Fl(lea)o(v)o(es)i Fg(R)g Fl(in)318 1378 y(scien)o(ti\014c)c(notation,)f
(but)g(condenses)i(it)e(b)o(y)g(omitting)e(all)h(blanks,)h(plus)g
(signs,)h(trailing)318 1428 y(zero)f(digits,)f(and)g(leading)g(zeros)h
(in)f(the)h(exp)q(onen)o(t.)21 b(If)14 b(this)g(lea)o(v)o(es)h(no)f
(digits)g(after)g(the)318 1478 y(decimal)e(p)q(oin)o(t,)h(the)i
(decimal)d(p)q(oin)o(t)h(itself)h(is)g(omitted.)380 1530
y(If)i(the)g(exp)q(onen)o(t)h(of)e Fg(R)g Fl(is)h(at)f(most)g
Fg(5)g Fl(in)h(magnitude,)e Fg(Style.Auto)g Fl(reformats)g(the)318
1579 y(digits)c(of)g Fg(R)h Fl(in)f(\014xed)h(p)q(oin)o(t,)f(\014rst)i
(deleting)f(an)o(y)f(trailing)f(zeros)j(and)f(then)g(adding)f(leading)
318 1629 y(or)j(trailing)e(zeros)j(as)e(necessary)j(to)d(bridge)h(the)g
(gap)f(from)f(the)i(digits)f(of)g Fg(R)h Fl(to)f(the)h(unit's)318
1679 y(place.)380 1730 y(F)m(or)h(example:)480 1810 y
Fg(Fmt.Real\(1.287e6,)40 b(Style.Auto,)19 b(prec)i(:=)h(2\))f(=)h
("1.29e6")480 1862 y(Fmt.Real\(1.297e6,)40 b(Style.Auto,)19
b(prec)i(:=)h(2\))f(=)h("1.3e6")480 1913 y(Fmt.Real\(1.297e5,)40
b(Style.Auto,)19 b(prec)i(:=)h(2\))f(=)h("130000")480
1964 y(Fmt.Real\(1.297e-5)o(,)d(Style.Auto,)g(prec)i(:=)h(2\))f(=)h
("0.000013")480 2016 y(Fmt.Real\(1.297e-6)o(,)d(Style.Auto,)g(prec)i
(:=)h(2\))f(=)h("1.3e-6")480 2067 y(Fmt.Real\(9.997e5,)40
b(Style.Auto,)19 b(prec)i(:=)h(2\))f(=)h("1e6")480 2119
y(Fmt.Real\(9.997e-6)o(,)d(Style.Auto,)g(prec)i(:=)h(2\))f(=)h
("0.00001")318 2198 y(Style.Sci)16 b Fl(handles)i(zero)g(b)o(y)g
(replacing)f(the)i(en)o(tire)f(exp)q(onen)o(t)g(\014eld)g(b)o(y)g
(blanks,)f(for)318 2248 y(example:)37 b Fg(" 0.00    ")p
Fl(.)46 b Fg(Style.Fix)22 b Fl(renders)k(zero)e(with)g(all)f(digits)g
(zero;)29 b(for)318 2298 y(example,)11 b Fg("0.00")p
Fl(.)17 b Fg(Style.Auto)10 b Fl(renders)15 b(zero)f(as)f
Fg("0")p Fl(.)k(On)c(IEEE)h(implem)o(en)o(tations,)318
2348 y(the)g(v)n(alue)g(min)o(us)e(zero)j(is)f(rendered)h(as)f(a)g
(negativ)o(e)g(n)o(um)o(b)q(er.)380 2399 y(Also)f(on)g(IEEE)h(implemen)
o(tations,)c Fg(Style.Sci)h Fl(formats)h(in\014nities)h(or)g(NaN's)g
(with)318 2449 y(a)18 b(min)o(us)e(sign)i(or)g(blank,)g(the)h(string)f
Fg("Infinity")e Fl(or)i Fg("NaN")p Fl(,)f(and)h(enough)h(trailing)p
eop
%%Page: 23 33
23 32 bop 141 162 a Fe(2.8)41 b(Fm)o(t)1218 b Fl(23)141
307 y(blanks)16 b(to)g(get)g(the)h(correct)g(o)o(v)o(erall)e(width.)25
b Fg(Style.Fix)14 b Fl(and)i Fg(Style.Auto)d Fl(omit)h(the)141
357 y(blanks.)k(In)c Fg(Style.Sci)p Fl(,)d(if)i Fg("Infinity")f
Fl(do)q(esn't)i(\014t,)g Fg("Inf")f Fl(is)g(used)i(instead.)203
410 y(Setting)d Fg(literal)e Fl(to)h Fg(TRUE)g Fl(alters)g(things)h(as)
f(follo)o(ws:)k(Num)o(b)q(ers)d(that)f(are)h(rendered)141
460 y(without)i(a)h(decimal)d(p)q(oin)o(t)j(when)g Fg(literal)e
Fl(is)h Fg(FALSE)g Fl(ha)o(v)o(e)g(a)g(decimal)f(p)q(oin)o(t)h(and)h
(one)141 510 y(trailing)k(zero)j(app)q(ended)g(to)f(their)g(digits.)38
b(F)m(or)21 b(the)g(routines)h Fg(Fmt.LongReal)c Fl(and)141
559 y Fg(Fmt.Extended)p Fl(,)13 b(an)i(exp)q(onen)o(t)i(\014eld)f(of)f
Fg(d0)g Fl(or)g Fg(x0)h Fl(is)f(app)q(ended)i(to)e(n)o(um)o(b)q(ers)g
(in)h(\014xed)141 609 y(p)q(oin)o(t)k(and)g Fg('d')f
Fl(or)h Fg('x')g Fl(is)g(used,)i(rather)f(than)f Fg('e')p
Fl(,)h(to)f(in)o(tro)q(duce)h(the)g(exp)q(onen)o(ts)141
659 y(of)k(n)o(um)o(b)q(ers)h(in)f(scien)o(ti\014c)i(notation.)53
b(On)26 b(IEEE)g(implemen)o(tations,)g(the)g(string)141
709 y Fg("Infinity")14 b Fl(is)j(replaced)g(b)o(y)f Fg("1.0/0.0")p
Fl(,)f Fg("1.0d0/0.0d0")p Fl(,)f(or)i Fg("1.0x0/0.0x0")e
Fl(as)141 759 y(appropriate,)e(and)h Fg("NaN")e Fl(is)i(similarly)c
(replaced)14 b(b)o(y)e(a)g(represen)o(tation)i(of)e(the)h(quotien)o(t)
141 809 y Fg(0/0)p Fl(.)20 b(\(Unfortunately)m(,)13 b(these)k(quotien)o
(t)d(strings)h(are)g(so)g(long)e(that)i(they)g(ma)o(y)e(ruin)h(the)141
858 y(formatting)e(of)h Fg(Style.Sci)f Fl(tables)i(when)g
Fg(prec)f Fl(is)h(small)e(and)h Fg(literal)g Fl(is)h
Fg(TRUE)p Fl(.\))241 969 y Fg(TYPE)21 b(Align)f(=)i({Left,)e(Right};)
241 1048 y(PROCEDURE)g(Pad\()328 1096 y(text:)h(TEXT;)328
1143 y(length:)f(CARDINAL;)328 1191 y(padChar:)g(CHAR)h(:=)g(')h(';)328
1241 y(align:)e(Align)h(:=)g(Align.Right\):)f(TEXT;)241
1310 y Fe(If)d Fc(Text.Length\(text\))h(>=)j(length)p
Fe(,)c(then)h Fc(text)f Fe(is)h(returned)h(unc)o(hanged.)241
1359 y(Otherwise,)e Fc(text)d Fe(is)i(padded)g(with)f
Fc(padChar)f Fe(un)o(til)h(it)g(has)h(the)g(giv)o(en)f
Fc(length)p Fe(.)241 1409 y(The)f(text)g(go)q(es)h(to)e(the)i(righ)o(t)
e(or)h(left,)f(according)h(to)g Fc(align)p Fe(.)241 1520
y Fg(PROCEDURE)20 b(F\(fmt:)g(TEXT;)h(t1,)g(t2,)g(t3,)g(t4,)h(t5:)f
(TEXT)g(:=)g(NIL\))284 1570 y(:)h(TEXT;)241 1638 y Fe(Uses)c
Fc(fmt)e Fe(as)h(a)g(format)e(string.)28 b(The)17 b(result)h(is)f(a)g
(cop)o(y)g(of)f Fc(fmt)g Fe(in)h(whic)o(h)g(all)241 1688
y(format)12 b(sp)q(eci\014ers)k(ha)o(v)o(e)f(b)q(een)g(replaced,)g(in)f
(order,)g(b)o(y)h(the)f(text)h(argumen)o(ts)f Fc(t1)p
Fe(,)241 1738 y Fc(t2)p Fe(,)f(etc.)141 1822 y Fl(A)18
b(format)f(sp)q(eci\014er)j(con)o(tains)e(a)g(\014eld)h(width,)f
(alignmen)o(t)e(and)j(one)f(of)g(t)o(w)o(o)g(padding)141
1872 y(c)o(haracters.)43 b(The)22 b(pro)q(cedure)h Fg(F)e
Fl(ev)n(aluates)h(the)g(sp)q(eci\014er)h(and)e(replaces)i(it)e(b)o(y)g
(the)141 1922 y(corresp)q(onding)c(text)f(argumen)o(t)f(padded)h(as)g
(it)f(w)o(ould)h(b)q(e)g(b)o(y)g(a)f(call)g(to)h Fg(Pad)f
Fl(with)g(the)141 1972 y(sp)q(eci\014ed)g(\014eld)f(width,)g(padding)f
(c)o(haracter)i(and)f(alignmen)o(t.)203 2025 y(The)h(syn)o(tax)e(of)h
(a)f(format)f(sp)q(eci\014er)k(is:)303 2109 y Fg(\045[-]{0-9}s)141
2194 y Fl(that)j(is,)h(a)f(p)q(ercen)o(t)i(c)o(haracter)f(follo)o(w)o
(ed)d(b)o(y)i(an)g(optional)f(min)o(us)f(sign,)j(an)f(optional)141
2243 y(n)o(um)o(b)q(er)13 b(and)h(a)f(compulsory)g(terminating)f
Fg(s)p Fl(.)203 2296 y(If)19 b(the)g(min)o(us)e(sign)i(is)g(presen)o(t)
h(the)f(alignmen)o(t)e(is)i Fg(Align.Left)p Fl(,)e(otherwise)j(it)e(is)
141 2346 y Fg(Align.Right)p Fl(.)e(The)e(alignmen)o(t)e(corresp)q(onds)
j(to)f(the)h Fg(align)d Fl(argumen)o(t)h(to)h Fg(Pad)p
Fl(.)203 2399 y(The)26 b(n)o(um)o(b)q(er)f(sp)q(eci\014es)i(the)f
(\014eld)g(width)f(\(this)h(corresp)q(onds)h(to)e(the)h
Fg(length)141 2449 y Fl(argumen)o(t)13 b(to)g Fg(Pad)p
Fl(\).)18 b(If)c(the)g(n)o(um)o(b)q(er)f(is)h(omitted)e(it)i(defaults)g
(to)g(zero.)p eop
%%Page: 24 34
24 33 bop 318 162 a Fl(24)810 b Fe(2)41 b(ST)m(AND)o(ARD)12
b(INTERF)-5 b(A)o(CES)380 307 y Fl(If)13 b(the)g(n)o(um)o(b)q(er)f(is)h
(presen)o(t)h(and)f(starts)h(with)e(the)h(digit)f Fg(0)h
Fl(the)g(padding)f(c)o(haracter)i(is)318 357 y Fg('0')p
Fl(;)f(otherwise)i(it)f(is)g(the)h(space)g(c)o(haracter.)20
b(The)14 b(padding)g(c)o(haracter)h(corresp)q(onds)h(to)318
407 y(the)e Fg(padChar)f Fl(argumen)o(t)g(to)g Fg(Pad)p
Fl(.)380 457 y(It)g(is)g(a)f(c)o(hec)o(k)o(ed)i(run)o(time)d(error)j
(if)e Fg(fmt)g Fl(is)g Fg(NIL)g Fl(or)h(the)g(n)o(um)o(b)q(er)f(of)g
(format)f(sp)q(eci\014ers)318 506 y(in)i Fg(fmt)h Fl(is)f(not)h(equal)g
(to)f(the)i(n)o(um)o(b)q(er)e(of)g(non-nil)g(argumen)o(ts)g(to)h
Fg(F)p Fl(.)380 556 y(Non-nil)j(argumen)o(ts)h(to)f Fg(F)h
Fl(m)o(ust)f(precede)j(an)o(y)e Fg(NIL)f Fl(argumen)o(ts;)i(it)f(is)g
(a)g(c)o(hec)o(k)o(ed)318 606 y(run)o(time)13 b(error)i(if)e(they)h(do)
g(not.)380 656 y(If)i Fg(t1)g Fl(to)g Fg(t5)g Fl(are)h(all)e
Fg(NIL)h Fl(and)g Fg(fmt)g Fl(con)o(tains)g(no)g(format)f(sp)q
(eci\014ers,)j(the)f(result)g(is)318 706 y Fg(fmt)p Fl(.)380
756 y(Examples:)480 830 y Fg(F\("\045s)k(\045s\\n",)f("Hello",)g
("World"\))g Fl(returns)k Fg("Hello)c(World\\n".)480
880 y(F\("\045s",)g(Int\(3\)\))347 b Fl(returns)24 b
Fg("3")480 930 y(F\("\0452s",)c(Int\(3\)\))325 b Fl(returns)24
b Fg(")d(3")480 980 y(F\("\045-2s",)f(Int\(3\)\))303
b Fl(returns)24 b Fg("3)d(")480 1029 y(F\("\04502s",)f(Int\(3\)\))303
b Fl(returns)24 b Fg("03")480 1079 y(F\("\045-02s",)c(Int\(3\)\))281
b Fl(returns)24 b Fg("30")480 1129 y(F\("\045s",)c("\045s"\))391
b Fl(returns)24 b Fg("\045s")480 1179 y(F\("\045s\045)c(tax",)h
(Int\(3\)\))238 b Fl(returns)24 b Fg("3\045)d(tax")318
1254 y Fl(The)14 b(follo)o(wing)e(examples)h(are)h(legal)f(but)h(p)q
(oin)o(tless:)480 1328 y Fg(F\("\045-s",)20 b(Int\(3\)\))325
b Fl(returns)24 b Fg("3")480 1378 y(F\("\0450s",)c(Int\(3\)\))325
b Fl(returns)24 b Fg("3")480 1428 y(F\("\045-0s",)c(Int\(3\)\))303
b Fl(returns)24 b Fg("3")418 1526 y(PROCEDURE)c(FN\(fmt:)g(TEXT;)h
(READONLY)f(texts:)g(ARRAY)h(OF)g(TEXT\))461 1575 y(:)h(TEXT;)418
1638 y Fe(Similar)15 b(to)i Fc(F)h Fe(but)g(accepts)h(an)e(arra)o(y)h
(of)f(text)h(argumen)o(ts.)29 b(It)18 b(is)f(a)h(c)o(hec)o(k)o(ed)418
1687 y(run)o(time)d(error)i(if)f(the)h(n)o(um)o(b)q(er)f(of)g(format)f
(sp)q(eci\014ers)j(in)e Fc(fmt)g Fe(is)g(not)h(equal)f(to)418
1737 y Fc(NUMBER\(texts\))11 b Fe(or)j(if)f(an)o(y)g(elemen)o(t)g(of)h
Fc(texts)f Fe(is)g Fc(NIL)p Fe(.)g(If)h Fc(NUMBER\(texts\))19
b(=)i(0)418 1787 y Fe(and)13 b Fc(fmt)h Fe(con)o(tains)f(no)h(format)e
(sp)q(eci\014ers)k(the)f(result)f(is)g Fc(fmt)p Fe(.)318
1862 y Fl(Example:)480 1936 y Fg(FN\("\045s)20 b(\045s)i(\045s)f(\045s)
h(\045s)f(\045s)g(\045s",)523 1986 y(ARRAY)g(OF)h(TEXT{"Too",)d
("many",)h("arguments",)567 2036 y("for",)h("F",)g("to",)f("handle"}\))
318 2111 y Fl(returns)15 b Fg("Too)21 b(many)g(arguments)f(for)h(F)h
(to)f(handle")p Fl(.)418 2210 y Fg(END)g(Fmt.)p eop
%%Page: 25 35
25 34 bop 1532 162 a Fl(25)141 307 y Fj(3)69 b(Data)23
b(Structures)141 408 y Ff(3.1)56 b(Sequence)141 514 y
Fg(Sequence)13 b Fl(is)h(a)g(generic)h(in)o(terface)g(de\014ning)g
(extensible)g(sequences.)22 b(Elemen)o(ts)14 b(can)g(b)q(e)141
564 y(added)19 b(or)g(remo)o(v)o(ed)f(at)g(either)i(end)f(of)g(a)f
(sequence;)23 b(they)c(can)g(also)g(b)q(e)g(accessed)i(or)141
614 y(up)q(dated)14 b(at)g(sp)q(eci\014ed)h(indexes.)k(The)14
b(exp)q(ected)h(cost)g(of)e(ev)o(ery)h(metho)q(d)f(of)g(a)g(sequence)
141 663 y(is)h(constan)o(t.)241 767 y Fg(GENERIC)20 b(INTERFACE)g
(Sequence\(Elem\);)241 832 y Fe(Where)14 b Fc(Elem.T)f
Fe(is)h(a)f(t)o(yp)q(e)i(that)f(is)f(not)h(an)g(op)q(en)g(arra)o(y)g(t)
o(yp)q(e.)241 933 y Fg(TYPE)284 981 y(T)22 b(<:)f(Public;)284
1029 y(Public)g(=)g(OBJECT)g(METHODS)328 1077 y(init\(sizeHint:)e
(CARDINAL)h(:=)h(5\):)g(T;)328 1124 y(fromArray\(READON)o(LY)e(a:)i
(ARRAY)g(OF)g(Elem.T\):)g(T;)328 1172 y(addhi\(READONLY)e(x:)i
(Elem.T\);)328 1220 y(addlo\(READONLY)e(x:)i(Elem.T\);)328
1268 y(remhi\(\):)f(Elem.T;)328 1315 y(remlo\(\):)g(Elem.T;)328
1363 y(put\(i:)g(CARDINAL;)g(READONLY)g(x:)i(Elem.T\);)328
1411 y(size\(\):)e(CARDINAL;)328 1459 y(gethi\(\):)g(Elem.T;)328
1506 y(getlo\(\):)g(Elem.T;)328 1554 y(get\(i:)g(CARDINAL\):)g(Elem.T)
284 1604 y(END;)141 1682 y Fl(A)15 b Fg(Sequence\(Elem\).)o(T)d
Fl(\(or)i(just)h(a)f Fd(se)n(quenc)n(e)p Fl(\))h(represen)o(ts)j(an)c
(extensible)h(sequence)i(of)141 1732 y Fg(Elem.T)p Fl(s.)203
1782 y(The)e(\014rst)f(group)g(of)f(metho)q(ds)h(ha)o(v)o(e)f(side)i
(e\013ects)h(on)d(the)i(sequence.)20 b(The)14 b(call)303
1860 y Fg(s.init\(sizeHint\))141 1938 y Fl(initializes)e
Fg(s)h Fl(to)g(b)q(e)h(the)g(empt)o(y)e(sequence.)20
b(F)m(urthermore)13 b Fg(init)f Fl(assumes)i(that)f(at)g(least)141
1988 y Fg(sizeHint)18 b Fl(elemen)o(ts)i(will)f(b)q(e)h(added)h(to)e
(the)i(sequence;)k(these)c(op)q(erations)f(ma)o(y)e(b)q(e)141
2038 y(executed)e(more)d(e\016cien)o(tly)h(than)f(if)g
Fg(sizeHint)g Fl(w)o(as)g(defaulted.)19 b(The)14 b(call)303
2116 y Fg(s.fromArray\(a\))141 2194 y Fl(initializes)i
Fg(s)h Fl(to)g(b)q(e)h(the)g(sequence)i(with)d(elemen)o(ts)g
Fg(a[0],)k(...,)f(a[LAST\(a\)])p Fl(.)27 b(The)141 2244
y(call)303 2321 y Fg(s.addhi\(x\))141 2399 y Fl(app)q(ends)17
b Fg(x)e Fl(to)h(the)g(end)g(of)g Fg(s)p Fl(.)23 b(Th)o(us)16
b(it)g(do)q(es)g(not)g(c)o(hange)g(the)g(index)g(of)f(an)o(y)g
(existing)141 2449 y(elemen)o(t.)j(The)c(call)p eop
%%Page: 26 36
26 35 bop 318 162 a Fl(26)912 b Fe(3)41 b(D)o(A)m(T)m(A)13
b(STR)o(UCTURES)480 307 y Fg(s.addlo\(x\))318 383 y Fl(app)q(ends)h
Fg(x)f Fl(to)h(the)g(fron)o(t)f(of)g Fg(s)p Fl(.)k(Th)o(us)d(it)f
(increases)i(the)f(index)f(of)g(all)f(existing)h(elemen)o(ts)318
433 y(b)o(y)h(one.)k(The)c(call)480 509 y Fg(s.remhi\(\))318
585 y Fl(remo)o(v)o(es)h(and)g(returns)i(the)g(last)e(elemen)o(t)g(of)g
Fg(s)p Fl(.)22 b(Th)o(us)16 b(it)f(do)q(es)i(not)e(c)o(hange)h(the)g
(index)318 635 y(of)c(an)o(y)g(of)g Fg(s)p Fl('s)g(other)h(elemen)o
(ts.)k(If)12 b Fg(s)h Fl(is)f(empt)o(y)m(,)f Fg(s.remhi\(\))f
Fl(causes)k(a)e(c)o(hec)o(k)o(ed)i(run)o(time)318 685
y(error.)19 b(The)14 b(call)480 761 y Fg(s.remlo\(\))318
837 y Fl(remo)o(v)o(es)i(and)g(returns)i(the)f(\014rst)g(elemen)o(t)e
(of)h Fg(s)p Fl(.)25 b(Th)o(us)17 b(it)f(decreases)i(the)f(index)g(of)e
(all)318 887 y(other)g(elemen)o(ts)e(of)h Fg(s)f Fl(b)o(y)h(one.)19
b(If)13 b Fg(s)h Fl(is)g(empt)o(y)m(,)e Fg(s.remlo\(\))g
Fl(causes)j(a)f(c)o(hec)o(k)o(ed)h(run)o(time)318 936
y(error.)k(The)14 b(call)480 1013 y Fg(s.put\(i,)20 b(x\))318
1089 y Fl(replaces)d(elemen)o(t)e Fg(i)g Fl(of)f Fg(s)i
Fl(with)f Fg(x)p Fl(.)22 b(Elemen)o(t)14 b Fg(0)i Fl(is)f(the)h
(\014rst)g(elemen)o(t.)22 b(It)15 b(is)h(a)f(c)o(hec)o(k)o(ed)318
1138 y(run)o(time)e(error)i(unless)f Fg(i)g Fl(is)g(less)g(than)g
Fg(s.size\(\))p Fl(.)380 1189 y(The)h(second)g(group)e(of)h(metho)q(ds)
f(ha)o(v)o(e)h(no)f(side)i(e\013ect)g(on)f(the)g(sequence.)21
b(The)14 b(call)480 1265 y Fg(s.size\(\))318 1341 y Fl(returns)h(the)g
(n)o(um)o(b)q(er)e(of)g(elemen)o(ts)h(in)g Fg(s)p Fl(.)j(The)e(call)480
1417 y Fg(s.get\(i\))318 1493 y Fl(returns)22 b(elemen)o(t)e
Fg(i)g Fl(of)g Fg(s)p Fl(.)37 b(It)20 b(is)g(a)g(c)o(hec)o(k)o(ed)i
(run)o(time)d(error)j(unless)f Fg(i)f Fl(is)g(less)h(than)318
1543 y Fg(s.size\(\))p Fl(.)16 b(The)f(call)480 1619
y Fg(s.gethi\(\))318 1695 y Fl(returns)j(the)f(last)g(elemen)o(t)f(of)g
Fg(s)p Fl(;)h(that)g(is,)f(it)g(is)h(equiv)n(alen)o(t)f(to)g
Fg(s.get\(s.size\(\)-1\))p Fl(.)318 1745 y(The)e(call)480
1821 y Fg(s.getlo\(\))318 1897 y Fl(returns)h(the)g(\014rst)g(elemen)o
(t)e(of)g Fg(s)p Fl(;)g(that)h(is,)g(it)f(is)h(equiv)n(alen)o(t)f(to)h
Fg(s.get\(0\))p Fl(.)418 1998 y Fg(PROCEDURE)20 b(Cat\(s,)g(t:)h(T\):)h
(T;)418 2061 y Fe(Return)14 b(a)g(sequence)i(whose)e(elemen)o(ts)g(are)
g(the)h(concatenation)f(of)f Fc(s)h Fe(and)f Fc(t)p Fe(.)418
2161 y Fg(PROCEDURE)20 b(Sub\(s:)g(T;)h(start:)g(CARDINAL;)505
2210 y(length:)f(CARDINAL)g(:=)i(LAST\(CARDINAL\)\):)c(T;)418
2273 y Fe(Return)g(a)f(sub-sequence)j(of)c Fc(s)p Fe(:)25
b(empt)o(y)17 b(if)f Fc(start)21 b(>=)h(t.size\(\))15
b Fe(or)j Fc(length)418 2323 y(=)j(0)p Fe(;)16 b(otherwise)h(the)f
(subsequence)i(ranging)d(from)f Fc(start)g Fe(to)i(the)g(minim)n(um)11
b(of)418 2373 y Fc(start+length-1)g Fe(and)i Fc(s.size\(\)-1)p
Fe(.)318 2449 y Fg(Cat)g Fl(and)h Fg(Sub)f Fl(create)i(new)g
(sequences;)h(they)e(ha)o(v)o(e)g(no)g(side-e\013ects.)p
eop
%%Page: 27 37
27 36 bop 141 162 a Fe(3.2)41 b(A)o(tom)1193 b Fl(27)203
307 y(Sequences)23 b(are)e(unmonitored:)30 b(a)20 b(clien)o(t)h
(accessing)h(a)e(sequence)j(from)18 b(m)o(ultiple)141
357 y(threads)13 b(m)o(ust)f(ensure)i(that)e(if)g(t)o(w)o(o)g(op)q
(erations)h(are)g(activ)o(e)f(concurren)o(tly)m(,)h(then)g(neither)141
407 y(of)g(them)g(has)h(side)h(e\013ects)h(on)d(the)i(sequence.)241
526 y Fg(END)21 b(Sequence.)203 620 y Fl(The)14 b(standard)g(instances)
g(are)g(named)e Fg(AtomSeq)p Fl(,)g Fg(IntSeq)p Fl(,)f
Fg(RefSeq)p Fl(,)h(and)h Fg(TextSeq)p Fl(.)141 762 y
Ff(3.2)56 b(A)n(tom)141 882 y Fl(An)13 b Fg(Atom.T)e
Fl(is)h(a)g(unique)h(represen)o(tativ)o(e)h(for)e(a)h(set)g(of)f(equal)
g(texts)i(\(lik)o(e)d(a)i(Lisp)f(atomic)141 932 y(sym)o(b)q(ol\))241
1049 y Fg(INTERFACE)20 b(Atom;)241 1131 y(TYPE)h(T)g(<:)h(REFANY;)241
1216 y(PROCEDURE)e(FromText\(t:)f(TEXT\):)i(T;)241 1288
y Fe(Return)13 b(the)g(unique)g(atom)e Fc(a)h Fe(suc)o(h)h(that)g(for)f
(an)o(y)h(text)g Fc(u)p Fe(,)f(if)g Fc(Text.Equal\(u,)19
b(t\))p Fe(,)241 1338 y(then)14 b Fc(FromText\(u\))20
b(=)h(a)p Fe(.)241 1457 y Fg(PROCEDURE)f(ToText\(a:)f(T\):)j(TEXT;)241
1529 y Fe(Return)14 b(a)g(text)g Fc(t)g Fe(suc)o(h)g(that)g
Fc(FromText\(t\))20 b(=)h(a)p Fe(.)241 1648 y Fg(PROCEDURE)f
(Equal\(a1,)f(a2:)j(T\):)f(BOOLEAN;)241 1720 y Fe(Return)14
b Fc(a1)21 b(=)h(a2)p Fe(.)241 1839 y Fg(PROCEDURE)e(Hash\(a:)g(T\):)h
(INTEGER;)241 1911 y Fe(Return)15 b(a)f(hash)h(co)q(de)h(for)e
Fc(a)h Fe(b)o(y)f(taking)g(the)i(image)d(of)h Fc(ToText\(a\))f
Fe(under)i(some)241 1960 y(\014xed)f(hash)g(function.)241
2080 y Fg(PROCEDURE)20 b(Compare\(a1,)f(a2:)i(T\):)g([-1..1];)241
2152 y Fe(Cause)14 b(a)g(c)o(hec)o(k)o(ed)h(run)o(time)e(error.)241
2271 y Fg(END)21 b(Atom.)141 2360 y(Compare)16 b Fl(causes)j(a)e(c)o
(hec)o(k)o(ed)i(run)o(time)d(error)j(b)q(ecause)g(there)f(is)g(no)f
(default)g(order)h(on)141 2410 y(atoms.)p eop
%%Page: 28 38
28 37 bop 318 162 a Fl(28)912 b Fe(3)41 b(D)o(A)m(T)m(A)13
b(STR)o(UCTURES)318 307 y Ff(3.3)56 b(List)17 b(and)j(ListSort)318
409 y Fl(The)k(generic)g(in)o(terface)g Fg(List)e Fl(pro)o(vides)i(op)q
(erations)f(on)h(link)o(ed)e(lists)h(of)g(arbitrary)318
458 y(elemen)o(t)13 b(t)o(yp)q(es.)418 558 y Fg(GENERIC)20
b(INTERFACE)g(List\(Elem\);)418 620 y Fe(Where)14 b Fc(Elem.T)f
Fe(is)h(not)f(an)h(op)q(en)g(arra)o(y)g(t)o(yp)q(e)g(and)g
Fc(Elem)f Fe(con)o(tains)580 695 y Fc(PROCEDURE)19 b(Equal\(k1,)h(k2:)i
(Elem.T\):)e(BOOLEAN;)418 769 y(Equal)e Fe(ma)o(y)g(b)q(e)i(declared)h
(with)f(a)f(parameter)h(mo)q(de)e(of)h(either)i Fc(VALUE)e
Fe(or)418 819 y Fc(READONLY)p Fe(,)11 b(but)j(not)g Fc(VAR)p
Fe(.)418 919 y Fg(TYPE)21 b(T)g(=)h(OBJECT)e(head:)h(Elem.T;)f(tail:)h
(T)h(END;)318 993 y Fl(A)14 b Fg(List.T)f Fl(represen)o(ts)j(a)e(link)o
(ed)f(list)g(of)h(items)f(of)g(t)o(yp)q(e)h Fg(Elem.T)p
Fl(.)318 1068 y(None)g(of)e(the)i(op)q(erations)g(of)e(this)i(in)o
(terface)f(mo)q(dify)e(the)j Fg(head)f Fl(\014eld)g(of)g(an)g(existing)
g(list)318 1118 y(elemen)o(t.)27 b(Op)q(erations)18 b(that)f(ma)o(y)e
(mo)q(dify)g(the)i Fg(tail)f Fl(\014eld)i(of)e(existing)h(list)f
(elemen)o(ts)318 1168 y(are)e(called)g Fd(destructive)p
Fl(.)k(By)c(con)o(v)o(en)o(tion,)f(their)h(names)f(end)i(in)e
Fg(D)p Fl(.)418 1267 y Fg(PROCEDURE)20 b(Cons\(READONLY)f(head:)h
(Elem.T;)h(tail:)g(T\):)g(T;)418 1329 y Fe(Equiv)n(alen)o(t)13
b(to)g Fc(NEW\(T,)21 b(head)g(:=)g(head,)g(tail)g(:=)g(tail\))p
Fe(.)418 1429 y Fg(PROCEDURE)f(List1\(READONLY)e(e1:)k(Elem.T\):)e(T;)
418 1491 y Fe(Return)14 b(a)g(list)f(con)o(taining)g(the)h(single)g
(elemen)o(t)f Fc(e1)p Fe(.)418 1591 y Fg(PROCEDURE)20
b(List2\(READONLY)e(e1,)k(e2:)f(Elem.T\):)f(T;)418 1653
y Fe(Return)14 b(a)g(list)f(con)o(taining)g(the)h(elemen)o(t)g
(sequence)i Fc(e1)p Fe(,)d Fc(e2)p Fe(.)418 1752 y Fg(PROCEDURE)20
b(List3\(READONLY)e(e1,)k(e2,)f(e3:)g(Elem.T\):)f(T;)418
1815 y Fe(Return)14 b(a)g(list)f(con)o(taining)g(the)h(elemen)o(t)g
(sequence)i Fc(e1)p Fe(,)d Fc(e2)p Fe(,)g Fc(e3)p Fe(.)418
1914 y Fg(PROCEDURE)20 b(FromArray\(READO)o(NLY)f(e:)i(ARRAY)g(OF)g
(Elem.T\):)f(T;)418 1976 y Fe(Return)14 b(a)g(list)f(con)o(taining)g
(the)h(elemen)o(ts)g(of)f Fc(e)h Fe(in)f(order.)418 2076
y Fg(PROCEDURE)20 b(Length\(l:)f(T\):)j(CARDINAL;)418
2138 y Fe(Return)14 b(the)g(n)o(um)o(b)q(er)g(of)f(elemen)o(ts)h(of)f
Fc(l)p Fe(.)418 2238 y Fg(PROCEDURE)20 b(Nth\(l:)g(T;)h(n:)h
(CARDINAL\):)e(Elem.T;)418 2300 y Fe(Return)10 b(elemen)o(t)g
Fc(n)g Fe(of)g(list)g Fc(l)p Fe(.)17 b(Elemen)o(t)9 b(0)h(is)g
Fc(l.head)p Fe(,)g(elemen)o(t)g(1)g(is)g Fc(l.tail.head)p
Fe(,)418 2350 y(etc.)19 b(Cause)14 b(a)g(c)o(hec)o(k)o(ed)h(run)o(time)
e(error)i(if)e Fc(n)21 b(>=)h(Length\(l\))p Fe(.)418
2449 y Fg(PROCEDURE)e(Member\(l:)f(T;)j(READONLY)e(e:)h(Elem.T\):)g
(BOOLEAN;)p eop
%%Page: 29 39
29 38 bop 141 162 a Fe(3.3)41 b(List)13 b(and)h(ListSort)986
b Fl(29)241 307 y Fe(Return)16 b Fc(TRUE)f Fe(if)g(some)g(elemen)o(t)g
(of)g Fc(l)h Fe(is)g(equal)f(to)h Fc(e)p Fe(,)f(else)i(return)g
Fc(FALSE)p Fe(.)d(The)241 357 y(comparison)e(is)i(p)q(erformed)f(b)o(y)
h Fc(Elem.Equal)p Fe(.)241 461 y Fg(PROCEDURE)20 b(Append\(l1:)f(T;)j
(l2:)f(T\):)g(T;)241 511 y(PROCEDURE)f(AppendD\(l1:)f(T;)i(l2:)h(T\):)f
(T;)241 576 y Fe(App)q(end)16 b(t)o(w)o(o)g(lists)f(together,)i
(returning)f(the)h(new)f(list.)23 b Fc(Append)15 b Fe(do)q(es)h(this)g
(b)o(y)241 626 y(making)c(a)j(cop)o(y)g(of)g(the)g(cells)h(of)e
Fc(l1)p Fe(;)h Fc(AppendD)e Fe(mo)q(di\014es)h(the)i
Fc(tail)e Fe(\014eld)h(in)g(the)241 675 y(last)e(cell)h(of)f
Fc(l1)p Fe(.)241 779 y Fg(PROCEDURE)20 b(Reverse\(l:)f(T\):)i(T;)241
829 y(PROCEDURE)f(ReverseD\(l:)f(T\):)i(T;)241 894 y
Fe(Return)12 b(a)f(list)g(con)o(taining)g(the)h(elemen)o(ts)f(of)g
Fc(l)h Fe(in)f(rev)o(erse)i(order.)18 b Fc(Reverse)11
b Fe(copies)241 944 y(the)j(cells;)g Fc(ReverseD)e Fe(mo)q(di\014es)h
(the)h Fc(tail)f Fe(\014elds)i(of)e(the)h(existing)g(cells.)241
1050 y Fg(END)21 b(List.)203 1131 y Fl(The)27 b(standard)g(instances)g
(are)f(named)g Fg(AtomList)p Fl(,)h Fg(IntList)p Fl(,)g
Fg(RefList)p Fl(,)g(and)141 1181 y Fg(TextList)p Fl(.)141
1260 y(The)14 b(generic)g(in)o(terface)h Fg(ListSort)d
Fl(extends)i(the)h(generic)f(in)o(terface)g Fg(List)f
Fl(with)g(sorting)141 1310 y(op)q(erations.)241 1416
y Fg(GENERIC)20 b(INTERFACE)g(ListSort\(Elem,)f(ElemList\);)241
1481 y Fe(Where)14 b Fc(Elem.T)f Fe(is)h(not)f(an)h(op)q(en)g(arra)o(y)
g(t)o(yp)q(e,)g Fc(Elem)f Fe(con)o(tains)403 1560 y Fc(PROCEDURE)19
b(Compare\(e1,)h(e2:)h(Elem.T\):)f([-1..1];)241 1640
y Fe(and)c Fc(ElemList)f Fe(equals)i Fc(List\(Elem\))p
Fe(.)25 b Fc(Compare)15 b Fe(m)o(ust)g(b)q(e)j(a)e(total)g(order.)28
b(It)241 1689 y(ma)o(y)15 b(b)q(e)j(declared)g(with)f(an)o(y)g
(parameter)g(mo)q(de,)g(but)h(m)o(ust)e(ha)o(v)o(e)h(no)g(visible)241
1739 y(side-e\013ects.)241 1843 y Fg(TYPE)k(T)g(=)h(ElemList.T;)241
1919 y(PROCEDURE)e(Sort\(l:)g(T;)h(c)h(:=)f(Elem.Compare\):)e(T;)241
1968 y(PROCEDURE)h(SortD\(l:)g(T;)h(c)h(:=)f(Elem.Compare\):)e(T;)241
2034 y Fe(Sort)14 b(a)f(list)h(in)f(ascending)h(order)h(using)f
Fc(c)f Fe(to)h(compare)f(pairs)h(of)f(elemen)o(ts)h(of)f
Fc(l)p Fe(.)141 2113 y Fl(The)g(implemen)o(tatio)o(n)d(is)i(time-)f
(and)i(cons-e\016cien)o(t)g(but)g(not)g(guaran)o(teed)g(to)f(b)q(e)h
(stable.)141 2163 y Fg(Sort)g Fl(copies)h(the)h(cells;)f
Fg(SortD)e Fl(mo)q(di\014es)h(the)i Fg(tail)e Fl(\014elds)h(of)f(the)i
(existing)e(cells.)241 2269 y Fg(END)21 b(ListSort.)203
2350 y Fl(The)15 b(standard)g(instances)g(are)g(named)f
Fg(AtomListSort)p Fl(,)d Fg(IntListSort)p Fl(,)h Fg(RefList-)141
2399 y(Sort)p Fl(,)k(and)h Fg(TextListSort)p Fl(.)25
b Fg(AtomListSort)14 b Fl(and)j Fg(RefListSort)d Fl(are)k(useful)f
(only)f(if)141 2449 y(y)o(ou)d(supply)h(a)g(non-default)f(comparison)g
(pro)q(cedure.)p eop
%%Page: 30 40
30 39 bop 318 162 a Fl(30)912 b Fe(3)41 b(D)o(A)m(T)m(A)13
b(STR)o(UCTURES)318 307 y Ff(3.4)56 b(Sx)318 408 y Fl(An)11
b Fg(Sx.T)g Fl(is)g(a)g(sym)o(b)q(olic)e(expression)j(represen)o(ted)i
(as)e(a)e(recursiv)o(e)j(link)o(ed)e(list)f(structure,)318
458 y(as)16 b(in)g(Lisp.)25 b(This)16 b(in)o(terface)h(pro)o(vides)g
(routines)f(for)g(reading)g(and)g(prin)o(ting)g(sym)o(b)q(olic)318
508 y(expressions,)c(as)e(w)o(ell)g(as)g(some)g(con)o(v)o(enience)h
(pro)q(cedures)i(for)d(manipulating)d(them.)16 b(The)318
558 y(syn)o(tax)e(of)f(an)h Fg(Sx.T)f Fl(is)h(as)f(follo)o(ws:)480
632 y Fg(Sx)21 b(=)h(Char)f(|)g(Text)g(|)h(Int)f(|)h(Real)f(|)g
(Longreal)f(|)i(Extended)545 682 y(|)g(Atom)f(|)g(Boolean)g(|)g("\(")h
(List)e("\)".)480 782 y(List)h(=)43 b({Sx}.)380 906 y
Fl(A)17 b Fg(Char)g Fl(is)g(a)f(Mo)q(dula-3)g(c)o(haracter)j(literal;)e
(the)h(corresp)q(onding)g Fg(Sx.T)e Fl(is)h(of)g(t)o(yp)q(e)318
956 y Fg(REF)k(CHAR)p Fl(.)380 1006 y(A)14 b Fg(Text)f
Fl(is)h(a)g(Mo)q(dula-3)e(text)j(literal.)i(The)d(corresp)q(onding)h
Fg(Sx.T)e Fl(is)h(a)g Fg(TEXT)p Fl(.)380 1055 y(An)f
Fg(Int)g Fl(is)f(a)h(Mo)q(dula-3)f(in)o(teger)h(literal,)f(p)q(ossibly)
h(preceded)i(b)o(y)e(a)g(plus)f(sign)h(\()p Fg(+)p Fl(\))g(or)318
1105 y(min)o(us)f(sign)i(\()p Fg(-)p Fl(\).)k(The)c(corresp)q(onding)h
Fg(Sx.T)e Fl(is)h(of)f(t)o(yp)q(e)i Fg(REF)21 b(INTEGER)p
Fl(.)380 1155 y(A)16 b Fg(Real)p Fl(,)f Fg(Longreal)p
Fl(,)e(or)j Fg(Extended)e Fl(is)h(a)g(\015oating-decimal)e(n)o(um)o(b)q
(er)i(parsed)h(using)318 1205 y(the)f(grammar)c(for)j
Fg(Float)f Fl(sp)q(eci\014ed)j(in)e(the)h Fg(Lex)f Fl(in)o(terface.)20
b(The)15 b(corresp)q(onding)g Fg(Sx.T)318 1255 y Fl(is)j(of)f(t)o(yp)q
(e)h Fg(REF)j(REAL)p Fl(,)16 b Fg(REF)22 b(LONGREAL)16
b Fl(or)h Fg(REF)k(EXTENDED)p Fl(,)16 b(dep)q(ending)i(on)g(whether)318
1305 y(the)13 b(letter)h(in)o(tro)q(ducing)e(the)i(exp)q(onen)o(t)f(is)
g Fg('e')p Fl(,)f Fg('d')p Fl(,)g(or)g Fg('x')p Fl(.)17
b(If)c(there)h(is)e(no)h(exp)q(onen)o(t,)318 1354 y(the)h(result)h
(will)e(b)q(e)h(of)f(t)o(yp)q(e)i Fg(REF)21 b(REAL)p
Fl(.)380 1404 y(An)14 b Fg(Atom)g Fl(is)f(either)i(\(1\))f(a)g(Mo)q
(dula-3)f(iden)o(ti\014er,)h(or)g(\(2\))g(a)g(non-empt)o(y)f(sequence)j
(of)318 1454 y(c)o(haracters)g(from)c(the)i(set)502 1528
y Fg(!)21 b(#)h($)f(\045)h(&)g(*)f(+)h(-)f(.)h(/)g(:)f(<)h(=)f(>)h(?)f
(@)h([)g(])f(^)h(_)f({)h(})g(~)318 1603 y Fl(or)d(\(3\))g(a)f(sequence)
j(of)d(c)o(haracters)j(and)e(escap)q(e)h(sequences)h(surrounded)g(b)o
(y)d(v)o(ertical)318 1653 y(bars)12 b(\()p Fg(|)p Fl(s\).)18
b(The)13 b(escap)q(e)g(sequences)i(are)d(the)h(same)e(as)h(those)h
(allo)o(w)o(ed)e(in)h(Mo)q(dula-3)e(text)318 1702 y(literals,)17
b(with)g(the)h(addition)e(of)35 b Fg(\\|)16 b Fl(to)i(allo)o(w)d(an)i
(atom)f(to)h(con)o(tain)g Fg(|)p Fl(.)28 b(In)18 b(all)e(three)318
1752 y(cases,)f(the)f(corresp)q(onding)h Fg(Sx.T)e Fl(is)h(an)f
Fg(Atom.T)p Fl(.)380 1802 y(F)m(or)h(example,)e(the)i(follo)o(wing)e
(are)i(v)n(alid)e(atoms:)480 1877 y Fg(A1)480 1926 y(+=)480
1976 y(|1\\||)318 2051 y Fl(A)j Fg(Boolean)e Fl(is)i(either)g
Fg(TRUE)f Fl(or)h Fg(FALSE)p Fl(;)e(the)i(corresp)q(onding)h
Fg(Sx.T)e Fl(is)g(of)h(t)o(yp)q(e)g Fg(Atom.T)p Fl(;)318
2100 y(in)e(other)i(w)o(ords,)f(this)g(is)f(not)h(a)g(distinct)g(t)o
(yp)q(e.)380 2150 y(The)j Fg(Sx.T)e Fl(corresp)q(onding)i(to)f(a)g
Fg(List)f Fl(is)h(a)g Fg(RefList.T)e Fl(con)o(taining)h(the)i(items)e
(of)318 2200 y(the)f(list)g(in)f(order.)380 2250 y(The)k(tok)o(ens)g
(of)f(an)g Fg(Sx.T)g Fl(can)h(b)q(e)g(separated)g(b)o(y)g(arbitrary)f
(sequences)j(of)d(blanks,)318 2300 y(tabs,)11 b(newlines,)g(carriage)f
(returns,)i(form)d(feeds,)j(and)e(v)o(ertical)g(tabs,)h(whic)o(h)f(are)
h(ignored.)318 2350 y(\(These)16 b(are)g(the)g(same)e(whitespace)i(c)o
(haracters)h(that)e(are)h(ignored)f(b)q(et)o(w)o(een)h(tok)o(ens)g(of)
318 2399 y(a)f(Mo)q(dula-3)g(program.\))21 b(They)16
b(can)f(also)g(b)q(e)h(separated)h(b)o(y)e(commen)o(ts,)f(whic)o(h)h(b)
q(egin)318 2449 y(with)f(a)f(semicolon)f(and)i(end)h(with)e(newline.)p
eop
%%Page: 31 41
31 40 bop 141 162 a Fe(3.4)41 b(Sx)1251 b Fl(31)203 307
y(The)15 b(syn)o(tax)e(of)h(tok)o(ens)g(can)g(b)q(e)h(extended)g(with)f
(the)g Fg(SetReadMacro)e Fl(pro)q(cedure.)241 400 y Fg(INTERFACE)20
b(Sx;)241 470 y(IMPORT)g(Atom,)h(Rd,)g(RefList,)f(Thread,)h(Wr;)241
540 y(TYPE)g(T)g(=)h(REFANY;)241 611 y(EXCEPTION)284
658 y(ReadError\(TEXT\);)284 706 y(PrintError\(TEXT\);)241
778 y(PROCEDURE)e(FromChar\(c:)f(CHAR\):)i(REF)g(CHAR;)241
839 y Fe(Return)14 b(a)g Fc(Char)f Fe(with)g(v)n(alue)g
Fc(c)p Fe(.)241 934 y Fg(PROCEDURE)20 b(FromInt\(i:)f(INTEGER\):)h(REF)
h(INTEGER;)241 995 y Fe(Return)14 b(an)g Fc(Int)f Fe(with)g(v)n(alue)h
Fc(i)p Fe(.)241 1090 y Fg(PROCEDURE)20 b(FromReal\(r:)f(REAL\):)i(REF)g
(REAL;)241 1151 y Fe(Return)14 b(a)g Fc(Real)f Fe(with)g(v)n(alue)g
Fc(r)p Fe(.)241 1246 y Fg(PROCEDURE)20 b(FromLongReal\(r:)e
(LONGREAL\):)i(REF)h(LONGREAL;)241 1307 y Fe(Return)14
b(a)g Fc(Longreal)e Fe(with)h(v)n(alue)h Fc(r)p Fe(.)241
1402 y Fg(PROCEDURE)20 b(FromExtended\(r:)e(EXTENDED\):)i(REF)h
(EXTENDED;)241 1463 y Fe(Return)14 b(an)g Fc(Extended)e
Fe(with)h(v)n(alue)h Fc(r)p Fe(.)241 1558 y Fg(PROCEDURE)20
b(FromBool\(b:)f(BOOLEAN\):)h(Atom.T;)241 1619 y Fe(Return)e(a)g
Fc(Boolean)p Fe(.)29 b(If)18 b Fc(b)g Fe(is)g Fc(TRUE)p
Fe(,)f(return)i Fc(Sx.True)p Fe(.)30 b(Otherwise,)20
b(return)241 1669 y Fc(Sx.False)p Fe(.)141 1741 y Fl(The)j
Fg(From...)43 b Fl(pro)q(cedures)24 b(do)f(not)f(necessarily)h(p)q
(erform)f(an)g(allo)q(cation:)34 b(if)21 b(the)141 1791
y(same)e(v)n(alue)f(is)i(passed)g(to)g(t)o(w)o(o)f(calls,)h(the)g(same)
e(reference)k(ma)o(y)c(b)q(e)i(returned.)37 b(As)141
1841 y(a)12 b(consequence,)j(clien)o(ts)e(should)g(not)f(mo)q(dify)f
(the)i(referen)o(t)h(of)e(a)h(reference)i(returned)f(b)o(y)141
1890 y(an)o(y)f(of)h(these)h(pro)q(cedures.)203 1940
y(Eac)o(h)23 b Fg(REF)e(CHAR)p Fl(,)g Fg(REF)g(INTEGER)p
Fl(,)g Fg(REF)g(REAL)p Fl(,)g Fg(REF)g(LONGREAL)p Fl(,)f
Fg(REF)h(EXTENDED)p Fl(,)141 1990 y Fg(TEXT)p Fl(,)13
b(or)g Fg(Atom.T)p Fl(,)g(no)g(matter)g(ho)o(w)h(constructed,)h(is)f
(an)g Fg(Sx.T)p Fl(.)241 2085 y Fg(VAR)21 b(\(*CONST*\))f(True,)g
(False:)h(Atom.T;)241 2146 y Fc(True)g(=)g(Atom.FromText\("TRU)o(E"\))p
Fe(,)10 b Fc(False)21 b(=)h(Atom.FromText\(")o(FALSE)o("\))p
Fe(.)241 2239 y Fg(PROCEDURE)e(Read\(rd:)g(Rd.T;)g(syntax:)h(Syntax)f
(:=)i(NIL\):)e(T)284 2288 y(RAISES)h({ReadError,)e(Rd.EndOfFile,)g
(Thread.Alerted};)241 2350 y Fe(Read)14 b(and)g(return)h(a)f(sym)o(b)q
(olic)e(expression)j(from)e Fc(rd)p Fe(,)g(ignoring)g(whitespace)i(and)
241 2399 y(commen)o(ts.)21 b(If)15 b Fc(syntax)g Fe(is)g
Fc(NIL)p Fe(,)g(use)h(the)g(syn)o(tax)g(describ)q(ed)h(ab)q(o)o(v)o(e;)
f(otherwise)241 2449 y(use)e(an)o(y)g(read)g(macros)f(that)h(ha)o(v)o
(e)g(b)q(een)h(registered)g(in)f Fc(syntax)p Fe(.)p eop
%%Page: 32 42
32 41 bop 318 162 a Fl(32)912 b Fe(3)41 b(D)o(A)m(T)m(A)13
b(STR)o(UCTURES)418 307 y Fg(PROCEDURE)20 b(ReadDelimitedLi)o(st\()505
355 y(rd:)h(Rd.T;)g(delim)f(:)i(CHAR;)f(syntax:)f(Syntax)h(:=)g(NIL\):)
g(RefList.T)461 405 y(RAISES)g({ReadError,)e(Thread.Alerted};)418
470 y Fe(Rep)q(eatedly)c(read)h(sym)o(b)q(olic)e(expressions)i(from)e
Fc(rd)p Fe(,)h(ignoring)f(whitespace)i(and)418 519 y(commen)o(ts,)d(un)
o(til)h(the)h(next)h(c)o(haracter)g(is)f Fc(delim)p Fe(;)e(consume)i
(the)h(delimiter)d(and)418 569 y(return)j(the)f(list)g(of)f(sym)o(b)q
(olic)g(expressions)i(that)f(w)o(ere)h(read.)22 b(Raise)15
b Fc(ReadError)418 619 y Fe(if)e(there)i(is)f(a)f(syn)o(tax)h(error,)g
(including)f(unexp)q(ected)j(end)f(of)e(\014le.)418 722
y Fg(PROCEDURE)20 b(Print\()505 769 y(wr:)h(Wr.T;)505
817 y(sx:)g(T;)505 865 y(maxDepth:)f(CARDINAL)g(:=)h(LAST\(CARDINAL\);)
505 913 y(maxLength:)f(CARDINAL)g(:=)h(LAST\(CARDINAL\)\))461
962 y(RAISES)g({PrintError,)e(Wr.Failure,)h(Thread.Alerted})o(;)418
1027 y Fe(Prin)o(t)13 b(the)h(sym)o(b)q(olic)d(expression)j
Fc(sx)f Fe(on)g(the)g(writer)h Fc(wr)p Fe(,)e(assuming)g(the)i
(standard)418 1077 y(syn)o(tax.)318 1156 y Fl(Eac)o(h)20
b(sublist)f(will)f(con)o(tain)i(no)f(more)f(than)i Fg(maxLength)e
Fl(elemen)o(ts;)j(extra)f(elemen)o(ts)318 1206 y(are)c(replaced)g(b)o
(y)g(an)f(ellipsis)g(\(three)i(dots\).)23 b(An)o(y)16
b(sublist)f(nested)i(at)f(a)f(depth)h(greater)318 1255
y(than)f Fg(maxDepth)e Fl(is)i(also)f(replaced)i(b)o(y)e(an)h
(ellipsis.)20 b Fg(Print)14 b Fl(inserts)i Fg(|)f Fl(around)f(atoms)g
(if)318 1305 y(necessary)k(to)f(ensure)h(that)e(they)h(are)g(readable.)
25 b Fg(Print)15 b Fl(do)q(es)j(not)e(insert)h(line-breaks)318
1355 y(or)12 b(inden)o(tation)g(to)g(pro)q(duce)h(a)f(h)o
(uman-readable)f(\(\\prett)o(y-prin)o(ted"\))i(format)d(for)i(large)318
1405 y(sym)o(b)q(olic)g(expressions.)380 1456 y Fg(Print)23
b Fl(will)g(raise)i Fg(PrintError)d Fl(if)h(it)h(tries)h(to)f(prin)o(t)
g(something)f(that)h(is)g(not)318 1506 y(\\prin)o(table")16
b(\(as)h(de\014ned)g(b)q(elo)o(w\).)27 b(If)16 b(a)g(list)g(con)o
(tains)h(an)f(unprin)o(table)h(elemen)o(t)f(that)318
1556 y(is)d(b)q(ey)o(ond)g(the)h(limits)c(established)k(b)o(y)e
Fg(maxDepth)g Fl(and)g Fg(maxLength)p Fl(,)f Fg(PrintError)g
Fl(ma)o(y)318 1605 y(or)j(ma)o(y)e(not)i(b)q(e)g(raised.)380
1656 y(An)i(ob)r(ject)g(is)g(said)f(to)g(b)q(e)h(\\prin)o(table")f(if)g
(it)g(satis\014es)h(the)g(follo)o(wing)d(h)o(yp)q(othetical)318
1706 y(predicate:)502 1836 y Fg(PROCEDURE)20 b(Printable\(x:)f
(REFANY\):)h(BOOLEAN)g(=)545 1887 y(BEGIN)589 1938 y(TYPECASE)g(x)i(OF)
589 1989 y(|)f(NULL,)g(REF)g(CHAR,)g(TEXT,)g(REF)g(INTEGER,)f(REF)h
(REAL,)632 2040 y(REF)h(LONGREAL,)e(REF)h(EXTENDED,)f(Atom.T)g(=>)676
2091 y(RETURN)h(TRUE)589 2143 y(|)g(RefList.T)f(\(list\))h(=>)g(RETURN)
g(Printable\(list.he)o(ad\))e(AND)1221 2194 y(Printable\(list.ta)o
(il\))589 2245 y(ELSE)676 2296 y(RETURN)i(FALSE)589 2347
y(END)523 2398 y(END)h(Printable;)p eop
%%Page: 33 43
33 42 bop 141 162 a Fe(3.4)41 b(Sx)1251 b Fl(33)141 307
y Fg(Read\(rd,NIL\))19 b Fl(is)i(guaran)o(teed)h(to)g(return)g(a)g
(prin)o(table)f(v)n(alue)g(unless)h(it)f(raises)h(an)141
357 y(exception.)j(Assuming)15 b(the)h(defaults)g(for)g
Fg(syntax)p Fl(,)e Fg(maxDepth)p Fl(,)g(and)i Fg(maxLength)p
Fl(,)e(and)141 407 y(assuming)e(no)i(exceptions)h(are)f(raised,)g
Fg(Read)f Fl(and)h Fg(Print)f Fl(are)h(\\in)o(v)o(erses".)241
507 y Fg(TYPE)21 b(Syntax)f(<:)i(REFANY;)141 582 y Fl(A)14
b Fg(Syntax)f Fl(is)g(a)h(partial)f(map)f(from)g(c)o(haracters)k(to)e
(read)g(macros.)241 683 y Fg(PROCEDURE)20 b(CopySyntax\(s:)f(Syntax)h
(:=)i(NIL\):)e(Syntax;)241 745 y Fe(Allo)q(cate)15 b(and)g(return)i(a)e
(new)h(syn)o(tax)f(table)g(whose)h(con)o(ten)o(ts)h(are)e(the)h(same)f
(as)241 795 y Fc(s)g Fe(or,)h(if)f Fc(s)21 b(=)h(NIL)p
Fe(,)15 b(the)h(same)f(as)h(the)g(standard)g(syn)o(tax)g(table.)24
b(The)16 b(standard)241 845 y(syn)o(tax)d(table)h(has)g(no)g(read)g
(macros.)241 945 y Fg(PROCEDURE)20 b(SetReadMacro\(s:)e(Syntax;)j(ch:)g
(CHAR;)g(m:)g(ReadMacro\);)241 1008 y Fe(Set)d Fc(s[ch])j(:=)g(m)p
Fe(.)30 b(It)18 b(is)g(a)f(c)o(hec)o(k)o(ed)j(run)o(time)c(error)j(if)e
Fc(s)22 b(=)f(NIL)p Fe(,)c(if)g Fc(ch)h Fe(is)f(a)241
1058 y(whitespace)f(c)o(haracter,)h(or)e(if)f Fc(ch)22
b(=)f(';')p Fe(.)h(It)15 b(is)g(allo)o(w)o(ed)f(for)h
Fc(m)g Fe(to)g(b)q(e)h Fc(NIL)p Fe(;)e(this)241 1108
y(has)g(the)g(e\013ect)i(of)d(remo)o(ving)f(the)i(mapping,)e(if)h(an)o
(y)m(,)f(from)g Fc(ch)i Fe(to)f(a)h(readmacro.)241 1206
y Fg(TYPE)21 b(ReadMacro)f(=)h(OBJECT)g(METHODS)328 1254
y(read\(rd:)f(Rd.T;)h(s:)g(Syntax\):)f(RefList.T)371
1301 y(RAISES)h({ReadError,)e(Thread.Alerted})284 1351
y(END;)141 1426 y Fl(If)j(y)o(ou)h(pass)g(a)f Fg(Syntax)g(s)g
Fl(to)h Fg(Read)f Fl(or)h Fg(ReadDelimitedLi)o(st)p Fl(,)e(then)j(the)f
(reading)141 1476 y(algorithm)10 b(is)j(mo)q(di\014ed)e(as)i(follo)o
(ws.)j(After)e(skipping)e(whitespace)i(and)e(commen)o(ts,)f(and)141
1526 y(b)q(efore)20 b(reading)f(a)h(tok)o(en,)g(the)g(next)g(c)o
(haracter)h(in)e(the)h(input)f(stream)g(is)g(consumed)141
1576 y(and)27 b(examined.)56 b(If)26 b Fg(s)h Fl(de\014nes)h(a)f(read)g
(macro)f(for)g(this)h(c)o(haracter,)k(then)d(this)141
1626 y(read)20 b(macro)f(is)h(called)f(with)h(the)g(same)f(argumen)o
(ts)g(that)h(w)o(ere)h(passed)g(to)e Fg(Read)g Fl(or)141
1675 y Fg(ReadDelimitedList)o Fl(.)31 b(The)19 b(resulting)g(list)f(is)
h(spliced)h(in)o(to)e(the)h(curren)o(t)i(list)d(b)q(eing)141
1725 y(built.)f(In)11 b(particular,)h(if)f(the)h(macro)e(returns)k
Fg(NIL)p Fl(,)c(then)j(ev)o(erything)f(it)f(read)h(is)g(ignored;)141
1775 y(if)k(the)h(macro)e(returns)j(a)e(single-elemen)o(t)g(list,)g
(then)h(that)f(single)h(elemen)o(t)e(is)i(inserted)141
1825 y(in)o(to)d(the)h(list)f(b)q(eing)g(built.)19 b
Fg(ReadError)12 b Fl(is)j(raised)g(if)e(the)i(macro)e(returns)j(a)e
(non-list)g(or)141 1875 y(if)g(it)h(returns)i(a)e(m)o(ulti-elemen)o(t)d
(list)j(in)g(a)g(con)o(text)h(where)g(no)f(list)g(is)g(b)q(eing)g
(built,)f(suc)o(h)141 1925 y(as)g(at)g(the)g(top)g(lev)o(el)g(of)f
Fg(Read)p Fl(.)203 1975 y(F)m(or)f(example,)f(the)j(follo)o(wing)9
b(program)i(fragmen)o(t)g(constructs)k(a)d(syn)o(tax)h(table)f(that)141
2024 y(extends)23 b(the)g(standard)g(syn)o(tax)f(in)f(t)o(w)o(o)h(w)o
(a)o(ys.)42 b(First,)24 b(additional)c(commen)o(ts)h(are)141
2074 y(supp)q(orted)14 b(b)o(y)f(ignoring)f(all)g(c)o(haracters)j(b)q
(et)o(w)o(een)f Fg({)f Fl(and)g Fg(})p Fl(.)k(Second,)d(an)e
(expression)j(of)141 2124 y(the)f(form)f Fg([e1)21 b(...)g(en])13
b Fl(is)h(turned)h(in)o(to)e(the)h(list)g Fg(\(ARRAY)20
b(e1)i(...)f(en\))p Fl(:)303 2199 y Fg(VAR)g(syn)g(:=)h
(CopySyntax\(\);)d(BEGIN)346 2249 y(SetReadMacro\(syn,)g('{',)390
2299 y(NEW\(ReadMacro,)g(read)i(:=)g(ReadComment\)\);)346
2349 y(SetReadMacro\(syn,)e('[',)390 2399 y(NEW\(ReadMacro,)g(read)i
(:=)g(ReadArray\)\);)346 2449 y(...)p eop
%%Page: 34 44
34 43 bop 318 162 a Fl(34)912 b Fe(3)41 b(D)o(A)m(T)m(A)13
b(STR)o(UCTURES)480 357 y Fg(PROCEDURE)20 b(ReadComment\()567
407 y(self:)h(ReadMacro;)f(rd:)h(Rd.T;)f(<*)i(UNUSED)e(*>)i(s:)f
(Syntax\))523 457 y(:)h(RefList.T)e(=)523 506 y(BEGIN)567
556 y(WHILE)h(NOT)g(Rd.EOF\(\))f(AND)h(Rd.GetChar\(rd\))e(#)j('}')f(DO)
611 606 y(\(*)g(SKIP)g(*\))567 656 y(END;)567 706 y(RETURN)g(NIL)523
756 y(END)h(ReadComment;)480 855 y(VAR)f(\(*CONST*\))f(arrayAtm)g(:=)i
(Atom.FromText\(")o(ARRAY)o("\);)480 955 y(PROCEDURE)e
(ReadArray\(self:)f(ReadMacro;)g(rd:)i(Rd.T;)g(s:)h(Syntax\))523
1005 y(:)g(RefList.T)e(=)523 1054 y(VAR)i(elements)e(:=)h
(ReadDelimitedList\()o(rd,)e(']',)i(s\);)523 1104 y(BEGIN)567
1154 y(RETURN)g(RefList.List1\(Re)o(fLis)o(t.Con)o(s\(arr)o(ayAtm)o(,)e
(elements\)\))523 1204 y(END)j(ReadArray;)318 1278 y
Fl(The)13 b(call)f(to)g Fg(RefList.List1)e Fl(in)i Fg(ReadArray)f
Fl(is)h(imp)q(ortan)o(t.)k(If)c(it)g(w)o(ere)h(omitted,)e(then)318
1328 y(the)j(text)480 1402 y Fg(\(a)21 b(b)h([c)f(d]\))318
1477 y Fl(w)o(ould)13 b(b)q(e)i(read)f(as)480 1551 y
Fg(\(a)21 b(b)h(ARRAY)f(c)g(d\))318 1625 y Fl(instead)14
b(of)f(the)i(in)o(tended)480 1700 y Fg(\(a)21 b(b)h(\(ARRAY)e(c)i
(d\)\).)418 1823 y(END)f(Sx.)318 1963 y Ff(3.5)56 b(T)-5
b(able)318 2065 y Fg(Table)20 b Fl(is)g(a)g(generic)i(in)o(terface)f
(de\014ning)g(partial)e(maps)h(that)g(supp)q(ort)i(up)q(date)f(and)318
2114 y(iteration.)418 2213 y Fg(GENERIC)f(INTERFACE)g(Table\(Key,)g
(Value\);)418 2275 y Fe(Where)c Fc(Key.T)e Fe(and)h Fc(Value.T)f
Fe(are)h(t)o(yp)q(es)h(that)g(are)f(not)g(op)q(en)h(arra)o(y)f(t)o(yp)q
(es)h(and)418 2325 y Fc(Key)d Fe(con)o(tains)580 2399
y Fc(PROCEDURE)19 b(Equal\(k1,)h(k2:)i(Key.T\):)e(BOOLEAN;)580
2449 y(PROCEDURE)f(Hash\(k:)i(Key.T\):)f(Word.T;)p eop
%%Page: 35 45
35 44 bop 141 162 a Fe(3.5)41 b(T)m(able)1195 b Fl(35)241
307 y Fc(Equal)22 b Fe(m)o(ust)h(b)q(e)i(an)e(equiv)n(alence)h
(relation)f(and)h Fc(Hash)f Fe(m)o(ust)g(resp)q(ect)241
357 y(that)e(equiv)n(alence)g(relation,)g(in)g(other)g(w)o(ords,)h(if)e
Fc(Equal\(k1,)g(k2\))p Fe(,)i(then)241 407 y Fc(Hash\(k1\)=Hash\(k2)o
(\))p Fe(.)303 457 y Fc(Hash)16 b Fe(and)g Fc(Equal)g
Fe(ma)o(y)f(b)q(e)i(declared)h(with)e(a)g(parameter)h(mo)q(de)e(of)h
(either)241 506 y Fc(VALUE)c Fe(or)i Fc(READONLY)p Fe(,)e(but)i(not)g
Fc(VAR)p Fe(.)241 599 y Fg(IMPORT)20 b(Word;)241 669
y(TYPE)284 717 y(T)i(=)f(OBJECT)g(METHODS)328 765 y(get\(READONLY)e(k:)
i(Key.T;)g(VAR)g(v:)h(Value.T\):)e(BOOLEAN;)328 813 y(put\(READONLY)f
(k:)i(Key.T;)g(READONLY)f(v:)i(Value.T\):)d(BOOLEAN;)328
860 y(delete\(READONLY)f(k:)k(Key.T;)e(VAR)i(v:)f(Value.T\):)f
(BOOLEAN;)328 908 y(size\(\):)g(CARDINAL;)328 956 y(iterate\(\):)g
(Iterator)284 1004 y(END;)284 1051 y(Iterator)g(=)i(OBJECT)e(METHODS)
328 1099 y(next\(VAR)g(k:)h(Key.T;)g(VAR)g(v:)g(Value.T\):)f(BOOLEAN)
284 1147 y(END;)284 1194 y(Default)h(<:)g(T)h(OBJECT)e(METHODS)328
1242 y(init\(sizeHint:)f(CARDINAL)h(:=)h(0\):)g(Default;)328
1290 y(keyEqual\(READONL)o(Y)e(k1,)i(k2:)g(Key.T\):)g(BOOLEAN;)328
1338 y(keyHash\(READONLY)d(k:)k(Key.T\):)e(Word.T)284
1385 y(END;)241 1435 y(END)h(Table.)141 1508 y Fl(A)15
b Fg(Table\(Key,)20 b(Value\).T)p Fl(,)12 b(or)j(table,)g(is)f(a)h
(partial)f(map)f(from)g Fg(Key.T)p Fl(s)h(to)h Fg(Value.T)p
Fl(s.)141 1557 y(Actually)m(,)h(it)g(turns)h(out)g(to)f(b)q(e)h(useful)
g(for)f(a)g(table)g(to)h(treat)g(t)o(w)o(o)f(di\013eren)o(t)h(k)o(eys)g
(as)g(if)141 1607 y(they)j(are)f(the)h(same)e(whenev)o(er)i(they)g(are)
f(equiv)n(alen)o(t)f(according)i(to)e(some)h(sp)q(eci\014ed)141
1657 y(equiv)n(alence)d(relation.)23 b(F)m(or)15 b(example,)f(if)h(y)o
(ou)g(are)h(creating)g(a)g(table)f(with)h(a)f Fg(Key.T)g
Fl(of)141 1707 y Fg(TEXT)p Fl(,)e(y)o(ou)g(are)h(lik)o(ely)f(to)h(w)o
(an)o(t)f Fg(Text.Equal)f Fl(as)i(the)g(equiv)n(alence)g(relation.)203
1757 y(F)m(ormally)m(,)c(a)k(table)g Fg(tbl)f Fl(has)h(the)g(comp)q
(onen)o(ts:)303 1829 y Fg(canon\(tbl\))20 b Fl(a)13 b(map)f(on)i
(elemen)o(ts)g(of)f Fg(Key.T)303 1879 y(map\(tbl\))64
b Fl(a)13 b(map)f(from)h(elemen)o(ts)g(of)h Fg(Key.T)e
Fl(to)i(elemen)o(ts)g(of)f Fg(Value.T)141 1951 y(canon\(tbl\))c
Fl(represen)o(ts)14 b(an)e(equiv)n(alence)f(relation:)16
b Fg(canon\(tbl\)\(k\))9 b Fl(is)i(the)i Fd(c)n(anonic)n(al)141
2001 y(r)n(epr)n(esentative)f Fl(of)g(all)g(the)i(k)o(eys)f(that)g(are)
g(equiv)n(alen)o(t)f(to)h Fg(k)p Fl(.)18 b(The)13 b(domain)d(of)j
Fg(map\(tbl\))141 2051 y Fl(includes)26 b(only)f(canonical)g(represen)o
(tativ)o(es,)31 b(that)26 b(is,)i(elemen)o(ts)e(in)f(the)i(range)f(of)
141 2100 y Fg(canon\(tbl\))p Fl(.)g(The)18 b(equiv)n(alence)g(relation)
f(underlying)g Fg(canon\(tbl\))e Fl(m)o(ust)i(b)q(e)h(time-)141
2150 y(in)o(v)n(arian)o(t.)24 b(F)m(or)16 b(example,)g(it)g(can't)h
(dep)q(end)g(on)g(the)g(v)n(alues)f(of)g(particular)g(references)141
2200 y(since)f(some)e(garbage)g(collectors)i(mo)o(v)o(e)d
Fg(REF)h Fl(v)n(alues.)203 2250 y(The)30 b(metho)q(ds)f(of)g(an)g(ob)r
(ject)i Fg(tbl)d Fl(of)h(t)o(yp)q(e)h Fg(Table.T)e Fl(ha)o(v)o(e)i(the)
g(follo)o(wing)141 2300 y(sp)q(eci\014cations:)203 2350
y(The)17 b(call)e Fg(tbl.get\(k,)20 b(v\))c Fl(sets)h
Fg(v)f Fl(to)g Fg(map\(tbl\)\(canon\(tbl)o(\)\(k\)\))d
Fl(and)j(returns)141 2399 y Fg(TRUE)21 b Fl(if)g Fg(canon\(tbl\)\(k\))e
Fl(is)j(in)g Fg(dom\(map\(tbl\)\))p Fl(.)39 b(Otherwise,)25
b(it)d(returns)h Fg(FALSE)141 2449 y Fl(without)14 b(c)o(hanging)f
Fg(v)p Fl(.)p eop
%%Page: 36 46
36 45 bop 318 162 a Fl(36)912 b Fe(3)41 b(D)o(A)m(T)m(A)13
b(STR)o(UCTURES)380 307 y Fl(The)27 b(call)f Fg(tbl.put\(k,)20
b(v\))26 b Fl(c)o(hanges)i Fg(map\(tbl\)\(canon\()o(tbl\)\()o(k\)\))23
b Fl(to)k Fg(v)f Fl(and)318 357 y(returns)20 b Fg(TRUE)e
Fl(if)g Fg(canon\(k\))f Fl(is)h(in)g Fg(dom\(map\(tbl\)\))p
Fl(.)30 b(Otherwise,)20 b(it)f(sets)h(the)f(v)n(alue)318
407 y(of)13 b Fg(map\(tbl\)\(canon\(tbl\))o(\(k\)\))d
Fl(to)k Fg(v)p Fl(,)f(and)h(returns)h Fg(FALSE)p Fl(.)380
471 y(The)h(call)e Fg(tbl.delete\(k,)19 b(v\))14 b Fl(sets)i
Fg(v)f Fl(to)g Fg(map\(tbl\)\(canon\(t)o(bl\)\(k)o(\)\))p
Fl(,)d(remo)o(v)o(es)318 521 y Fg(\(canon\(tbl\)\(k\),)19
b(v\))12 b Fl(from)f Fg(map\(tbl\))p Fl(,)g(and)i(returns)h
Fg(TRUE)f Fl(if)f Fg(canon\(tbl\)\(k\))e Fl(is)j(in)318
571 y Fg(dom\(map\(tbl\)\))p Fl(.)i(Otherwise,)g(it)f(returns)h
Fg(FALSE)e Fl(without)g(c)o(hanging)h Fg(v)p Fl(.)380
635 y(The)e(call)f Fg(tbl.size\(\))e Fl(returns)14 b(the)e(size)g(of)f
Fg(dom\(map\(tbl\)\))p Fl(,)e(that)i(is,)h(the)g(n)o(um)o(b)q(er)318
685 y(of)h(en)o(tries)i(in)f Fg(tbl)p Fl(.)380 749 y(The)g(call)f
Fg(tbl.iterate\(\))e Fl(returns)k(an)e(iterator,)h(whic)o(h)f(is)g(an)h
(ob)r(ject)g(that)g(can)f(b)q(e)318 799 y(used)k(to)f(iterate)h(o)o(v)o
(er)g(the)g(k)o(ey-v)n(alue)e(pairs)h(in)g Fg(tbl)p Fl(.)25
b(See)17 b(the)g(de\014nition)f(of)g(the)h(t)o(yp)q(e)318
849 y Fg(Iterator)12 b Fl(b)q(elo)o(w.)380 913 y(If)17
b Fg(i)f Fl(is)h(the)g(result)h(of)e(the)h(call)f Fg(tbl.iterate\(\))p
Fl(,)e(then)k(the)f(call)f Fg(it.next\(k,)k(v\))318 963
y Fl(selects)d(an)e(en)o(try)h(from)d Fg(tbl)i Fl(that)g(has)g(not)g
(already)g(b)q(een)h(returned)h(b)o(y)e Fg(i)p Fl(,)g(sets)h
Fg(k)f Fl(and)318 1013 y Fg(v)g Fl(to)g(its)g(k)o(ey)g(and)g(v)n(alue,)
f(and)h(returns)h Fg(TRUE)p Fl(.)e(If)g(no)h(en)o(tries)h(remain,)e
(the)h(call)g(returns)318 1063 y Fg(FALSE)e Fl(without)g(setting)h
Fg(k)f Fl(or)h Fg(v)p Fl(.)j(It)d(is)f(a)h(c)o(hec)o(k)o(ed)h(run)o
(time)d(error)j(to)e(call)g Fg(next)g Fl(after)g(it)318
1112 y(has)g(returned)i Fg(FALSE)p Fl(.)c(The)j(clien)o(t)f(m)o(ust)f
(ensure)j(that)e(while)f(an)h(iterator)g(is)g(in)g(use,)g(the)318
1162 y(paren)o(t)h(table)g(is)g(not)g(mo)q(di\014ed.)380
1227 y(The)k(t)o(yp)q(e)g Fg(Default)e Fl(is)h(an)h(implem)o(en)o
(tation)d(of)h Fg(T)i Fl(using)f(c)o(hained)g(hashing.)29
b(The)318 1276 y(metho)q(ds)e(sp)q(eci\014c)i(to)e(an)h(ob)r(ject)g
Fg(dflt)e Fl(of)h(t)o(yp)q(e)h Fg(Default)e Fl(ha)o(v)o(e)i(the)g
(follo)o(wing)318 1326 y(sp)q(eci\014cations:)380 1391
y(The)16 b(call)f Fg(dflt.init\(sizeHin)o(t\))d Fl(returns)17
b Fg(dflt)e Fl(after)h(initializing)d(it)i(to)g(a)g(table)318
1440 y(with)h(an)g(empt)o(y)f Fg(map\(dflt\))p Fl(.)24
b(If)16 b Fg(sizeHint)e Fl(is)j(greater)g(than)f(0,)g
Fg(init)g Fl(assumes)g(that)318 1490 y Fg(put)11 b Fl(will)f(subsequen)
o(tly)j(b)q(e)f(called)f(with)g(at)g(least)h Fg(sizeHint)e
Fl(di\013eren)o(t)i(k)o(eys;)h(these)f(calls)318 1540
y(on)f Fg(put)g Fl(ma)o(y)f(execute)j(somewhat)e(faster)h(than)f(if)g
Fg(sizeHint)f Fl(w)o(as)h(0.)17 b(The)12 b Fg(init)f
Fl(metho)q(d)318 1590 y(has)j(side-e\013ects)i(on)e(the)g(table.)380
1654 y(The)g(call)e Fg(dflt.keyEqual\(k1,)18 b(k2\))13
b Fl(returns)i Fg(Key.Equal\(k1,)k(k2\))12 b Fl(and)h(the)h(call)318
1704 y Fg(dflt.keyHash\(k\))k Fl(returns)23 b Fg(Key.Hash\(k\))p
Fl(.)38 b(The)22 b(other)f(metho)q(ds)g(call)g Fg(keyEqual)318
1754 y Fl(and)d Fg(keyHash)f Fl(whenev)o(er)j(they)f(need)h(to)e
(consult)h(the)g(table's)f(equiv)n(alence)h(relation.)318
1804 y(This)24 b(means)g(a)h(subt)o(yp)q(e)g(of)f Fg(Default)f
Fl(can)i(determine)g(the)g(equiv)n(alence)g(relation)318
1853 y(b)o(y)g(o)o(v)o(erriding)g Fg(keyEqual)f Fl(and)h
Fg(keyHash)p Fl(,)h(pro)o(viding)f Fg(keyEqual)e Fl(implemen)o(ts)g(an)
318 1903 y(equiv)n(alence)14 b(relation)f(and)h Fg(keyHash)f
Fl(resp)q(ects)j(that)e(relation.)380 1968 y(F)m(or)23
b(e\016ciency)m(,)i(tables)e(and)g(their)h(iterators)f(are)h(not)f
(monitored,)g(so)g(a)g(clien)o(t)318 2017 y(accessing)16
b(a)e(table)h(from)e(m)o(ultiple)g(threads)i(m)o(ust)f(ensure)j(that)d
(if)g(t)o(w)o(o)h(op)q(erations)g(are)318 2067 y(activ)o(e)g(concurren)
o(tly)m(,)h(then)g(neither)g(of)f(them)f(has)i(side)f(e\013ects)j(on)d
(the)h(same)e(table)h(or)318 2117 y(iterator.)21 b(The)16
b Fg(T.put)p Fl(,)d Fg(T.delete)p Fl(,)g(and)i Fg(Default.init)d
Fl(metho)q(ds)j(are)g(the)g(only)f(ones)318 2167 y(with)e(side)h
(e\013ects)i(on)d(the)h(table.)k(An)c(iterator's)g Fg(next)e
Fl(metho)q(d)h(has)g(side-e\013ects)j(on)d(the)318 2217
y(iterator.)380 2350 y(The)i(standard)f(instances)h(are)f(named)f
Fg(xyTbl)p Fl(,)g(for)g(all)g(com)o(binations)f(of)h
Fg(x)h Fl(and)g Fg(y)g Fl(in)318 2399 y(the)i(set)g Fg(Atom,)20
b(Int,)h(Ref,)g(Text)p Fl(.)d(The)d(instances)g(with)e
Fg(x)22 b(=)g(Ref)13 b Fl(are)h(useful)h(only)e(if)318
2449 y(y)o(ou)g(de\014ne)i(a)f(subt)o(yp)q(e)h(o)o(v)o(erriding)e(the)h
Fg(keyHash)f Fl(and)h Fg(keyEqual)e Fl(metho)q(ds.)p
eop
%%Page: 37 47
37 46 bop 141 162 a Fe(3.6)41 b(SortedT)m(able)1078 b
Fl(37)141 307 y Ff(3.6)56 b(SortedT)-5 b(able)141 413
y Fg(SortedTable)12 b Fl(is)i(a)f(generic)i(in)o(terface)g(de\014ning)f
(partial)f(maps)f(o)o(v)o(er)i(a)g(totally)f(ordered)141
462 y(domain.)241 566 y Fg(GENERIC)20 b(INTERFACE)g(SortedTable\(Key,)e
(Tbl\);)241 630 y Fe(Where)i Fc(Key.T)f Fe(is)h(not)g(an)f(op)q(en)i
(arra)o(y)e(t)o(yp)q(e,)j Fc(Tbl)d Fe(is)h(a)f(generic)i(instance)241
680 y Fc(Table\(Key,)e(Value\))d Fe(\(for)h(some)f Fc(Value)g
Fe(de\014ning)h(a)g(t)o(yp)q(e)g Fc(T)g Fe(that)g(is)g(not)g(an)241
730 y(op)q(en)d(arra)o(y)g(t)o(yp)q(e\),)g(and)f Fc(Key)h
Fe(con)o(tains)403 808 y Fc(PROCEDURE)19 b(Compare\(k1,)h(k2:)h
(Key.T\):)f([-1..1];)241 886 y(Compare)12 b Fe(m)o(ust)h(b)q(e)h(a)g
(total)f(order.)303 936 y Fc(Compare)h Fe(ma)o(y)f(b)q(e)j(declared)g
(with)e(a)h(parameter)g(mo)q(de)f(of)h(either)h Fc(VALUE)e
Fe(or)241 986 y Fc(READONLY)p Fe(,)d(but)j(not)g Fc(VAR)p
Fe(.)241 1088 y Fg(TYPE)284 1136 y(T)22 b(=)f(Tbl.T)g(OBJECT)g(METHODS)
328 1183 y(iterateOrdered\(u)o(p:)e(BOOLEAN)h(:=)i(TRUE\):)e(Iterator)
284 1231 y(END;)284 1279 y(Iterator)g(=)i(Tbl.Iterator)d(OBJECT)i
(METHODS)328 1327 y(seek\(READONLY)e(key:)i(Key.T\))284
1374 y(END;)284 1422 y(Default)g(<:)g(T)h(OBJECT)e(METHODS)328
1470 y(init\(\):)g(Default;)328 1517 y(keyCompare\(READO)o(NLY)f(k1,)i
(k2:)g(Key.T\):)f([-1..1])284 1565 y(END;)241 1615 y(END)h
(SortedTable.)141 1693 y Fl(A)10 b Fg(SortedTable\(Key)o(,)19
b(Table\(Key,)h(Value\)\).T)p Fl(,)7 b(or)i(sorted)i(table,)f(is)f(a)g
Fg(Table\(Key,)141 1743 y(Value\).T)h Fl(together)i(with)f(a)g(total)f
(\(linear\))h(order)h(on)f(the)h(k)o(eys)g(of)e(the)i(table.)17
b(F)m(ormally)m(,)141 1792 y(a)d(sorted)g(table)g Fg(tbl)f
Fl(has)h(the)h(additional)d(comp)q(onen)o(t:)303 1870
y Fg(le\(tbl\))20 b Fl(a)14 b(total)f(order)i(on)e(the)i(v)n(alues)e
(of)h Fg(Key.T)141 1948 y Fl(The)g(total)f(order)i Fg(le\(tbl\))e
Fl(m)o(ust)f(b)q(e)j(time-in)o(v)n(arian)o(t.)203 1999
y(The)g(metho)q(ds)e(ha)o(v)o(e)h(the)g(follo)o(wing)d(sp)q
(eci\014cations:)203 2050 y(The)17 b(call)f Fg(tbl.iterateOrde)o
(red\(u)o(p\))d Fl(returns)18 b(an)e(iterator,)h(whic)o(h)f(is)g(an)g
(ob)r(ject)141 2099 y(that)f(can)g(b)q(e)g(used)h(to)f(iterate)g(o)o(v)
o(er)g(all)f(the)h(k)o(ey-v)n(alue)f(pairs)h(in)f Fg(tbl)p
Fl(,)g(ordered)i(b)o(y)f(k)o(ey)m(.)141 2149 y(The)f(order)h(is)f
(increasing)g(if)f Fg(up)g Fl(is)h Fg(TRUE)p Fl(,)f(decreasing)h
(otherwise.)203 2200 y(If)26 b Fg(i)g Fl(is)f(the)i(result)g(of)e(the)i
(call)e Fg(tbl.iterateOrder)o(ed\(up)o(\))p Fl(,)h(then)g(the)h(call)
141 2250 y Fg(i.next\(k,)20 b(v\))15 b Fl(sets)j Fg(k)d
Fl(and)h Fg(v)g Fl(to)f(the)i(k)o(ey)f(and)g(v)n(alue)f(of)g(the)i
(next)f(pair)g(and)g(returns)141 2300 y Fg(TRUE)p Fl(.)e(If)h(no)f(en)o
(tries)j(remain,)c(the)j(call)e(returns)j Fg(FALSE)d
Fl(without)h(setting)g Fg(k)g Fl(or)g Fg(v)p Fl(.)22
b(It)15 b(is)141 2350 y(a)i(c)o(hec)o(k)o(ed)i(run)o(time)d(error)i(to)
g(call)e Fg(next)h Fl(or)g Fg(seek)g Fl(after)g Fg(next)g
Fl(has)h(returned)h Fg(FALSE)p Fl(.)141 2399 y(The)c(clien)o(t)g(m)o
(ust)f(ensure)j(that)e(while)f(an)h(iterator)g(is)g(in)f(use,)i(the)f
(paren)o(t)h(table)e(is)h(not)141 2449 y(mo)q(di\014ed.)p
eop
%%Page: 38 48
38 47 bop 318 162 a Fl(38)912 b Fe(3)41 b(D)o(A)m(T)m(A)13
b(STR)o(UCTURES)380 307 y Fl(The)i(call)f Fg(i.seek\(k\))e
Fl(skips)j(past)g(zero)g(or)f(more)g(k)o(ey-v)n(alue)g(pairs)g
(\(either)i(forw)o(ard)318 357 y(or)g(bac)o(kw)o(ard\))f(so)h(that)g(a)
f(subsequen)o(t)j(call)d(of)g Fg(next)f Fl(returns)k(the)e(\014rst)g
(pair)g(with)f(k)o(ey)318 407 y(greater)j(than)f(or)f(equal)h(to)g
Fg(k)f Fl(if)g Fg(i)h Fl(is)g(in)f(increasing)h(order)h(or)e(with)h(k)o
(ey)g(less)g(than)g(or)318 457 y(equal)d(to)f Fg(k)h
Fl(if)f Fg(i)h Fl(is)f(in)h(decreasing)h(order.)380 508
y(The)d(t)o(yp)q(e)h Fg(Default)d Fl(is)h(an)h(implemen)o(tatio)o(n)d
(of)i Fg(T)h Fl(using)f(randomized)g(heap-ordered)318
558 y(binary)21 b(trees)h(or)f(\\treaps")h(\(see)g([1]\).)39
b(In)21 b(this)g(implemen)o(tation,)e(seeking)j(forw)o(ard)318
608 y(\(relativ)o(e)e(to)f(the)h(iterator's)g(order\))g(is)g(more)e
(e\016cien)o(t)i(than)g(seeking)g(bac)o(kw)o(ard.)34
b(If)318 657 y(a)17 b(forw)o(ard)f(seek)i(skips)f(o)o(v)o(er)g
Fg(d)f Fl(k)o(ey-v)n(alue)g(pairs,)i(the)f(exp)q(ected)i(time)c(for)i
(the)g(seek)h(is)318 707 y Fg(O\(log)j(d\))p Fl(.)c(The)c(time)f(for)h
(a)g(bac)o(kw)o(ard)f(seek)j(is)d Fg(O\(log\(table.size\(\)\)\))o
Fl(,)e(no)j(matter)318 757 y(ho)o(w)g(far)h(bac)o(k)g(it)f(skips.)380
808 y(The)i(call)e Fg(dflt.init\(\))e Fl(returns)16 b
Fg(dflt)d Fl(after)h(initializing)d(it)j(to)f(an)h(empt)o(y)f(table.)
380 860 y(The)20 b(call)e Fg(dflt.keyCompare)o(\(k1,)g(k2\))h
Fl(returns)h Fg(Key.Compare\(k1,)f(k2\))p Fl(.)32 b(The)318
910 y(other)16 b(metho)q(ds)f(call)g Fg(keyCompare)e
Fl(whenev)o(er)k(they)f(need)g(to)f(consult)h Fg(le\(tbl\))p
Fl(.)21 b(This)318 959 y(means)11 b(a)h(subt)o(yp)q(e)h(of)f
Fg(Default)e Fl(can)j(determine)f Fg(le\(tbl\))e Fl(b)o(y)i(o)o(v)o
(erriding)g Fg(keyCompare)p Fl(,)318 1009 y(pro)o(viding)h
Fg(keyCompare)e Fl(implemen)o(ts)h(a)h(total)h(order.)380
1061 y(F)m(or)e(e\016ciency)m(,)h(sorted)g(tables)f(and)g(their)h
(iterators)g(are)f(not)g(monitored,)f(so)h(a)g(clien)o(t)318
1110 y(accessing)k(a)e(table)h(from)e(m)o(ultiple)g(threads)i(m)o(ust)f
(ensure)j(that)d(if)g(t)o(w)o(o)h(op)q(erations)g(are)318
1160 y(activ)o(e)g(concurren)o(tly)m(,)h(then)g(neither)g(of)f(them)f
(has)i(side)f(e\013ects)j(on)d(the)h(same)e(table)h(or)318
1210 y(iterator.)21 b(The)16 b Fg(T.put)p Fl(,)d Fg(T.delete)p
Fl(,)g(and)i Fg(Default.init)d Fl(metho)q(ds)j(are)g(the)g(only)f(ones)
318 1260 y(with)e(side)h(e\013ects)i(on)d(the)h(table.)k(An)c
(iterator's)g Fg(next)e Fl(metho)q(d)h(has)g(side-e\013ects)j(on)d(the)
318 1310 y(iterator.)380 1390 y(The)17 b(standard)f(instances)h(are)g
(named)e Fg(SortedxyTbl)p Fl(,)f(for)h(all)g(com)o(binations)f(of)h
Fg(x)318 1440 y Fl(and)c Fg(y)g Fl(in)g(the)h(set)g Fg(Atom,)21
b(Int,)g(Ref,)g(Text)p Fl(.)16 b(The)c(instances)g(with)f
Fg(x)22 b(=)f(Atom)11 b Fl(and)g Fg(x)21 b(=)318 1490
y(Ref)13 b Fl(are)h(useful)g(only)f(if)g(y)o(ou)h(de\014ne)h(a)e(subt)o
(yp)q(e)i(o)o(v)o(erriding)e(the)i Fg(keyCompare)c Fl(metho)q(d.)318
1614 y Ff(3.7)56 b(Bundle)318 1722 y Fl(A)16 b Fg(Bundle.T)p
Fl(,)d(or)j(bundle,)g(is)f(a)h(collection)f(of)g(named)g(b)o(yte)h
(string)f(v)n(alues,)h(where)g(the)318 1772 y(names)g(and)h(v)n(alues)g
(are)g(represen)o(ted)j(as)d Fg(TEXTs)p Fl(.)26 b(The)18
b(usefulness)g(of)f(bundles)g(stems)318 1822 y(from)g(the)j(existence)g
(of)f(a)f(program)g(called)g Fg(m3bundle)p Fl(.)32 b(This)18
b(program)g(accepts)i(an)318 1871 y(arbitrary)f(set)h(of)f(\014les)g
(and)g(pro)q(duces)i(the)e(source)i(co)q(de)f(of)e(a)h(Mo)q(dula-3)f
(pro)q(cedure)318 1921 y(that,)13 b(when)i(compiled)d(and)h(executed,)i
(returns)h(a)d(bundle)h(con)o(taining)f(the)h(con)o(ten)o(ts)h(of)318
1971 y(the)f(original)f(\014les.)418 2075 y Fg(INTERFACE)20
b(Bundle;)418 2150 y(TYPE)h(T)g(<:)h(REFANY;)418 2228
y(PROCEDURE)e(Get\(b:)g(T;)h(nm:)h(TEXT\):)e(TEXT;)418
2294 y Fe(If)15 b(an)g(elemen)o(t)g(of)g Fc(b)g Fe(has)g(the)h(name)f
Fc(nm)p Fe(,)f(return)j(its)f(v)n(alue.)22 b(Otherwise,)16
b(return)418 2343 y Fc(NIL)p Fe(.)418 2449 y Fg(END)21
b(Bundle.)p eop
%%Page: 39 49
39 48 bop 141 162 a Fe(3.7)41 b(Bundle)1168 b Fl(39)141
307 y(T)m(o)15 b(call)f Fg(Bundle.Get)p Fl(,)g(y)o(ou)h(need)h(a)f(v)n
(alue)g(of)g(t)o(yp)q(e)h Fg(Bundle.T)p Fl(.)e(Giv)o(en)g(a)i
(collection)f(of)141 357 y(\014les,)f(the)g(program)e
Fg(m3bundle)g Fl(generates)j(the)f(source)h(co)q(de)f(of)f(an)h(in)o
(terface)g(\()p Fg(.i3)f Fl(\014le\))141 407 y(and)i(a)g(mo)q(dule)g
(\()p Fg(.m3)f Fl(\014le\))i(implemen)o(ting)c(that)k(in)o(terface.)23
b(The)16 b(in)o(terface)g(con)o(tains)f(a)141 457 y(single)f(pro)q
(cedure)h(returning)g(a)e(bundle.)203 506 y(If)20 b(y)o(ou)f(w)o(an)o
(t)g(to)h(build)f(a)h(bundle)g(with)f(elemen)o(ts)h(named)f
Fg(e1,)i(...,)g(en)e Fl(corre-)141 556 y(sp)q(onding)c(to)f(v)n(alues)h
(curren)o(tly)h(in)e(\014les)h(with)g(pathnames)f Fg(p1,)21
b(...,)g(pN)p Fl(,)14 b(y)o(ou)g(in)o(v)o(ok)o(e)141
606 y Fg(m3bundle)e Fl(as)i(follo)o(ws:)303 681 y Fg(m3bundle)20
b(-name)h(Foo)g([-element)f(e1)h(p1]...)141 756 y(m3bundle)12
b Fl(then)j(pro)q(duces)g(an)f(in)o(terface)g Fg(Foo.i3)f
Fl(with)g(this)h(format:)303 830 y Fg(INTERFACE)20 b(Foo;)303
880 y(IMPORT)g(Bundle;)303 930 y(PROCEDURE)g(Get\(\):)g(Bundle.T;)303
980 y(END)h(Foo.)141 1054 y Fl(The)15 b(call)f Fg(Foo.Get\(\))f
Fl(returns)j(a)f(bundle)g Fg(b)f Fl(suc)o(h)i(that)e(the)i(call)e
Fg(Bundle.Get\(b,)19 b(nm\))141 1104 y Fl(returns)f(the)f(con)o(ten)o
(ts)h(of)e(\014le)h Fg(pi)f Fl(at)g(the)i(time)d Fg(m3bundle)g
Fl(w)o(as)h(in)o(v)o(ok)o(ed)g(if)g Fg(nm)g Fl(equals)141
1154 y(one)c(of)f(the)h Fg(ei)g Fl(passed)g(to)g Fg(m3bundle)p
Fl(.)k(Otherwise,)d Fg(Bundle.Get\(b,)19 b(nm\))11 b
Fl(returns)i Fg(NIL)p Fl(.)203 1204 y(F)m(or)d(more)f(information)f(ab)
q(out)i Fg(m3bundle)p Fl(,)f(consult)h(its)h(man)d(page)i(or)h(other)f
(system-)141 1254 y(sp)q(eci\014c)15 b(do)q(cumen)o(tation.)p
eop
%%Page: 40 50
40 49 bop 318 162 a Fl(40)1038 b Fe(4)41 b(ALGORITHMS)318
307 y Fj(4)69 b(Algorithms)318 406 y Ff(4.1)56 b(Arra)n(ySort)418
606 y Fg(GENERIC)20 b(INTERFACE)g(ArraySort\(Elem\);)418
669 y Fe(Where)14 b Fc(Elem.T)d Fe(is)i(a)g(t)o(yp)q(e)h(that)f(is)g
(not)g(an)g(op)q(en)g(arra)o(y)g(t)o(yp)q(e)h(and)f Fc(Elem)f
Fe(con)o(tains)580 743 y Fc(PROCEDURE)19 b(Compare\(a,)h(b:)i
(Elem.T\):)e([-1)h(..)g(1];)418 817 y(Compare)12 b Fe(m)o(ust)h
(de\014ne)i(a)e(total)h(order.)k(An)o(y)c(parameter)g(mo)q(de)f(ma)o(y)
e(b)q(e)k(used.)418 916 y Fg(PROCEDURE)20 b(Sort\(VAR)g(a:)h(ARRAY)g
(OF)g(Elem.T;)g(cmp)g(:=)g(Elem.Compare\);)418 978 y
Fe(Sort)14 b(the)g(elemen)o(ts)g(of)f Fc(a)h Fe(using)f(the)i(order)g
(de\014ned)g(b)o(y)e Fc(cmp)p Fe(.)418 1077 y Fg(END)21
b(ArraySort.)318 1151 y(Sort\(a,)f(cmp\))13 b Fl(p)q(erm)o(utes)i(the)f
(elemen)o(ts)g(of)f Fg(a)h Fl(suc)o(h)g(that:)480 1226
y Fg(FIRST\(a\))20 b(<=)h(i)h(<)g(j)f(<=)h(LAST\(a\))318
1300 y Fl(implies)480 1374 y Fg(cmp\(a[i],)e(a[j]\))h(<=)g(0.)318
1449 y Fl(The)14 b(algorithm)e(used)i(is)g(Quic)o(kSort:)380
1531 y Fi(\017)21 b Fl(It)14 b(is)f(not)h(stable.)380
1614 y Fi(\017)21 b Fl(On)11 b(a)o(v)o(erage,)g(it)g(requires)h
Fg(O\(N)21 b(ln)h(N\))10 b Fl(comparison)g(and)g(assignmen)o(t)g(op)q
(erations.)422 1663 y(In)k(the)g(w)o(orst)g(case)h(it)f(ma)o(y)e
(require)i Fg(O\(N*N\))f Fl(op)q(erations.)380 1746 y(F)m(or)h(an)f
(expanded)i(description)g(of)e(Quic)o(kSort,)h(see)h([16)o(].)380
1820 y(The)26 b(standard)g(instances)g(are)g(named)e
Fg(IntArraySort)e Fl(and)j Fg(TextArraySort)p Fl(.)318
1870 y(\(There)d(are)f(no)f(instances)i(for)e Fg(Atom.T)f
Fl(or)h Fg(REFANY)g Fl(since)h(these)h(t)o(yp)q(es)f(don't)f(ha)o(v)o
(e)318 1920 y(a)14 b(standard)g(total)f(order.\))318
2036 y Ff(4.2)56 b(Random)318 2137 y Fl(A)14 b Fg(Random.T)e
Fl(\(or)i(just)g(a)g(generator\))h(is)e(a)h(pseudo-random)f(n)o(um)o(b)
q(er)g(generator.)418 2234 y Fg(INTERFACE)20 b(Random;)418
2306 y(TYPE)461 2354 y(T)i(=)f(OBJECT)g(METHODS)505 2401
y(integer\(min)e(:=)j(FIRST\(INTEGER\);)548 2449 y(max)g(:=)f
(LAST\(INTEGER\)\):)e(INTEGER;)p eop
%%Page: 41 51
41 50 bop 141 162 a Fe(4.2)41 b(Random)1141 b Fl(41)328
307 y Fg(real\(min)20 b(:=)h(0.0e+0;)g(max)g(:=)g(1.0e+0\):)f(REAL;)328
355 y(longreal\(min)f(:=)i(0.0d+0;)g(max)g(:=)g(1.0d+0\):)g(LONGREAL;)
328 403 y(extended\(min)e(:=)i(0.0x+0;)g(max)g(:=)g(1.0x+0\):)g
(EXTENDED;)328 450 y(boolean\(\):)f(BOOLEAN)284 498 y(END;)284
546 y(Default)h(<:)g(T)h(OBJECT)e(METHODS)328 594 y(init\(fixed)g(:=)h
(FALSE\):)f(Default)284 641 y(END;)241 691 y(END)h(Random.)141
786 y Fl(Individual)12 b(generators)i(are)g(unmonitored,)d(and)i(all)f
(the)i(op)q(erations)f(ha)o(v)o(e)g(side)h(e\013ects.)203
842 y(The)h(metho)q(ds)e(pro)o(vided)h(b)o(y)f(a)h(generator)h
Fg(rand)e Fl(are:)203 899 y(The)k(call)f Fg(rand.integer\(a,)j(b\))d
Fl(returns)i(a)e(uniformly)e(distributed)j Fg(INTEGER)f
Fl(in)141 949 y(the)e(closed)h(in)o(terv)n(al)e Fg([a..b])p
Fl(.)203 1005 y(The)g(call)f Fg(rand.real\(a,)19 b(b\))12
b Fl(returns)i(a)e(uniformly)e(distributed)j Fg(REAL)e
Fl(in)h(the)h(half-)141 1055 y(op)q(en)h(in)o(terv)n(al)f
Fg([a..b\))p Fl(.)203 1111 y(The)20 b(call)e Fg(longreal)f
Fl(and)i Fg(extended)e Fl(are)i(lik)o(e)f Fg(real)p Fl(,)h(but)g
(return)i(v)n(alues)d(of)g(the)141 1161 y(sp)q(eci\014ed)d(t)o(yp)q
(es.)203 1218 y(The)g(call)e Fg(rand.boolean\(\))e Fl(returns)k(a)f
(random)e Fg(BOOLEAN)g Fl(v)n(alue.)203 1274 y(It)i(is)g(a)g(c)o(hec)o
(k)o(ed)h(run)o(time)e(error)h(if)f Fg(min)22 b(>)f(max)13
b Fl(on)h(an)o(y)f(call.)203 1330 y Fg(NEW\(Default\).init\(\))19
b Fl(creates)24 b(and)e(initializes)f(a)h(generator)i(\(see)f(b)q(elo)o
(w)f(for)141 1380 y(implemen)o(tatio)o(n)14 b(details\).)28
b(If)17 b Fg(fixed)e Fl(is)i Fg(TRUE)p Fl(,)f(a)h(predetermined)h
(sequence)h(is)e(used.)141 1430 y(If)h Fg(fixed)g Fl(is)g
Fg(FALSE)p Fl(,)f Fg(init)h Fl(c)o(ho)q(oses)h(a)f(random)f(seed)j(in)e
(suc)o(h)i(a)e(w)o(a)o(y)g(that)g(di\013eren)o(t)141
1480 y(sequences)e(result)f(ev)o(en)g(if)e Fg(init)g
Fl(is)g(called)h(man)o(y)e(times)h(in)g(close)i(pro)o(ximit)o(y)m(.)141
1623 y Fn(Example.)41 b Fl(A)10 b(go)q(o)q(d)g(pseudo-random)g(p)q(erm)
o(utation)f(of)g(an)h(arra)o(y)g Fg(a)g Fl(can)h(b)q(e)g(generated)141
1673 y(as)j(follo)o(ws:)303 1768 y Fg(WITH)21 b(rand)g(=)g
(NEW\(Random.Default\))o(.init)o(\(\))e(DO)346 1824 y(FOR)j(i)f(:=)h
(FIRST\(a\))e(TO)h(LAST\(a\))f(-)i(1)g(DO)390 1880 y(WITH)f(j)h(=)f
(rand.integer\(i,)e(LAST\(a\)\))h(DO)434 1937 y Fl(Exc)o(hange)14
b Fg(a[i])f Fl(and)h Fg(a[j])390 1993 y(END)346 2050
y(END)303 2106 y(END)141 2294 y Fn(SR)o(C)21 b(Mo)q(dula-3)f(implemen)n
(tati)o(on)e(details.)39 b Fl(The)19 b(ob)r(ject)g(returned)h(b)o(y)f
(a)f(call)141 2344 y(of)13 b Fg(New\(Default\).in)o(it)d
Fl(uses)15 b(an)e(additiv)o(e)f(generator)i(based)g(on)f(Kn)o(uth's)g
(Algorithm)141 2394 y(3.2.2A)f(\(see)k([9)o(]\).)p eop
%%Page: 42 52
42 51 bop 318 162 a Fl(42)1038 b Fe(4)41 b(ALGORITHMS)318
307 y Ff(4.3)56 b(Fingerprin)n(t)318 406 y Fl(A)12 b
Fg(Fingerprint.T)d Fl(is)i(a)h(64-bit)e(c)o(hec)o(ksum.)17
b(This)12 b(in)o(terface)g(pro)o(vides)g(pro)q(cedures)i(that)318
455 y(can)g(b)q(e)h(used)f(to)g(\014ngerprin)o(t)g(text)h(strings)f(or)
g(more)f(general)h(data)f(structures,)j(suc)o(h)f(as)318
505 y(graphs.)380 555 y(The)e(in)o(terface)g(is)g(based)g(on)f(the)h
(original)e(idea)h(of)g(M.)g(O.)h(Rabin)e([14)o(],)h(as)g(re\014ned)i
(b)o(y)318 605 y(Andrei)g(Bro)q(der)i([3)o(].)418 696
y Fg(INTERFACE)k(Fingerprint;)418 766 y(TYPE)h(T)g(=)h(RECORD)505
814 y(byte:)f(ARRAY)f([0..7])h(OF)g(BITS)g(8)h(FOR)f([0..255])461
861 y(END;)418 933 y(PROCEDURE)f(FromText\(txt:)f(TEXT\):)h(T;)418
994 y Fe(Return)14 b(the)g(\014ngerprin)o(t)h(of)e Fc(txt)p
Fe(.)418 1087 y Fg(PROCEDURE)20 b(Combine\(READONL)o(Y)f(fp1,)i(fp2:)g
(T\):)g(T;)418 1148 y Fe(Return)14 b(the)g(\014ngerprin)o(t)h(of)e(the)
i(ordered)g(pair)e Fc(\(fp1,)21 b(fp2\))p Fe(.)418 1239
y Fg(CONST)f(Zero)h(=)h(T{ARRAY)e([0..7])h(OF)g(BITS)g(8)h(FOR)f
([0..255])f({0,)h(..}};)418 1311 y(VAR)g(\(*CONST*\))f(OfEmpty:)g(T;)
418 1372 y Fe(The)14 b(\014ngerprin)o(t)g(of)g(the)g(empt)o(y)f(text.)
318 1444 y Fl(The)h(follo)o(wing)c(pro)q(cedure,)15 b
Fg(FromChars)p Fl(,)c(pro)o(vides)i(t)o(w)o(o)g(additional)e(features.)
19 b(First,)13 b(it)318 1493 y(tak)o(es)k(an)f(arra)o(y)g(of)f(c)o
(haracters)j(instead)f(of)f(a)g Fg(TEXT)p Fl(,)f(whic)o(h)h(can)g(sa)o
(v)o(e)h(on)f(allo)q(cations.)318 1543 y(Second,)f(it)f(can)h(b)q(e)h
(used)f(to)g(compute)f(the)h(\014ngerprin)o(t)g(of)f(a)h(sequence)h
(incremen)o(tally)m(,)318 1593 y(a)f(bu\013er)h(at)g(a)f(time,)e(since)
k(it)e(accepts)i(the)f(c)o(hec)o(ksum)f(of)g(the)g(previous)h(text)g
(together)318 1643 y(with)e(a)f(new)h(bu\013er)h(full)e(of)g(text)i
(and)e(computes)h(the)h(c)o(hec)o(ksum)f(of)f(the)h(whole)g(text.)418
1734 y Fg(PROCEDURE)20 b(FromChars)461 1784 y(\(READONLY)g(buff:)h
(ARRAY)g(OF)g(CHAR;)g(READONLY)f(fp:)h(T\):)g(T;)418
1845 y Fe(Return)c(the)h(\014ngerprin)o(t)f(of)g Fc(t)k(&)h
(Text.FromChars\(bu)o(ff\))p Fe(,)14 b(where)k Fc(t)f
Fe(is)g(the)418 1895 y(text)d(whose)h(\014ngerprin)o(t)f(is)g
Fc(fp)p Fe(.)318 1966 y Fl(The)f(last)f(t)o(w)o(o)g(pro)q(cedures)j(in)
d(the)h(in)o(terface)g(allo)o(w)e(y)o(ou)h(to)g(use)h(\014ngerprin)o
(ts)g(as)g(the)g(k)o(ey)318 2016 y(t)o(yp)q(e)h(in)g(a)f(generic)i
(table.)418 2110 y Fg(PROCEDURE)20 b(Equal\(READONLY)e(fp1,)j(fp2:)g
(T\):)h(BOOLEAN;)418 2170 y Fe(Return)14 b Fc(fp1)21
b(=)h(fp2)p Fe(.)418 2264 y Fg(PROCEDURE)e(Hash\(READONLY)f(fp:)i(T\):)
g(INTEGER;)418 2325 y Fe(Return)14 b(a)g(hash)g(co)q(de)g(for)g
Fc(fp)p Fe(.)418 2418 y Fg(END)21 b(Fingerprint.)p eop
%%Page: 43 53
43 52 bop 141 162 a Fe(4.3)41 b(Fingerprin)o(t)1090 b
Fl(43)141 307 y Fn(The)16 b(probabili)o(st)o(i)o(c)e(guaran)o(tee.)39
b Fl(The)15 b(\014ngerprin)o(t)f(mo)q(dule)f(pro)q(duces)j(a)d(pro)o(v)
n(ably)141 357 y(secure)h(c)o(hec)o(ksum.)j(T)m(o)12
b(explain)f(exactly)h(what)g(this)g(means)f(requires)j(a)d(few)i
(de\014nitions.)203 407 y(De\014ne)21 b(a)g Fd(nest)f
Fl(to)g(b)q(e)i(a)e(text)h(string)f(or)h(an)f(ordered)i(pair)e(of)g(t)o
(w)o(o)g(nests.)39 b(The)141 457 y(\014ngerprin)o(t)14
b Fg(FP\(x\))f Fl(of)g(a)h(nest)h Fg(x)e Fl(is)h(de\014ned)h(as)f
(follo)o(ws:)303 531 y Fg(FP\(x\))21 b(=)g(FromText\(x\))f
Fl(if)13 b Fg(x)g Fl(is)h(a)g(text)303 581 y Fg(FP\(x\))21
b(=)g(Combine\(FP\(y\),)e(FP\(z\)\))i Fl(if)13 b Fg(x)g
Fl(is)h(a)g(pair)f Fg(\(y,)21 b(z\).)141 656 y Fl(Tw)o(o)13
b(nests)h Fg(x)f Fl(and)g Fg(y)f Fd(c)n(ol)r(lide)h Fl(if)f
Fg(x)22 b(#)f(y)13 b Fl(but)g Fg(FP\(x\))21 b(=)g(FP\(y\))p
Fl(.)c(\(Tw)o(o)c(texts)h(are)f(equal)g(if)141 706 y(they)e(are)h
Fg(Text.Equal)p Fl(,)d(and)h(t)o(w)o(o)h(pairs)f(are)i(equal)e(if)g
(their)i(corresp)q(onding)f(comp)q(onen)o(ts)141 756
y(are)j(equal.)k(W)m(e)13 b(assume)h(that)g(nests)h(are)f(\014nite)g
(and)g(non-circular.\))203 805 y(A)g(nest)g Fg(x)f Fl(is)g(a)g
Fd(subnest)h Fl(of)e Fg(y)h Fl(if)g(it)f(o)q(ccurs)j(an)o(ywhere)f(in)f
Fg(y)p Fl(;)g(that)g(is,)g(if)f(it)h(equals)g Fg(y)g
Fl(or)141 855 y(if)g Fg(y)h Fl(is)f(an)h(ordered)h(pair)f(and)f
Fg(x)h Fl(is)g(a)f(subnest)j(of)d(one)h(of)f Fg(y)p Fl('s)h(comp)q
(onen)o(ts.)203 905 y(De\014ne)j(the)g Fd(length)f Fl(of)g(a)g(nest)h
(to)f(b)q(e)h(the)g(sum)e(of)h(the)h(lengths)f(of)g(all)f(the)i
(distinct)141 955 y(texts)e(that)g(o)q(ccur)g(an)o(ywhere)g(inside)f
(it,)g(and)g(the)h Fd(size)f Fl(of)g(a)g(nest)h(to)f(b)q(e)h(the)g(n)o
(um)o(b)q(er)f(of)141 1005 y(distinct)g(subnests)i(that)e(it)f(has.)18
b(F)m(or)c(example,)e(the)j(length)e(of)h(the)g(nest)303
1079 y Fg(\(\("a",)20 b("b"\),)h(\("a",)g("b"\)\))141
1154 y Fl(is)14 b(t)o(w)o(o,)f(since)h(the)h(only)e(texts)i(that)f(o)q
(ccur)g(inside)g(it)g(are)g Fg(a)g Fl(and)f Fg(b)p Fl(,)g(whose)i
(lengths)f(sum)141 1204 y(to)e(t)o(w)o(o.)17 b(The)c(size)g(of)e(the)i
(nest)g(is)g(four,)e(since)i(its)g(distinct)f(subnests)i(are)f(itself,)
f(the)h(pair)141 1254 y(\()p Fg(a)p Fl(,)g Fg(b)p Fl(\),)h(and)f(the)i
(texts)g Fg(a)e Fl(and)h Fg(b)p Fl(.)203 1303 y(The)20
b(\014ngerprin)o(t)g(mo)q(dule)f(con)o(tains)g(a)h(magic)d(n)o(um)o(b)q
(er)i(that)h(w)o(as)g(c)o(hosen)g(on)g(12)141 1353 y(Decem)o(b)q(er)11
b(1986)f(b)o(y)h(\015ipping)f(a)h(quarter)h(128)e(times)g(in)g(Andrei)i
(Bro)q(der's)g(o\016ce)f(at)g(SR)o(C.)141 1403 y(The)j(c)o(hec)o(ksum)g
(pro)q(duced)h(b)o(y)f(the)h(pac)o(k)n(age)e(is)h(a)f(function)h(of)f
(this)h(magic)e(n)o(um)o(b)q(er.)203 1453 y(The)h(probabilistic)e
(guaran)o(tee)h(for)g(the)h(\014ngerprin)o(t)f(algorithm)e(is)i(that)g
(for)g(an)o(y)f(nest)141 1503 y Fg(S)p Fl(,)e(ev)o(en)h(one)g(pro)q
(duced)g(b)o(y)g(an)f(adv)o(ersary)h(who)f(kno)o(ws)g(ev)o(erything)h
(ab)q(out)g(the)g(algorithm)141 1553 y(except)15 b(the)g(magic)d(n)o
(um)o(b)q(er,)h(the)h(probabilit)o(y)f(that)h(the)g(1986)f
(coin-\015ipping)g(pro)q(duced)141 1602 y(a)h(magic)e(n)o(um)o(b)q(er)h
(suc)o(h)h(that)g(some)f(pair)h(of)f(subnests)j(of)d
Fg(S)h Fl(collide)f(is)h(at)f(most)368 1677 y Fg(\(length\(S\))20
b(*)i(size\(S\)\))e(/)h(2^62.)141 1752 y Fl(F)m(rom)11
b(this)j(basic)f(guaran)o(tee)h(y)o(ou)f(can)g(compute)g(an)g(upp)q(er)
h(b)q(ound)g(on)f(the)h(probabilit)o(y)141 1802 y(of)h(a)g(collision)f
(in)h(y)o(our)h(application.)21 b(F)m(or)15 b(example,)f(if)h(t)o(w)o
(o)g(texts)i Fg(t1)e Fl(and)g Fg(t2)g Fl(collide,)141
1851 y(then)g(the)g(nest)g Fg(\(t1,)21 b(t2\))14 b Fl(con)o(tains)g(t)o
(w)o(o)g(colliding)f(subnests.)21 b(The)15 b(o)q(dds)f(against)g(this)
141 1901 y(are)j(at)g(least)h Fg(2^62)e Fl(to)h Fg(N)k(*)h(3)p
Fl(,)17 b(where)h Fg(N)f Fl(is)g(the)g(total)g(length)f(of)h(the)h(t)o
(w)o(o)e(texts.)28 b(F)m(or)141 1951 y(example,)15 b(if)g(the)i(total)e
(length)h(is)g(a)g(millio)o(n)e(c)o(haracters,)j(the)g(collision)e
(probabilit)o(y)f(is)141 2001 y(at)g(most)368 2076 y
Fg(\(10^6)21 b(*)h(3\))f(/)h(2^62)141 2150 y Fl(This)14
b(is)g(less)g(than)g(one)g(in)f(a)h(trillion.)203 2200
y(Similarly)m(,)9 b(giv)o(en)k(a)f(thousand)i(texts)g(eac)o(h)f(of)g
(length)g(a)f(thousand,)h(considering)g(the)141 2250
y(linear)f(list)h(of)f(all)f(of)i(them)f(as)h(a)f(nest)i(and)f
(applying)e(the)i(guaran)o(tee,)g(w)o(e)g(conclude)h(that)141
2300 y(the)g(probabilit)o(y)f(that)h(some)f(pair)g(collide)g(is)h(at)g
(most)368 2374 y Fg(\(10^6)21 b(*)h(2)f(*)h(10^3\))f(/)g(2^62)141
2449 y Fl(whic)o(h)14 b(is)g(less)g(than)g(one)g(in)f
Fg(2^31)p Fl(,)g(or)h(less)g(than)g(one)g(in)g Fg(10^9)p
Fl(.)p eop
%%Page: 44 54
44 53 bop 318 162 a Fl(44)1038 b Fe(4)41 b(ALGORITHMS)380
307 y Fl(Of)12 b(course)i(these)g(are)e(probabilities)g(with)g(resp)q
(ect)i(to)e(a)g(random)f(coin-\015ipping)g(that)318 357
y(has)g(already)g(happ)q(ened)i(and)e(is)g(therefore)h(not)f(random)f
(an)o(ymore.)16 b(If)11 b(y)o(ou)f(w)o(ere)i(presen)o(t)318
407 y(in)k(Andrei's)h(o\016ce,)g(or)g(if)f(y)o(ou)g(lo)q(ok)f(at)i(the)
g(magic)e(n)o(um)o(b)q(er)h(in)g(the)h(implemen)o(tation,)318
457 y(y)o(ou)11 b(can)i(easily)e(construct)i(a)f(small)e(nest)j(that)e
(con)o(tains)h(a)g(collision.)k(The)c(probabilistic)318
506 y(guaran)o(tee)19 b(is)f(v)n(alid)f(only)h(if)g(the)h(structure)h
(y)o(ou)e(are)h(\014ngerprin)o(ting)f(is)h(indep)q(enden)o(t)318
556 y(of)c(the)i(coin-\015ipping)e(ev)o(en)o(t.)24 b(F)m(or)16
b(example,)f(it)g(w)o(ould)g(not)h(really)g(b)q(e)g(a)g(go)q(o)q(d)g
(idea)f(to)318 606 y(\014ngerprin)o(t)k(the)g(text)g(of)f(the)h(mo)q
(dule)e Fg(Fingerprint.m3)p Fl(,)f(since)k(that)e(text)h(con)o(tains)
318 656 y(the)14 b(magic)e(n)o(um)o(b)q(er)g(as)i(a)f(constan)o(t,)h
(and)f(therefore)i(the)f(probabilistic)f(guaran)o(tee)h(sa)o(ys)318
706 y(nothing)f(ab)q(out)h(the)g(qualit)o(y)f(of)g(its)h(\014ngerprin)o
(t.)318 828 y Fn(Example)f(application)o(s.)39 b Fl(Fingerprin)o(ts)12
b(are)g(useful)g(in)g(man)o(y)e(asp)q(ects)j(of)e(computer)318
877 y(systems.)17 b(F)m(or)10 b(example,)g(to)g(determine)g(if)g(t)o(w)
o(o)g(long)f(\014les)i(stored)h(on)e(di\013eren)o(t)h(computer)318
927 y(systems)19 b(are)h(iden)o(tical,)f(it)g(is)g(not)g(necessary)i
(to)e(transfer)h(the)g(en)o(tire)f(\014le)h(from)d(one)318
977 y(system)e(to)g(another:)21 b(it)14 b(su\016ces)j(to)d
(\014ngerprin)o(t)i(the)g(\014les)f(and)g(transfer)h(and)f(compare)318
1027 y(the)f(\014ngerprin)o(ts.)k(\(Assuming)12 b(that)h(the)h
(probabilistic)e(guaran)o(tee)h(is)g(go)q(o)q(d)f(enough)h(for)318
1077 y(y)o(our)h(application.\))380 1129 y(Fingerprin)o(ts)d(are)f
(also)g(a)g(k)o(ey)g(tec)o(hnology)g(for)f(ac)o(hieving)h(t)o(yp)q(e)h
(safet)o(y)f(in)f(distributed)318 1179 y(programming)o(.)14
b(Within)c(a)h(single)f(address)i(space,)g(the)g(compiler)d(and)i(link)
o(er)f(can)h(ensure)318 1229 y(that)19 b(the)g(v)n(alue)e(of)h(ev)o
(ery)i(v)n(ariable)d(is)h(consisten)o(t)i(with)e(its)g(t)o(yp)q(e.)33
b(In)18 b(a)g(distributed)318 1279 y(computation,)f(where)j(v)n(alues)e
(in)f(one)i(program)e(are)h(reduced)i(to)e(bit)g(sequences)j(and)318
1328 y(sen)o(t)e(o)o(v)o(er)e(the)i(net)o(w)o(ork)f(to)g(b)q(ecome)f(v)
n(alues)h(of)f(v)n(ariables)g(in)g(another)i(program,)d(the)318
1378 y(compiler)11 b(cannot)h(p)q(erform)f(this)h(c)o(hec)o(k:)18
b(whatev)o(er)13 b(the)f(compiler)f(do)q(es,)i(a)e(programmer)318
1428 y(could)17 b(erroneously)h(c)o(hange)f(the)h(t)o(yp)q(e)f(in)g
(one)g(of)g(the)g(programs)f(and)h(recompile)f(and)318
1478 y(execute)d(it.)k(Some)9 b(kind)i(of)f(run)o(time)g(c)o(hec)o(k)i
(is)f(required)h(when)f(the)h(v)n(alue)e(is)h(transferred.)318
1528 y(The)k(simplest)f(c)o(hec)o(k)i(is)e(to)h(send)g(the)h(t)o(yp)q
(e)f(of)f(the)h(v)n(alue)g(along)e(with)h(the)i(v)n(alue)e(itself,)318
1577 y(and)g(then)h(to)g(c)o(hec)o(k)g(the)g(t)o(yp)q(e)g(when)g(the)g
(v)n(alue)f(is)g(receiv)o(ed.)21 b(But)15 b(t)o(yp)q(es)g(can)g(b)q(e)g
(quite)318 1627 y(complicated)20 b(in)h(mo)q(dern)g(programming)d
(languages,)23 b(and)e(it)g(w)o(ould)g(b)q(e)h(ine\016cien)o(t)318
1677 y(to)g(comm)o(unicate)e(t)o(yp)q(es)j(b)o(y)f(sending)h(a)f(full)f
(description)h(of)g(their)h(structure)h(o)o(v)o(er)318
1727 y(the)18 b(wire.)31 b(Fingerprin)o(ts)18 b(pro)o(vide)g(the)g
(answ)o(er:)27 b(the)18 b(sending)g(program)f(computes)g(a)318
1777 y(\014ngerprin)o(t)k(of)f(the)h(t)o(yp)q(e,)h(and)e(the)h
(receiving)g(program)e(compares)h(the)h(\014ngerprin)o(t)318
1826 y(with)15 b(the)g(\014ngerprin)o(t)h(of)e(the)i(receiving)f(v)n
(ariable.)21 b(Fingerprin)o(ts)15 b(pla)o(y)g(essen)o(tially)f(the)318
1876 y(same)i(role)g(in)g(making)e(p)q(ersisten)o(t)k(storage)f(t)o(yp)
q(esafe.)27 b(The)17 b(SR)o(C)f(Mo)q(dula-3)f(run)o(time)318
1926 y(pro)o(vides)j(an)f(in)o(terface)h(for)f(con)o(v)o(erting)g(b)q
(et)o(w)o(een)i(t)o(yp)q(eco)q(des)g(and)f(t)o(yp)q(e)g(\014ngerprin)o
(ts,)318 1976 y(for)c(exactly)g(this)f(purp)q(ose.)318
2098 y Fn(Fingerprin)n(t)o(in)o(g)h(general)i(data)h(structures.)39
b Fl(The)15 b Fg(Combine)f Fl(function)h(mak)o(es)e(it)318
2148 y(con)o(v)o(enien)o(t)d(to)g(\014ngerprin)o(t)g(man)o(y)e(data)i
(structures.)19 b(F)m(or)9 b(example,)g(consider)i(a)f(directed)318
2197 y(acyclic)21 b(graph)g(\(D)o(A)o(G\))f(in)h(whic)o(h)g(eac)o(h)g
(no)q(de)h Fg(nd)f Fl(has)g(a)g(text)g(lab)q(el)g Fg(lbl\(nd\))e
Fl(and)318 2247 y Fg(deg\(nd\))14 b Fl(neigh)o(b)q(or)i(no)q(des)g
Fg(nd[1])p Fl(,)f(...,)f Fg(nd[deg\(nd\)])p Fl(.)21 b(Suc)o(h)16
b(a)f(graph)h(represen)o(ts)i(an)318 2297 y(expression)c(in)e(whic)o(h)
g(a)h(no)q(de)g Fg(nd)f Fl(of)g(degree)i(zero)f(represen)o(ts)j(a)c
(constan)o(t)h(v)n(alue)f(named)318 2347 y(b)o(y)g Fg(lbl\(nd\))p
Fl(,)f(and)h(a)h(no)q(de)f Fg(nd)g Fl(of)g(degree)i(greater)g(than)e
(zero)h(represen)o(ts)j(an)c(expression)318 2397 y(with)i(ro)q(ot)f(op)
q(erator)i Fg(lbl\(nd\))d Fl(and)i(argumen)o(ts)f Fg(nd[1])p
Fl(,)f(...,)g Fg(nd[deg\(nd\)])p Fl(.)380 2449 y(One)k(w)o(a)o(y)e(to)g
(\014nd)h(common)d(sub)q(expressions)17 b(is)e(to)f(compute)h(a)f
(\014ngerprin)o(t)h Fg(F\(nd\))p eop
%%Page: 45 55
45 54 bop 141 162 a Fe(4.3)41 b(Fingerprin)o(t)1090 b
Fl(45)141 307 y(for)14 b(ev)o(ery)g(no)q(de)h Fg(nd)e
Fl(b)o(y)h(the)g(follo)o(wing)d(rule:)303 386 y Fg(PROCEDURE)20
b(F\(nd\):)g(T)i(=)346 438 y(VAR)g(res)f(:=)g(FromText\(lbl\(nd\)\);)d
(BEGIN)390 489 y(FOR)j(i)h(:=)f(1)h(TO)f(deg\(nd\))g(DO)434
540 y(res)g(:=)g(Combine\(res,)f(F\(nd[i]\)\))390 591
y(END;)390 643 y(RETURN)h(res)346 694 y(END)h(F;)141
773 y Fl(\(If)12 b(the)g(D)o(A)o(G)f(is)h(not)g(a)g(tree,)h(the)f
(program)f(as)h(written)g(will)f(recompute)h(the)h(\014ngerprin)o(t)141
823 y(of)k(no)q(des)h(with)f(m)o(ultiple)e(paren)o(ts,)j(p)q(ossibly)f
(man)o(y)f(times.)27 b(T)m(o)16 b(a)o(v)o(oid)g(this,)i(y)o(ou)f(can)
141 873 y(easily)h(mo)q(dify)d(the)k(program)e(to)h(record)h(the)g
(\014ngerprin)o(t)f(in)g(the)h(no)q(de,)g(so)f(that)g(the)141
923 y(total)13 b(computation)f(time)h(is)h(prop)q(ortional)f(to)g(the)i
(size)f(of)g(the)g(graph.\))203 974 y(The)e(pro)q(cedure)h
Fg(F)e Fl(has)g(the)g(prop)q(ert)o(y)h(that)g(with)e(high)h(probabilit)
o(y)m(,)e(t)o(w)o(o)h(no)q(des)i(ha)o(v)o(e)141 1024
y(the)h(same)f(\014ngerprin)o(t)i(if)d(and)i(only)f(if)g(they)h
(represen)o(t)i(common)10 b(sub)q(expressions.)20 b(This)141
1073 y(is)e(a)f(consequence)j(of)d(the)h(probabilistic)f(guaran)o(tee)h
(together)h(with)e(the)h(observ)n(ation)141 1123 y(that)c
Fg(f\(a1,)21 b(...,)g(an\))14 b Fl(and)g Fg(g\(b1,)21
b(...,)g(bm\))13 b Fl(are)i(common)c(sub)q(expressions)17
b(if)c(and)141 1173 y(only)g(if)g(the)i(nests)325 1252
y Fg(\()21 b(...)g(\(\(f,)g(a1\),)43 b(a2\),)21 b(...)g(an\))325
1303 y(\()g(...)g(\(\(g,)g(b1\),)43 b(b2\),)21 b(...)g(bm\))141
1383 y Fl(are)14 b(equal.)203 1434 y(Other)g(data)d(structures,)k(suc)o
(h)e(as)f(cyclic)h(graphs,)f(can)g(b)q(e)h(\014ngerprin)o(ted)g(with)f
(more)141 1484 y(elab)q(orate)20 b(strategies)h(based)f(on)g(the)g
(same)f(idea.)35 b(When)20 b(designing)f(\014ngerprin)o(ting)141
1534 y(algorithms)10 b(for)j(other)g(data)g(structures,)i(it)d(is)g
(imp)q(ortan)o(t)f(to)i(remem)o(b)q(er)f(that)h Fg(Combine)141
1583 y Fl(is)h(neither)h(comm)o(utati)o(v)o(e)c(nor)j(asso)q(ciativ)o
(e.)141 1699 y Fn(Pitfalls.)38 b Fl(The)14 b(original)d(\014ngerprin)o
(t)j(in)o(terface)g(o\013ered)g(at)f(SR)o(C)g(did)g(not)g(include)g
(the)141 1749 y(pro)q(cedure)e Fg(Combine)p Fl(.)16 b(The)10
b(V)m(esta)f(con\014guration)h(managemen)o(t)d(pro)r(ject)j(built)f(a)g
(system)141 1799 y(that)15 b(cac)o(hed)g(in)o(termediate)f(results)i
(for)e(large)h(soft)o(w)o(are)g(builds.)k(Abstractly)m(,)c(this)g(is)f
(a)141 1848 y(sp)q(ecial)j(case)g(of)f(the)h(common)d(sub)q(expression)
k(problem)d(men)o(tioned)g(previously)m(,)h(and)141 1898
y(the)d(pro)r(ject)g(used)g(\014ngerprin)o(ts)g(as)f(k)o(eys)g(in)g
(the)h(cac)o(he.)18 b(It)12 b(is)g(instructiv)o(e)h(to)f(learn)g(what)
141 1948 y(happ)q(ened.)203 1999 y(Y)m(ou)21 b(migh)o(t)e(think)h(that)
h(a)g(simple)f(w)o(a)o(y)g(to)h(solv)o(e)f(the)i(common)c(sub)q
(expression)141 2049 y(problem)f(without)i Fg(Combine)e
Fl(w)o(ould)h(b)q(e)h(to)g(\014ngerprin)o(t)g(the)g(texts)h(that)e
(result)i(from)141 2099 y(prin)o(ting)13 b(the)h(expressions)h
(represen)o(ted)i(b)o(y)c(the)i(no)q(des)f(of)f(the)h(D)o(A)o(G.)f(But)
h(if)f(the)h(D)o(A)o(G)141 2149 y(is)k(not)f(a)h(tree,)h(this)f(is)g(a)
f(serious)h(error,)i(since)e(the)g(length)g(of)f(the)i(strings)f(pro)q
(duced)141 2199 y(b)o(y)j(prin)o(ting)f(a)h(D)o(A)o(G)f(can)h(gro)o(w)g
(geometrically)e(with)i(its)g(size,)i(and)e(therefore)h(the)141
2248 y(probabilistic)13 b(guaran)o(tee)h(b)q(ecomes)g(useless)i(ev)o
(en)e(for)g(quite)g(small)d(D)o(A)o(Gs.)203 2300 y(Av)o(oiding)i(this)h
(error,)h(the)g(V)m(esta)f(group)g(computed)g(the)h(\014ngerprin)o(t)f
(of)g(a)g(no)q(de)g(b)o(y)141 2350 y(concatenating)19
b(the)h(no)q(de's)f(lab)q(el)f(with)h(the)g Fd(\014ngerprints)g
Fl(of)f(its)h(c)o(hildren|treating)141 2399 y(these)e(\014ngerprin)o
(ts)f(as)f(8-b)o(yte)h(texts|)g(and)f(\014ngerprin)o(ted)h(the)g
(resulting)g(text.)23 b(With)141 2449 y(this)16 b(strategy)m(,)g(the)h
(n)o(um)o(b)q(er)e(of)h(texts)h(\014ngerprin)o(ted)g(is)e(prop)q
(ortional)g(to)h(the)h(n)o(um)o(b)q(er)p eop
%%Page: 46 56
46 55 bop 318 162 a Fl(46)1038 b Fe(4)41 b(ALGORITHMS)318
307 y Fl(of)14 b(no)q(des)h(of)f(the)h(D)o(A)o(G,)e(and)h(the)h(total)e
(length)i(of)f(these)h(texts)h(is)e(prop)q(ortional)f(to)h(the)318
357 y(n)o(um)o(b)q(er)f(of)g(edges)i(of)f(the)g(D)o(A)o(G.)f(Th)o(us)h
(the)g(metho)q(d)f(app)q(ears)i(e\016cien)o(t)f(and)g(sound.)380
407 y(Alas,)23 b(the)e(metho)q(d)g(is)g(not)g(sound.)40
b(Recall)20 b(that)i(the)f(probabilistic)g(guaran)o(tee)318
457 y(is)e(v)n(alid)f(only)h(if)g(the)h(strings)g(b)q(eing)g
(\014ngerprin)o(ted)g(are)g(indep)q(enden)o(t)h(of)e(the)h(magic)318
506 y(n)o(um)o(b)q(er.)26 b(But)17 b(\014ngerprin)o(ts)h(themselv)o(es)
f(are)g(dep)q(enden)o(t)h(on)f(the)g(magic)e(n)o(um)o(b)q(er,)h(so)318
556 y(the)i(probabalistic)g(guaran)o(tee)g(is)g(in)o(v)n(alid)d(whenev)
o(er)20 b(\014ngerprin)o(ts)e(are)h(\014ngerprin)o(ted.)318
606 y(The)14 b(V)m(esta)h(group)e(w)o(as)h(so)q(on)g(debugging)f(an)h
(unexp)q(ected)i(collision.)380 656 y(The)f(moral)d(is)i(simple:)j(the)
e(pro)q(cedure)h Fg(Combine)d Fl(is)h(a)g(con)o(v)o(enience,)h(but)g
(it)f(is)g(also)318 706 y(m)o(uc)o(h)9 b(more)h(than)g(a)g(con)o(v)o
(enience.)19 b(It)10 b(should)g(b)q(e)h(the)h(only)d(w)o(a)o(y)h(that)g
(y)o(ou)g(ev)o(er)i(generate)318 756 y(a)k(\014ngerprin)o(t)h(from)d
(another)j(\014ngerprin)o(t.)26 b(In)16 b(particular,)g(nev)o(er)i
(treat)f(a)f(\014ngerprin)o(t)318 805 y(as)e(text)g(to)g(b)q(e)h
(passed)g(to)e Fg(FromText)p Fl(.)p eop
%%Page: 47 57
47 56 bop 1532 162 a Fl(47)141 311 y Fj(5)69 b(I/O)23
b(Streams)141 402 y Fl(The)d(in)o(terfaces)g Fg(Wr)f
Fl(and)g Fg(Rd)g Fl(pro)o(vide)g(ob)r(ject-orien)o(ted)i(output)e(and)g
(input)h(streams,)141 451 y(called)15 b Fd(writers)e
Fl(and)i Fd(r)n(e)n(aders)p Fl(.)22 b(These)16 b(w)o(ere)h(in)o(v)o(en)
o(ted)e(b)o(y)g(Sto)o(y)g(and)g(Strac)o(hey)h(in)f(1972)141
501 y([18)o(].)34 b(The)20 b(v)o(ersions)g(presen)o(ted)h(here)g(are)f
(sligh)o(t)e(mo)q(di\014cations)g(of)h(the)h(v)o(ersions)g(in)141
551 y(the)d(\014rst)g(Mo)q(dula-3)f(b)q(o)q(ok)g([13)o(].)26
b(W)m(e)16 b(also)g(presen)o(t)i(related)f(in)o(terfaces)g(for)f
(obtaining)141 601 y(writers)i(and)f(readers)h(connected)h(to)e(texts)h
(or)f(\014les)g(\()p Fg(TextWr)p Fl(,)f Fg(TextRd)p Fl(,)g
Fg(FileWr)p Fl(,)g(and)141 651 y Fg(FileRd)p Fl(\),)j(for)f(accessing)i
(standard)f(streams)g(\()p Fg(Stdio)p Fl(\),)g(and)g(for)f(p)q
(erforming)g(I/O)h(in)141 700 y(simple)9 b(programs)g(\()p
Fg(IO)p Fl(\).)h(The)g(in)o(terfaces)i Fg(FileWr)d Fl(and)h
Fg(FileRd)f Fl(sup)q(ersede)k(the)e(in)o(terface)141
750 y Fg(FileStream)h Fl(in)h([13)o(].)141 867 y Ff(5.1)56
b(IO)141 969 y Fl(The)17 b Fg(IO)f Fl(in)o(terface)h(pro)o(vides)g
(textual)g(input)f(and)g(output)h(for)f(simple)g(programs.)24
b(F)m(or)141 1018 y(more)15 b(detailed)i(con)o(trol,)f(use)h(the)g(in)o
(terfaces)g Fg(Rd)p Fl(,)f Fg(Wr)p Fl(,)g Fg(Stdio)p
Fl(,)g Fg(FileRd)p Fl(,)f Fg(FileWr)p Fl(,)g Fg(Fmt)p
Fl(,)141 1068 y(and)f Fg(Lex)p Fl(.)203 1118 y(The)f(input)g(pro)q
(cedures)i(tak)o(e)e(argumen)o(ts)f(of)g(t)o(yp)q(e)i
Fg(Rd.T)d Fl(that)i(sp)q(ecify)h(whic)o(h)e(input)141
1168 y(stream)j(to)g(use.)22 b(If)15 b(this)g(argumen)o(t)f(is)h
(defaulted,)h(standard)f(input)g(\()p Fg(Stdio.stdin)p
Fl(\))e(is)141 1218 y(used.)18 b(Similarly)l(,)7 b(if)j(an)g(argumen)o
(t)f(of)h(t)o(yp)q(e)g Fg(Wr.T)g Fl(to)g(an)g(output)g(pro)q(cedure)i
(is)e(defaulted,)141 1268 y Fg(Stdio.stdout)h Fl(is)j(used.)241
1365 y Fg(INTERFACE)20 b(IO;)241 1438 y(IMPORT)g(Rd,)h(Wr;)241
1513 y(PROCEDURE)f(Put\(txt:)g(TEXT;)g(wr:)i(Wr.T)f(:=)g(NIL\);)241
1575 y Fe(Output)14 b Fc(txt)f Fe(to)h Fc(wr)g Fe(and)f(\015ush)i
Fc(wr)p Fe(.)241 1675 y Fg(PROCEDURE)20 b(PutInt\(n:)f(INTEGER;)i(wr:)g
(Wr.T)g(:=)g(NIL\);)241 1738 y Fe(Output)14 b Fc(Fmt.Int\(n\))e
Fe(to)i Fc(wr)f Fe(and)h(\015ush)g Fc(wr)p Fe(.)241 1838
y Fg(PROCEDURE)20 b(PutReal\(r:)f(REAL;)i(wr:)g(Wr.T)g(:=)h(NIL\);)241
1900 y Fe(Output)14 b Fc(Fmt.Real\(r\))e Fe(to)i Fc(wr)f
Fe(and)h(\015ush)g Fc(wr)p Fe(.)241 2000 y Fg(PROCEDURE)20
b(EOF\(rd:)g(Rd.T)h(:=)g(NIL\):)g(BOOLEAN;)241 2062 y
Fe(Return)14 b Fc(TRUE)f Fe(i\013)h Fc(rd)f Fe(is)h(at)f
(end-of-\014le.)241 2162 y Fg(EXCEPTION)20 b(Error;)141
2237 y Fl(The)d(exception)g Fg(Error)e Fl(is)h(raised)h(whenev)o(er)g
(a)f Fg(Get)g Fl(pro)q(cedure)i(encoun)o(ters)g(syn)o(tacti-)141
2287 y(cally)13 b(in)o(v)n(alid)f(input,)h(including)g(unexp)q(ected)j
(end-of-\014le.)241 2387 y Fg(PROCEDURE)k(GetLine\(rd:)f(Rd.T)i(:=)g
(NIL\):)g(TEXT)g(RAISES)g({Error};)241 2449 y Fe(Read)13
b(a)h(line)f(of)h(text)g(from)e Fc(rd)i Fe(and)f(return)i(it.)p
eop
%%Page: 48 58
48 57 bop 318 162 a Fl(48)1042 b Fe(5)41 b(I/O)14 b(STREAMS)318
307 y Fl(A)d(line)f(of)h(text)g(is)g(either)h(zero)g(or)f(more)f(c)o
(haracters)i(terminated)f(b)o(y)f(a)h(line)g(break,)g(or)g(one)318
357 y(or)17 b(more)e(c)o(haracters)j(terminated)e(b)o(y)h(an)f
(end-of-\014le.)26 b(In)16 b(the)h(former)f(case,)i Fg(GetLine)318
407 y Fl(consumes)e(the)h(line)e(break)i(but)f(do)q(es)g(not)g(include)
g(it)g(in)g(the)g(returned)i(v)n(alue.)23 b(A)17 b(line)318
457 y(break)d(is)g(either)h Fg("\\n")e Fl(or)h Fg("\\r\\n")p
Fl(.)418 558 y Fg(PROCEDURE)20 b(GetChar\(rd:)f(Rd.T)i(:=)g(NIL\):)g
(CHAR)g(RAISES)g({Error};)418 621 y Fe(Read)13 b(the)i(next)f(c)o
(haracter)h(from)e Fc(rd)g Fe(and)h(return)h(it.)418
722 y Fg(PROCEDURE)20 b(GetInt\(rd:)f(Rd.T)i(:=)h(NIL\):)e(INTEGER)h
(RAISES)f({Error};)418 785 y Fe(Read)13 b(a)h(decimal)e(n)o(umeral)g
(from)h Fc(rd)g Fe(using)h Fc(Lex.Int)e Fe(and)i(return)h(its)f(v)n
(alue.)418 886 y Fg(PROCEDURE)20 b(GetReal\(rd:)f(Rd.T)i(:=)g(NIL\):)g
(REAL)g(RAISES)g({Error};)418 949 y Fe(Read)13 b(a)h(real)g(n)o(um)o(b)
q(er)f(from)f Fc(rd)h Fe(using)h Fc(Lex.Real)e Fe(and)i(return)h(its)f
(v)n(alue.)418 1050 y Fg(PROCEDURE)20 b(OpenRead\(f:)f(TEXT\):)i(Rd.T;)
418 1113 y Fe(Op)q(en)16 b(the)f(\014le)g(name)f Fc(f)h
Fe(for)g(reading)f(and)h(return)h(a)f(reader)h(on)f(its)g(con)o(ten)o
(ts.)23 b(If)418 1162 y(the)14 b(\014le)g(do)q(esn't)g(exist)h(or)e(is)
h(not)g(readable,)g(return)h Fc(NIL)p Fe(.)418 1263 y
Fg(PROCEDURE)20 b(OpenWrite\(f:)f(TEXT\):)h(Wr.T;)418
1326 y Fe(Op)q(en)15 b(the)g(\014le)g(named)e Fc(f)h
Fe(for)h(writing)e(and)i(return)g(a)g(writer)g(on)f(its)h(con)o(ten)o
(ts.)21 b(If)418 1376 y(the)15 b(\014le)f(do)q(es)h(not)f(exist)h(it)f
(will)e(b)q(e)j(created.)21 b(If)14 b(the)h(pro)q(cess)h(do)q(es)f(not)
f(ha)o(v)o(e)h(the)418 1426 y(authorit)o(y)e(to)h(mo)q(dify)d(or)j
(create)h(the)g(\014le,)e(return)i Fc(NIL)p Fe(.)418
1527 y Fg(END)21 b(IO.)318 1671 y Ff(5.2)56 b(W)-5 b(r)318
1774 y Fl(A)17 b Fg(Wr.T)e Fl(\(or)i(\\writer"\))g(is)f(a)g(c)o
(haracter)i(output)f(stream.)25 b(The)17 b(basic)g(op)q(eration)f(on)g
(a)318 1824 y(writer)c(is)e Fg(PutChar)p Fl(,)g(whic)o(h)h(extends)h(a)
f(writer's)h(c)o(haracter)g(sequence)h(b)o(y)e(one)g(c)o(haracter.)318
1874 y(Some)h(writers)i(\(called)g(\\seek)n(able)f(writers"\))h(also)f
(allo)o(w)f(o)o(v)o(erwriting)g(in)h(the)h(middle)e(of)318
1923 y(the)20 b(sequence.)36 b(F)m(or)19 b(example,)g(writers)h(to)f
(random)f(access)j(\014les)e(are)h(seek)n(able,)h(but)318
1973 y(writers)15 b(to)f(terminals)e(and)i(sequen)o(tial)g(\014les)g
(are)g(not.)380 2023 y(W)m(riters)j(can)f(b)q(e)h(\(and)f(usually)g
(are\))g(bu\013ered.)27 b(This)16 b(means)g(that)g(op)q(erations)g(on)
318 2073 y(the)e(writer)g(don't)g(imm)o(ediately)d(a\013ect)j(the)g
(underlying)g(target)g(of)f(the)h(writer,)g(but)g(are)318
2123 y(sa)o(v)o(ed)h(up)f(and)h(p)q(erformed)f(later.)20
b(F)m(or)14 b(example,)f(a)i(writer)g(to)f(a)h(disk)f(\014le)h(is)f
(not)g(lik)o(ely)318 2173 y(to)g(up)q(date)g(the)h(disk)e(after)i(eac)o
(h)f(c)o(haracter.)380 2223 y(Abstractly)m(,)g(a)g(writer)g
Fg(wr)f Fl(consists)i(of:)480 2299 y Fg(len\(wr\))151
b Fl(a)14 b(non-negativ)o(e)f(in)o(teger)480 2349 y Fg(c\(wr\))195
b Fl(a)14 b(c)o(haracter)h(sequence)h(of)d(length)h Fg(len\(wr\))480
2399 y(cur\(wr\))151 b Fl(an)14 b(in)o(teger)g(in)f(the)i(range)f
Fg([0..len\(wr\)])480 2449 y(target\(wr\))85 b Fl(a)14
b(c)o(haracter)h(sequence)p eop
%%Page: 49 59
49 58 bop 141 162 a Fe(5.2)41 b(W)m(r)1240 b Fl(49)303
307 y Fg(closed\(wr\))85 b Fl(a)14 b(b)q(o)q(olean)303
357 y Fg(seekable\(wr\))41 b Fl(a)14 b(b)q(o)q(olean)303
407 y Fg(buffered\(wr\))41 b Fl(a)14 b(b)q(o)q(olean)141
483 y(These)g(v)n(alues)f(are)g(generally)f(not)h(directly)g(represen)o
(ted)j(in)c(the)h(data)g(\014elds)g(of)f(a)h(writer)141
532 y(ob)r(ject,)h(but)g(in)g(principle)g(they)g(determine)g(the)g
(state)h(of)e(the)i(writer.)203 582 y(The)h(sequence)i
Fg(c\(wr\))d Fl(is)g(zero-based:)23 b Fg(c\(wr\)[i])14
b Fl(is)i(v)n(alid)e(for)h Fg(i)h Fl(from)e(0)h(through)141
632 y Fg(len\(wr\)-1)p Fl(.)22 b(The)16 b(v)n(alue)f(of)g
Fg(cur\(wr\))f Fl(is)i(the)g(index)g(of)f(the)h(c)o(haracter)h(in)e
Fg(c\(wr\))g Fl(that)141 682 y(will)d(b)q(e)i(replaced)g(or)f(app)q
(ended)h(b)o(y)f(the)h(next)g(call)e(to)h Fg(PutChar)p
Fl(.)j(If)d Fg(wr)g Fl(is)g(not)g(seek)n(able,)141 732
y(then)h Fg(cur\(wr\))d Fl(is)i(alw)o(a)o(ys)f(equal)h(to)g
Fg(len\(wr\))p Fl(,)e(since)j(in)f(this)g(case)h(all)e(writing)g(happ)q
(ens)141 782 y(at)i(the)g(end.)203 832 y(The)e(di\013erence)i(b)q(et)o
(w)o(een)f Fg(c\(wr\))e Fl(and)g Fg(target\(wr\))f Fl(re\015ects)k(the)
e(bu\013ering:)17 b(if)11 b Fg(wr)g Fl(is)141 882 y(not)h(bu\013ered,)i
(then)e Fg(target\(wr\))f Fl(is)h(up)q(dated)g(to)g(equal)g
Fg(c\(wr\))f Fl(after)i(ev)o(ery)g(op)q(eration;)141
931 y(if)h Fg(wr)g Fl(is)g(bu\013ered,)i(then)f(up)q(dates)g(to)g
Fg(target\(wr\))d Fl(can)j(b)q(e)g(dela)o(y)o(ed.)20
b(F)m(or)14 b(example,)f(in)141 981 y(a)h(writer)i(to)e(a)h(\014le,)f
Fg(target\(wr\))f Fl(is)h(the)h(actual)g(sequence)h(of)f(c)o(haracters)
h(on)e(the)i(disk;)141 1031 y(in)g(a)g(writer)g(to)g(a)g(terminal,)f
Fg(target\(wr\))f Fl(is)i(the)g(sequence)j(of)c(c)o(haracters)j(that)e
(ha)o(v)o(e)141 1081 y(actually)c(b)q(een)i(transmitted.)k(\(This)13
b(sequence)i(ma)o(y)c(not)i(exist)g(in)g(an)o(y)g(data)f(structure,)141
1131 y(but)i(it)g(still)f(exists)h(abstractly)m(.\))203
1181 y(If)k Fg(wr)g Fl(is)g(bu\013ered,)j(then)e(the)f(assignmen)o(t)g
Fg(target\(wr\))h(:=)j(c\(wr\))17 b Fl(can)i(happ)q(en)141
1230 y(async)o(hronously)11 b(at)f(an)o(y)g(time,)g(although)f(the)i
(pro)q(cedures)i(in)d(this)h(in)o(terface)g(are)g(atomic)141
1280 y(with)j(resp)q(ect)i(to)d(suc)o(h)i(assignmen)o(ts.)203
1330 y(Ev)o(ery)c(writer)g(is)f(a)h(monitor;)e(that)h(is,)h(it)f(con)o
(tains)g(an)g(in)o(ternal)g(lo)q(c)o(k)g(that)g(is)h(acquired)141
1380 y(and)i(held)h(for)f(eac)o(h)h(op)q(eration)f(in)g(this)h(in)o
(terface,)g(so)f(that)h(concurren)o(t)h(op)q(erations)f(will)141
1430 y(app)q(ear)g(atomic.)j(F)m(or)c(faster,)h(unmonitored)f(access,)i
(see)g(the)f Fg(UnsafeWr)f Fl(in)o(terface.)203 1480
y(If)18 b(y)o(ou)g(are)g(implemen)o(ting)d(a)j(long-liv)o(ed)e(writer)j
(class,)g(suc)o(h)g(as)g(a)e(pip)q(e)i(or)f(TCP)141 1530
y(stream,)e(the)h(index)f(of)f(the)i(writer)g(ma)o(y)d(ev)o(en)o
(tually)i(o)o(v)o(er\015o)o(w,)g(causing)g(the)h(program)141
1580 y(to)c(crash)i(with)e(a)g(b)q(ounds)h(fault.)j(W)m(e)c(recommend)g
(that)g(y)o(ou)g(pro)o(vide)h(an)f(op)q(eration)g(to)141
1629 y(reset)j(the)e(writer)g(index,)g(whic)o(h)g(the)g(clien)o(t)g
(can)g(call)f(p)q(erio)q(dically)m(.)203 1679 y(It)h(is)g(useful)g(to)g
(sp)q(ecify)g(the)g(e\013ect)i(of)d(sev)o(eral)h(of)g(the)g(pro)q
(cedures)i(in)e(this)g(in)o(terface)141 1729 y(in)j(terms)h(of)f(the)i
(action)e Fg(PutC\(wr,)j(ch\))p Fl(,)e(whic)o(h)f(outputs)i(the)f(c)o
(haracter)h Fg(ch)f Fl(to)f(the)141 1779 y(writer)d Fg(wr)p
Fl(:)303 1854 y Fg(PutC\(wr,)20 b(ch\))h(=)346 1904 y(IF)h
(closed\(wr\))e(THEN)h Fl(Cause)14 b(c)o(hec)o(k)o(ed)h(run)o(time)e
(error)23 b Fg(END;)346 1954 y(IF)f(cur\(wr\))e(=)i(len\(wr\))e(THEN)
390 2004 y Fl(Extend)15 b Fg(c\(wr\))e Fl(b)o(y)g(one)h(c)o(haracter,)h
(incremen)o(ting)e Fg(len\(wr\))346 2055 y(END;)346 2105
y(c\(wr\)[cur\(wr\)])19 b(:=)j(ch;)346 2155 y(INC\(cur\(wr\)\);)141
2230 y(PutC)13 b Fl(is)h(used)h(only)e(in)g(sp)q(ecifying)h(the)g(in)o
(terface;)g(it)g(is)g(not)f(a)h(real)g(pro)q(cedure.)241
2328 y Fg(INTERFACE)20 b(Wr;)241 2401 y(IMPORT)g(AtomList;)241
2449 y(FROM)h(Thread)f(IMPORT)h(Alerted;)p eop
%%Page: 50 60
50 59 bop 318 162 a Fl(50)1042 b Fe(5)41 b(I/O)14 b(STREAMS)418
307 y Fg(TYPE)21 b(T)g(<:)h(ROOT;)418 381 y(EXCEPTION)e
(Failure\(AtomLis)o(t.T\);)318 454 y Fl(Since)h(there)g(are)g(man)o(y)d
(classes)j(of)f(writers,)i(there)g(are)e(man)o(y)f(w)o(a)o(ys)g(that)i
(a)f(writer)318 504 y(can)f(break|for)f(example,)g(the)h(net)o(w)o(ork)
g(can)f(go)g(do)o(wn,)h(the)h(disk)e(can)h(\014ll)e(up,)j(etc.)318
554 y(All)c(problems)f(of)h(this)g(sort)h(are)g(rep)q(orted)h(b)o(y)e
(raising)f(the)i(exception)h Fg(Failure)p Fl(.)24 b(The)318
604 y(do)q(cumen)o(tation)16 b(of)h(eac)o(h)h(writer)g(class)g(should)f
(sp)q(ecify)h(what)g(failures)f(the)h(class)g(can)318
654 y(raise)c(and)g(ho)o(w)f(they)i(are)f(enco)q(ded)h(in)f(the)g
(argumen)o(t)f(to)h Fg(Failure)p Fl(.)380 704 y(Illegal)k(op)q
(erations)h(\(for)g(example,)f(writing)g(to)h(a)g(closed)g(writer\))h
(cause)g(c)o(hec)o(k)o(ed)318 753 y(run)o(time)13 b(errors.)418
851 y Fg(VAR)21 b(\(*CONST*\))f(EOL:)h(TEXT;)418 913
y Fe(End)14 b(of)f(line.)318 986 y Fl(On)h(POSIX,)g Fg(EOL)f
Fl(is)h Fg("\\n")p Fl(;)f(on)g(Win32,)g Fg(EOL)g Fl(is)h
Fg("\\r\\n")p Fl(.)418 1084 y Fg(PROCEDURE)20 b(PutChar\(wr:)f(T;)i
(ch:)h(CHAR\))e(RAISES)h({Failure,)f(Alerted};)418 1145
y Fe(Output)14 b Fc(ch)g Fe(to)f Fc(wr)p Fe(.)18 b(More)c(precisely)m
(,)g(this)g(is)g(equiv)n(alen)o(t)f(to:)480 1243 y Fg(PutC\(wr,)20
b(ch\);)h(IF)g(NOT)h(buffered\(wr\))d(THEN)i(Flush\(wr\))f(END)318
1316 y Fl(Man)o(y)15 b(op)q(erations)i(on)e(a)h(writer)g(can)g(w)o(ait)
f(inde\014nitely)m(.)23 b(F)m(or)16 b(example,)f Fg(PutChar)f
Fl(can)318 1366 y(w)o(ait)19 b(if)g(the)h(user)h(has)f(susp)q(ended)i
(output)e(to)g(his)g(terminal.)34 b(These)21 b(w)o(aits)e(can)h(b)q(e)
318 1416 y(alertable,)e(so)h(eac)o(h)f(pro)q(cedure)i(that)e(migh)o(t)e
(w)o(ait)h(includes)h Fg(Thread.Alerted)e Fl(in)h(its)318
1466 y(raises)e(clause.)418 1563 y Fg(PROCEDURE)20 b(PutText\(wr:)f(T;)
i(t:)h(TEXT\))f(RAISES)f({Failure,)g(Alerted};)418 1625
y Fe(Output)14 b Fc(t)g Fe(to)g Fc(wr)p Fe(.)j(More)e(precisely)m(,)e
(this)h(is)g(equiv)n(alen)o(t)f(to:)480 1722 y Fg(FOR)21
b(i)h(:=)f(0)h(TO)f(Text.Length\(t\))e(-)i(1)h(DO)523
1772 y(PutC\(wr,)f(Text.GetChar\(t,)d(i\)\))480 1822
y(END;)480 1872 y(IF)j(NOT)g(buffered\(wr\))f(THEN)h(Flush\(wr\))f(END)
318 1946 y Fl(except)g(that,)f(lik)o(e)f(all)f(op)q(erations)i(in)f
(this)g(in)o(terface,)i(it)e(is)h(atomic)d(with)i(resp)q(ect)j(to)318
1995 y(other)15 b(op)q(erations)f(in)f(the)i(in)o(terface.)k(\(It)14
b(w)o(ould)f(b)q(e)i(wrong)e(to)h(write)g Fg(PutChar)f
Fl(instead)318 2045 y(of)g Fg(PutC)p Fl(,)g(since)i Fg(PutChar)d
Fl(alw)o(a)o(ys)h(\015ushes)i(if)e(the)i(writer)f(is)g(un)o
(bu\013ered.\))418 2141 y Fg(PROCEDURE)20 b(PutString\(wr:)f(T;)i
(READONLY)f(a:)i(ARRAY)e(OF)i(CHAR\))461 2190 y(RAISES)f({Failure,)f
(Alerted};)418 2252 y Fe(Output)14 b Fc(a)f Fe(to)g Fc(wr)p
Fe(.)k(More)d(precisely)m(,)g(other)g(than)f(the)h(fact)f(that)h(this)f
(is)g(atomic,)e(it)418 2302 y(is)i(equiv)n(alen)o(t)h(to:)480
2399 y Fg(FOR)21 b(i)h(:=)f(FIRST\(a\))f(TO)i(LAST\(a\))e(DO)h
(PutC\(wr,)f(a[i]\))h(END;)480 2449 y(IF)g(NOT)g(buffered\(wr\))f(THEN)
h(Flush\(wr\))f(END)p eop
%%Page: 51 61
51 60 bop 141 162 a Fe(5.3)41 b(Rd)1242 b Fl(51)241 307
y Fg(PROCEDURE)20 b(Seek\(wr:)g(T;)h(n:)g(CARDINAL\))f(RAISES)h
({Failure,)f(Alerted};)241 370 y Fe(Set)15 b(the)g(curren)o(t)g(p)q
(osition)f(of)g Fc(wr)g Fe(to)g Fc(n)p Fe(.)19 b(This)14
b(is)g(an)g(error)i(if)d Fc(wr)h Fe(is)g(closed.)20 b(More)241
419 y(precisely)m(,)14 b(this)f(is)h(equiv)n(alen)o(t)f(to:)303
519 y Fg(IF)21 b(wr.closed)f(OR)i(NOT)f(seekable\(wr\))e(THEN)346
569 y Fl(Cause)c(c)o(hec)o(k)o(ed)g(run)o(time)e(error)303
619 y Fg(END;)303 669 y(cur\(wr\))20 b(:=)i(MIN\(n,)e(len\(wr\)\))241
769 y(PROCEDURE)g(Flush\(wr:)f(T\))j(RAISES)e({Failure,)g(Alerted};)241
831 y Fe(P)o(erform)12 b(all)h(bu\013ered)i(op)q(erations.)j(That)13
b(is,)g(set)i Fc(target\(wr\))k(:=)j(c\(wr\))p Fe(.)17
b(It)c(is)241 881 y(a)g(c)o(hec)o(k)o(ed)i(run)o(time)e(error)i(if)e
Fc(wr)h Fe(is)f(closed.)241 981 y Fg(PROCEDURE)20 b(Close\(wr:)f(T\))j
(RAISES)e({Failure,)g(Alerted};)141 1056 y Fl(Flush)g
Fg(wr)p Fl(,)h(release)h(an)o(y)e(resources)i(asso)q(ciated)f(with)f
Fg(wr)p Fl(,)h(and)g(set)g Fg(closed\(wr\))f(:=)141 1105
y(TRUE)p Fl(.)14 b(The)i(do)q(cumen)o(tation)f(for)g(a)g(pro)q(cedure)j
(that)d(creates)j(a)d(writer)h(should)g(sp)q(ecify)141
1155 y(what)e(resources)j(are)e(released)h(when)f(the)h(writer)f(is)f
(closed.)21 b(This)14 b(lea)o(v)o(es)h Fg(closed\(wr\))141
1205 y Fl(equal)f(to)f Fg(TRUE)g Fl(ev)o(en)i(if)e(it)g(raises)i(an)f
(exception,)g(and)g(is)f(a)h(no-op)f(if)g Fg(wr)h Fl(is)f(closed.)241
1303 y Fg(PROCEDURE)20 b(Length\(wr:)f(T\):)i(CARDINAL)g(RAISES)f
({Failure,)g(Alerted};)241 1350 y(PROCEDURE)g(Index\(wr:)f(T\):)j
(CARDINAL)e(RAISES)g({};)241 1398 y(PROCEDURE)g(Seekable\(wr:)f(T\):)i
(BOOLEAN)f(RAISES)h({};)241 1446 y(PROCEDURE)f(Closed\(wr:)f(T\):)i
(BOOLEAN)g(RAISES)f({};)241 1496 y(PROCEDURE)g(Buffered\(wr:)f(T\):)i
(BOOLEAN)f(RAISES)h({};)241 1558 y Fe(These)15 b(pro)q(cedures)h
(return)g Fc(len\(wr\))p Fe(,)c Fc(cur\(wr\))p Fe(,)g
Fc(seekable\(wr\))p Fe(,)f Fc(closed\(wr\))p Fe(,)241
1608 y(and)18 b Fc(buffered\(wr\))p Fe(,)e(resp)q(ectiv)o(ely)m(.)31
b Fc(Length)17 b Fe(and)h Fc(Index)f Fe(cause)i(a)f(c)o(hec)o(k)o(ed)
241 1658 y(run)o(time)12 b(error)j(if)e Fc(wr)h Fe(is)f(closed;)h(the)h
(other)f(three)i(pro)q(cedures)g(do)d(not.)241 1758 y
Fg(END)21 b(Wr.)141 1899 y Ff(5.3)56 b(Rd)141 2001 y
Fl(An)17 b Fg(Rd.T)e Fl(\(or)h(\\reader"\))i(is)e(a)g(c)o(haracter)i
(input)e(stream.)25 b(The)17 b(basic)f(op)q(eration)g(on)g(a)141
2051 y(reader)e(is)f Fg(GetChar)p Fl(,)e(whic)o(h)i(returns)i(the)e
(source)i(c)o(haracter)f(at)f(the)h(\\curren)o(t)g(p)q(osition")141
2100 y(and)h(adv)n(ances)g(the)g(curren)o(t)h(p)q(osition)e(b)o(y)h
(one.)21 b(Some)13 b(readers)j(are)g(\\seek)n(able",)e(whic)o(h)141
2150 y(means)e(that)i(they)f(also)g(allo)o(w)e(setting)j(the)g(curren)o
(t)g(p)q(osition)f(an)o(ywhere)h(in)e(the)i(source.)141
2200 y(F)m(or)24 b(example,)i(readers)g(from)c(random)h(access)k
(\014les)e(are)g(seek)n(able;)30 b(readers)c(from)141
2250 y(terminals)13 b(and)g(sequen)o(tial)h(\014les)g(are)h(not.)203
2300 y(Some)d(readers)j(are)f(\\in)o(termitten)o(t",)e(whic)o(h)h
(means)f(that)i(the)g(source)g(of)f(the)h(reader)141
2350 y(tric)o(kles)j(in)f(rather)i(than)e(b)q(eing)h(a)o(v)n(ailable)d
(to)j(the)g(implemen)o(tati)o(on)d(all)h(at)i(once.)26
b(F)m(or)141 2399 y(example,)19 b(the)h(input)f(stream)g(from)f(an)h
(in)o(teractiv)o(e)h(terminal)e(is)h(in)o(termitten)o(t.)34
b(An)141 2449 y(in)o(termitten)o(t)13 b(reader)i(is)f(nev)o(er)h(seek)n
(able.)p eop
%%Page: 52 62
52 61 bop 318 162 a Fl(52)1042 b Fe(5)41 b(I/O)14 b(STREAMS)380
307 y Fl(Abstractly)m(,)g(a)g(reader)h Fg(rd)e Fl(consists)i(of)480
383 y Fg(len\(rd\))238 b Fl(the)15 b(n)o(um)o(b)q(er)e(of)g(source)i(c)
o(haracters)480 433 y Fg(src\(rd\))238 b Fl(a)14 b(sequence)i(of)d
(length)h Fg(len\(rd\)+1)480 483 y(cur\(rd\))238 b Fl(an)14
b(in)o(teger)g(in)g(the)g(range)g Fg([0..len\(rd\)])480
533 y(avail\(rd\))194 b Fl(an)14 b(in)o(teger)g(in)g(the)g(range)g
Fg([cur\(rd\)..len\(rd\)+)o(1])480 583 y(closed\(rd\))172
b Fl(a)14 b(b)q(o)q(olean)480 634 y Fg(seekable\(rd\))128
b Fl(a)14 b(b)q(o)q(olean)480 684 y Fg(intermittent\(rd\))40
b Fl(a)14 b(b)q(o)q(olean)318 759 y(These)d(v)n(alues)f(are)h(not)f
(necessarily)h(directly)f(represen)o(ted)j(in)d(the)g(data)g(\014elds)h
(of)e(a)h(reader)318 809 y(ob)r(ject.)22 b(In)15 b(particular,)g(for)f
(an)h(in)o(termitten)o(t)f(reader,)i Fg(len\(rd\))e Fl(ma)o(y)f(b)q(e)j
(unkno)o(wn)e(to)318 859 y(the)21 b(implem)o(en)o(tation.)33
b(But)21 b(in)f(principle)f(the)i(v)n(alues)f(determine)g(the)g(state)h
(of)e(the)318 909 y(reader.)380 959 y(The)f(sequence)h
Fg(src\(rd\))d Fl(is)h(zero-based:)26 b Fg(src\(rd\)[i])15
b Fl(is)i(v)n(alid)e(for)i Fg(i)g Fl(from)e(0)i(to)318
1009 y Fg(len\(rd)p Fl(\).)31 b(The)19 b(\014rst)h Fg(len\(rd\))d
Fl(elemen)o(ts)h(of)g Fg(src)g Fl(are)h(the)g(c)o(haracters)i(that)d
(are)h(the)318 1059 y(source)c(of)f(the)h(reader.)k(The)c(\014nal)e
(elemen)o(t)h(is)g(a)g(sp)q(ecial)g(v)n(alue)f Fg(eof)h
Fl(used)h(to)f(represen)o(t)318 1108 y(end-of-\014le.)k(The)c(v)n(alue)
f Fg(eof)g Fl(is)h(not)g(a)g(c)o(haracter.)380 1158 y(The)22
b(v)n(alue)e(of)h Fg(cur\(rd\))e Fl(is)i(the)h(index)f(in)f
Fg(src\(rd\))g Fl(of)h(the)g(next)h(c)o(haracter)g(to)318
1208 y(b)q(e)d(returned)h(b)o(y)e Fg(GetChar)p Fl(,)f(unless)i
Fg(cur\(rd\))i(=)g(len\(rd\))p Fl(,)d(in)f(whic)o(h)i(case)g(a)f(call)f
(to)318 1258 y Fg(GetChar)12 b Fl(will)h(raise)h(the)g(exception)h
Fg(EndOfFile)p Fl(.)380 1308 y(The)f(v)n(alue)g(of)f
Fg(avail\(rd\))e Fl(is)j(imp)q(ortan)o(t)e(for)h(in)o(termitten)o(t)g
(readers:)20 b(the)14 b(elemen)o(ts)318 1358 y(whose)25
b(indexes)h(in)e Fg(src\(rd\))f Fl(are)i(in)f(the)i(range)f
Fg([cur\(rd\)..avail)o(\(rd\)-)o(1])d Fl(are)318 1408
y(a)o(v)n(ailable)15 b(to)i(the)g(implemen)o(tation)d(and)j(can)g(b)q
(e)g(read)h(b)o(y)f(clien)o(ts)g(without)g(blo)q(c)o(king.)318
1458 y(If)i(the)h(clien)o(t)g(tries)g(to)f(read)h(further,)h(the)f
(implemen)o(tation)c(will)i(blo)q(c)o(k)h(w)o(aiting)f(for)318
1507 y(the)j(other)f(c)o(haracters.)38 b(If)20 b Fg(rd)f
Fl(is)h(not)g(in)o(termitten)o(t,)g(then)h Fg(avail\(rd\))d
Fl(is)i(equal)f(to)318 1557 y Fg(len\(rd\)+1)p Fl(.)d(If)d
Fg(rd)h Fl(is)f(in)o(termitten)o(t,)g(then)h Fg(avail\(rd\))e
Fl(can)i(increase)h(async)o(hronously)m(,)318 1607 y(although)23
b(the)h(pro)q(cedures)i(in)d(this)h(in)o(terface)g(are)h(atomic)c(with)
j(resp)q(ect)i(to)d(suc)o(h)318 1657 y(increases.)380
1707 y(The)15 b(de\014nitions)f(ab)q(o)o(v)o(e)f(encompass)h(readers)i
(with)d(in\014nite)h(sources.)20 b(If)14 b Fg(rd)f Fl(is)h(suc)o(h)318
1757 y(a)h(reader,)i(then)g Fg(len\(rd\))d Fl(and)h Fg(len\(rd\)+1)f
Fl(are)i(b)q(oth)g(in\014nit)o(y)m(,)e(and)i(there)h(is)e(no)h(\014nal)
318 1807 y Fg(eof)d Fl(v)n(alue.)380 1857 y(Ev)o(ery)e(reader)g(is)f(a)
g(monitor;)f(that)h(is,)g(it)g(con)o(tains)g(an)f(in)o(ternal)h(lo)q(c)
o(k)g(that)g(is)g(acquired)318 1907 y(and)j(held)h(for)f(eac)o(h)h(op)q
(eration)f(in)g(this)h(in)o(terface,)g(so)f(that)h(concurren)o(t)h(op)q
(erations)f(will)318 1956 y(app)q(ear)g(atomic.)j(F)m(or)c(faster,)h
(unmonitored)f(access,)i(see)g(the)f Fg(UnsafeRd)f Fl(in)o(terface.)380
2007 y(If)18 b(y)o(ou)f(are)h(implemen)o(ting)d(a)i(long-liv)o(ed)f
(reader)j(class,)g(suc)o(h)g(as)f(a)f(pip)q(e)h(or)g(TCP)318
2056 y(stream,)d(the)i(index)e(of)h(the)g(reader)h(ma)o(y)d(ev)o(en)o
(tually)h(o)o(v)o(er\015o)o(w,)h(causing)f(the)i(program)318
2106 y(to)c(crash)i(with)e(a)g(b)q(ounds)h(fault.)j(W)m(e)c(recommend)g
(that)g(y)o(ou)g(pro)o(vide)h(an)f(op)q(eration)g(to)318
2156 y(reset)j(the)e(reader)h(index,)e(whic)o(h)h(the)h(clien)o(t)f
(can)g(call)f(p)q(erio)q(dically)m(.)418 2255 y Fg(INTERFACE)20
b(Rd;)418 2328 y(IMPORT)g(AtomList;)418 2376 y(FROM)h(Thread)f(IMPORT)h
(Alerted;)418 2449 y(TYPE)g(T)g(<:)h(ROOT;)p eop
%%Page: 53 63
53 62 bop 141 162 a Fe(5.3)41 b(Rd)1242 b Fl(53)241 307
y Fg(EXCEPTION)20 b(EndOfFile;)f(Failure\(AtomList.T\))o(;)141
385 y Fl(Since)h(there)h(are)f(man)o(y)d(classes)k(of)e(readers,)j
(there)f(are)e(man)o(y)f(w)o(a)o(ys)h(that)h(a)f(reader)141
435 y(can)d(break|for)f(example,)f(the)i(connection)h(to)e(a)g
(terminal)f(can)i(b)q(e)g(brok)o(en,)g(the)g(disk)141
484 y(can)h(signal)e(a)h(read)h(error,)h(etc.)27 b(All)16
b(problems)f(of)h(this)h(sort)g(are)g(rep)q(orted)h(b)o(y)e(raising)141
534 y(the)k(exception)f Fg(Failure)p Fl(.)32 b(The)20
b(do)q(cumen)o(tation)e(of)g(a)h(reader)h(class)g(should)f(sp)q(ecify)
141 584 y(what)14 b(failures)h(the)g(class)g(can)f(raise)h(and)g(ho)o
(w)f(they)h(are)g(enco)q(ded)h(in)e(the)h(argumen)o(t)e(to)141
634 y Fg(Failure)p Fl(.)203 685 y(Illegal)g(op)q(erations)h(cause)h(a)e
(c)o(hec)o(k)o(ed)j(run)o(time)c(error.)241 786 y Fg(PROCEDURE)20
b(GetChar\(rd:)f(T\):)i(CHAR)284 836 y(RAISES)g({EndOfFile,)e(Failure,)
h(Alerted};)241 900 y Fe(Return)15 b(the)h(next)g(c)o(haracter)g(from)d
Fc(rd)p Fe(.)22 b(More)15 b(precisely)m(,)h(this)f(is)g(equiv)n(alen)o
(t)f(to)241 950 y(the)g(follo)o(wing,)d(in)i(whic)o(h)h
Fc(res)f Fe(is)h(a)g(lo)q(cal)f(v)n(ariable)f(of)i(t)o(yp)q(e)g
Fc(CHAR)p Fe(:)303 1056 y Fg(IF)21 b(closed\(rd\))f(THEN)h
Fl(Cause)14 b(c)o(hec)o(k)o(ed)i(run)o(time)c(error)23
b Fg(END;)303 1106 y Fl(Blo)q(c)o(k)14 b(un)o(til)f Fg(avail\(rd\))20
b(>)h(cur\(rd\);)303 1157 y(IF)g(cur\(rd\))g(=)g(len\(rd\))g(THEN)346
1208 y(RAISE)g(EndOfFile)303 1259 y(ELSE)346 1309 y(res)h(:=)f
(src\(rd\)[cur\(rd\)];)d(INC\(cur\(rd\)\);)h(RETURN)i(res)303
1360 y(END)141 1438 y Fl(Man)o(y)15 b(op)q(erations)h(on)f(a)g(reader)i
(can)f(w)o(ait)e(inde\014nitely)m(.)23 b(F)m(or)15 b(example,)f
Fg(GetChar)g Fl(can)141 1488 y(w)o(ait)19 b(if)f(the)j(user)f(is)g(not)
f(t)o(yping.)34 b(In)20 b(general)g(these)h(w)o(aits)e(are)h
(alertable,)g(so)g(eac)o(h)141 1538 y(pro)q(cedure)c(that)e(migh)o(t)e
(w)o(ait)h(includes)h Fg(Thread.Alerted)d Fl(in)i(its)h
Fg(RAISES)f Fl(clause.)241 1641 y Fg(PROCEDURE)20 b(EOF\(rd:)g(T\):)h
(BOOLEAN)f(RAISES)h({Failure,)f(Alerted};)241 1705 y
Fe(Return)14 b Fc(TRUE)f Fe(i\013)h Fc(rd)f Fe(is)h(at)f
(end-of-\014le.)18 b(More)d(precisely)m(,)e(this)h(is)g(equiv)n(alen)o
(t)f(to:)303 1811 y Fg(IF)21 b(closed\(rd\))f(THEN)h
Fl(Cause)14 b(c)o(hec)o(k)o(ed)i(run)o(time)c(error)23
b Fg(END;)303 1862 y Fl(Blo)q(c)o(k)14 b(un)o(til)f Fg(avail\(rd\))20
b(>)h(cur\(rd\);)303 1912 y(RETURN)f(cur\(rd\))h(=)g(len\(rd\))141
1990 y Fl(Notice)e(that)f(on)g(an)g(in)o(termitten)o(t)g(reader,)i
Fg(EOF)e Fl(can)g(blo)q(c)o(k.)32 b(F)m(or)18 b(example,)f(if)h(there)
141 2040 y(are)g(no)e(c)o(haracters)j(bu\013ered)g(in)d(a)h(terminal)f
(reader,)i Fg(EOF)f Fl(m)o(ust)f(w)o(ait)g(un)o(til)g(the)i(user)141
2090 y(t)o(yp)q(es)f(one)f(b)q(efore)h(it)f(can)g(determine)g(whether)i
(he)e(t)o(yp)q(ed)h(the)g(sp)q(ecial)f(k)o(ey)g(signalling)141
2140 y(end-of-\014le.)i(If)12 b(y)o(ou)h(are)h(using)f
Fg(EOF)g Fl(in)f(an)h(in)o(teractiv)o(e)h(input)f(lo)q(op,)f(the)i
(righ)o(t)f(sequence)141 2189 y(of)g(op)q(erations)h(is:)192
2275 y(1.)20 b(prompt)12 b(the)j(user;)192 2362 y(2.)20
b(call)13 b Fg(EOF)p Fl(,)g(whic)o(h)g(probably)h(w)o(aits)f(on)h(user)
h(input;)192 2449 y(3.)20 b(presuming)13 b(that)h Fg(EOF)f
Fl(returned)i Fg(FALSE)p Fl(,)e(read)h(the)h(user's)g(input.)p
eop
%%Page: 54 64
54 63 bop 318 162 a Fl(54)1042 b Fe(5)41 b(I/O)14 b(STREAMS)418
307 y Fg(PROCEDURE)20 b(UnGetChar\(rd:)f(T\))i(RAISES)g({};)418
369 y Fe(\\Push)c(bac)o(k")g(the)h(last)e(c)o(haracter)j(read)e(from)f
Fc(rd)p Fe(,)h(so)g(that)g(the)g(next)h(call)e(to)418
419 y Fc(GetChar)h Fe(will)f(read)j(it)f(again.)31 b(More)18
b(precisely)m(,)i(this)e(is)h(equiv)n(alen)o(t)e(to)i(the)418
469 y(follo)o(wing:)480 567 y Fg(IF)i(closed\(rd\))f(THEN)h
Fl(Cause)14 b(c)o(hec)o(k)o(ed)i(run)o(time)c(error)23
b Fg(END;)480 617 y(IF)e(cur\(rd\))g(>)g(0)h(THEN)f(DEC\(cur\(rd\)\))e
(END)318 691 y Fl(except)h(there)g(is)f(a)g(sp)q(ecial)g(rule:)28
b Fg(UnGetChar\(rd\))16 b Fl(is)j(guaran)o(teed)h(to)e(w)o(ork)h(only)f
(if)318 741 y Fg(GetChar\(rd\))13 b Fl(w)o(as)i(the)i(last)e(op)q
(eration)g(on)g Fg(rd)p Fl(.)22 b(Th)o(us)16 b Fg(UnGetChar)e
Fl(cannot)h(b)q(e)h(called)318 790 y(t)o(wice)d(in)g(a)g(ro)o(w,)f(or)h
(after)h Fg(Seek)e Fl(or)h Fg(EOF)p Fl(.)f(If)h(this)g(rule)g(is)g
(violated,)f(the)i(implem)o(en)o(tation)318 840 y(is)g(allo)o(w)o(ed)e
(\(but)j(not)e(required\))i(to)f(cause)h(a)f(c)o(hec)o(k)o(ed)h(run)o
(time)e(error.)418 938 y Fg(PROCEDURE)20 b(CharsReady\(rd:)e(T\):)k
(CARDINAL)e(RAISES)g({Failure};)418 1000 y Fe(Return)c(some)g(n)o(um)o
(b)q(er)f(of)h(c)o(haracters)i(that)f(can)f(b)q(e)h(read)g(without)f
(inde\014nite)418 1050 y(w)o(aiting.)f(The)d(\\end)g(of)f(\014le)g
(mark)o(er")g(coun)o(ts)h(as)f(one)h(c)o(haracter)h(for)e(this)g(purp)q
(ose,)418 1100 y(so)16 b Fc(CharsReady)e Fe(will)g(return)j(1,)f(not)g
(0,)g(if)f Fc(EOF\(rd\))g Fe(is)h(true.)25 b(More)16
b(precisely)m(,)418 1150 y(this)e(is)f(equiv)n(alen)o(t)g(to)h(the)h
(follo)o(wing:)480 1248 y Fg(IF)21 b(closed\(rd\))f(THEN)h
Fl(Cause)14 b(c)o(hec)o(k)o(ed)i(run)o(time)c(error)23
b Fg(END;)480 1298 y(IF)e(avail\(rd\))f(=)i(cur\(rd\))e(THEN)523
1348 y(RETURN)h(0)480 1397 y(ELSE)523 1447 y(RETURN)g
Fl(some)13 b(n)o(um)o(b)q(er)g(in)h(the)g(range)g Fg([1)22
b(..)f(avail\(rd\))f(-)i(cur\(rd\)])480 1497 y(END;)318
1571 y Fl(W)m(arning:)15 b Fg(CharsReady)8 b Fl(can)i(return)h(a)f
(result)h(less)f(than)g Fg(avail\(rd\))20 b(-)i(cur\(rd\))p
Fl(;)9 b(also,)318 1621 y(more)g(c)o(haracters)j(migh)o(t)7
b(tric)o(kle)j(in)g(just)g(as)g Fg(CharsReady)e Fl(returns.)18
b(So)10 b(the)g(co)q(de)h(to)f(\015ush)318 1671 y(bu\013ered)15
b(input)f(without)g(blo)q(c)o(king)e(requires)k(a)d(lo)q(op:)480
1745 y Fg(LOOP)523 1794 y(n)22 b(:=)f(Rd.CharsReady\(rd\);)523
1844 y(IF)h(n)f(=)h(0)g(THEN)f(EXIT)g(END;)523 1894 y(FOR)h(i)f(:=)h(1)
f(TO)h(n)f(DO)h(EVAL)f(Rd.GetChar\(rd\))d(END)480 1944
y(END;)418 2040 y(PROCEDURE)i(GetSub\(rd:)f(T;)j(VAR)f(\(*OUT*\))f
(str:)h(ARRAY)g(OF)g(CHAR\))461 2090 y(:)h(CARDINAL)e(RAISES)g
({Failure,)g(Alerted};)418 2152 y Fe(Read)e(from)f Fc(rd)h
Fe(in)o(to)h Fc(str)f Fe(un)o(til)g Fc(rd)g Fe(is)g(exhausted)i(or)f
Fc(str)f Fe(is)h(\014lled.)32 b(More)418 2202 y(precisely)m(,)13
b(this)h(is)f(equiv)n(alen)o(t)g(to)g(the)h(follo)o(wing,)d(in)i(whic)o
(h)g Fc(i)g Fe(is)h(a)f(lo)q(cal)g(v)n(ariable:)480 2300
y Fg(i)21 b(:=)h(0;)480 2350 y(WHILE)f(i)g(#)h(NUMBER\(str\))d(AND)j
(NOT)f(EOF\(rd\))f(DO)523 2399 y(str[i])h(:=)g(GetChar\(rd\);)f
(INC\(i\))480 2449 y(END;)p eop
%%Page: 55 65
55 64 bop 141 162 a Fe(5.3)41 b(Rd)1242 b Fl(55)303 307
y Fg(RETURN)20 b(i)241 404 y(PROCEDURE)g(GetSubLine\(rd:)e(T;)k(VAR)f
(\(*OUT*\))f(str:)h(ARRAY)g(OF)g(CHAR\))284 454 y(:)h(CARDINAL)e
(RAISES)g({Failure,)g(Alerted};)241 516 y Fe(Read)14
b(from)f Fc(rd)g Fe(in)o(to)h Fc(str)g Fe(un)o(til)g(a)g(newline)g(is)g
(read,)h Fc(rd)f Fe(is)g(exhausted,)i(or)e Fc(str)g Fe(is)241
566 y(\014lled.)21 b(More)16 b(precisely)m(,)f(this)h(is)f(equiv)n
(alen)o(t)f(to)h(the)h(follo)o(wing,)c(in)j(whic)o(h)g
Fc(i)g Fe(is)g(a)241 615 y(lo)q(cal)e(v)n(ariable:)303
714 y Fg(i)21 b(:=)h(0;)303 764 y(WHILE)346 814 y(i)g(#)g
(NUMBER\(str\))d(AND)346 864 y(\(i)j(=)f(0)h(OR)f(str[i-1])g(#)g
('\\n'\))g(AND)346 913 y(NOT)h(EOF\(rd\))303 963 y(DO)346
1013 y(str[i])f(:=)g(GetChar\(rd\);)f(INC\(i\))303 1063
y(END;)303 1113 y(RETURN)g(i)141 1187 y Fl(Note)e(that)g
Fg(GetLine)e Fl(strips)j(the)f(terminating)e(line)i(break,)g(while)g
Fg(GetSubLine)d Fl(do)q(es)141 1237 y(not.)241 1333 y
Fg(PROCEDURE)20 b(GetText\(rd:)f(T;)i(len:)g(CARDINAL\):)f(TEXT)284
1383 y(RAISES)h({Failure,)f(Alerted};)241 1445 y Fe(Read)d(from)e
Fc(rd)i Fe(un)o(til)g(it)g(is)g(exhausted)h(or)g Fc(len)e
Fe(c)o(haracters)j(ha)o(v)o(e)e(b)q(een)i(read,)241 1495
y(and)14 b(return)i(the)g(result)g(as)f(a)f Fc(TEXT)p
Fe(.)g(More)h(precisely)m(,)g(this)g(is)g(equiv)n(alen)o(t)f(to)h(the)
241 1545 y(follo)o(wing,)10 b(in)k(whic)o(h)g Fc(i)f
Fe(and)h Fc(res)f Fe(are)h(lo)q(cal)f(v)n(ariables:)303
1644 y Fg(res)21 b(:=)g("";)h(i)f(:=)h(0;)303 1694 y(WHILE)f(i)g(#)h
(len)f(AND)g(NOT)g(EOF\(rd\))g(DO)346 1743 y(res)h(:=)f(res)g(&)h
(Text.FromChar\(Ge)o(tChar)o(\(rd\)\))o(;)346 1793 y(INC\(i\))303
1843 y(END;)303 1893 y(RETURN)e(res)241 1989 y(PROCEDURE)g
(GetLine\(rd:)f(T\):)i(TEXT)284 2039 y(RAISES)g({EndOfFile,)e(Failure,)
h(Alerted};)241 2101 y Fe(If)14 b Fc(EOF\(rd\))e Fe(then)k(raise)e
Fc(EndOfFile)p Fe(.)k(Otherwise,)d(read)g(c)o(haracters)h(un)o(til)e(a)
g(line)241 2151 y(break)i(is)g(read)h(or)f Fc(rd)f Fe(is)h(exhausted,)i
(and)e(return)h(the)g(result)g(as)f(a)g Fc(TEXT)p Fe(|but)241
2201 y(discard)11 b(the)h(line)f(break)h(if)e(it)h(is)h(presen)o(t.)18
b(A)12 b(line)f(break)g(is)g(either)i Fc("\\n")d Fe(or)h
Fc("\\r\\n")241 2251 y Fe(More)16 b(precisely)m(,)g(this)g(is)g(equiv)n
(alen)o(t)f(to)h(the)g(follo)o(wing,)d(in)j(whic)o(h)f
Fc(ch)h Fe(and)f Fc(res)241 2301 y Fe(are)f(lo)q(cal)f(v)n(ariables:)
303 2399 y Fg(IF)21 b(EOF\(rd\))g(THEN)g(RAISE)f(EndOfFile)g(END;)303
2449 y(res)h(:=)g("";)h(ch)f(:=)g('\\000';)g(\(*)g(any)g(char)g(but)g
(newline)g(*\))p eop
%%Page: 56 66
56 65 bop 318 162 a Fl(56)1042 b Fe(5)41 b(I/O)14 b(STREAMS)480
307 y Fg(WHILE)21 b(ch)g(#)h('\\n')f(AND)g(NOT)g(EOF\(rd\))f(DO)523
357 y(ch)i(:=)f(GetChar\(rd\);)523 407 y(IF)h(ch)f(=)h('\\n')f(THEN)567
457 y(IF)g(NOT)h(Text.Empty\(res\))c(AND)654 506 y(Text.GetChar\(res,)h
(Text.Length\(res)o(\)-1\))f(=)k('\\r')f(THEN)611 556
y(res)g(:=)g(Text.Sub\(res,)e(0,)j(Text.Length\(res\))o(-1\))567
606 y(END)523 656 y(ELSE)567 706 y(res)f(:=)h(res)f(&)g
(Text.FromChar\(ch\))523 756 y(END)480 805 y(RETURN)f(res)418
903 y(PROCEDURE)g(Seek\(rd:)g(T;)h(n:)g(CARDINAL\))f(RAISES)h
({Failure,)f(Alerted};)418 964 y Fe(This)13 b(is)h(equiv)n(alen)o(t)f
(to:)480 1061 y Fg(IF)21 b(closed\(rd\))f(OR)h(NOT)h(seekable\(rd\))d
(THEN)523 1111 y Fl(Cause)c(c)o(hec)o(k)o(ed)g(run)o(time)e(error)480
1161 y Fg(END;)480 1211 y(cur\(rd\))20 b(:=)i(MIN\(n,)e(len\(rd\)\))418
1308 y(PROCEDURE)g(Close\(rd:)f(T\))j(RAISES)e({Failure,)g(Alerted};)
418 1370 y Fe(Release)15 b(an)o(y)g(resources)j(asso)q(ciated)e(with)f
Fc(rd)g Fe(and)g(set)h Fc(closed\(rd\))k(:=)h(TRUE)p
Fe(.)418 1420 y(The)16 b(do)q(cumen)o(tation)f(of)g(a)g(pro)q(cedure)j
(that)e(creates)i(a)d(reader)i(should)f(sp)q(ecify)418
1469 y(what)h(resources)i(are)e(released)i(when)e(the)h(reader)g(is)f
(closed.)28 b(This)17 b(lea)o(v)o(es)g Fc(rd)418 1519
y Fe(closed)d(ev)o(en)h(if)e(it)g(raises)i(an)e(exception,)i(and)e(is)h
(a)g(no-op)f(if)g Fc(rd)g Fe(is)h(closed.)418 1616 y
Fg(PROCEDURE)20 b(Index\(rd:)f(T\):)j(CARDINAL)e(RAISES)g({};)418
1678 y Fe(This)13 b(is)h(equiv)n(alen)o(t)f(to:)480 1775
y Fg(IF)21 b(closed\(rd\))f(THEN)h Fl(Cause)14 b(c)o(hec)o(k)o(ed)i
(run)o(time)c(error)23 b Fg(END;)480 1825 y(RETURN)d(cur\(rd\))418
1922 y(PROCEDURE)g(Length\(rd:)f(T\):)i(INTEGER)g(RAISES)f({Failure,)g
(Alerted};)418 1984 y Fe(This)13 b(is)h(equiv)n(alen)o(t)f(to:)480
2081 y Fg(IF)21 b(closed\(rd\))f(THEN)523 2131 y Fl(Cause)15
b(c)o(hec)o(k)o(ed)g(run)o(time)e(error)480 2181 y Fg(END;)480
2231 y(RETURN)20 b(len\(rd\))318 2304 y Fl(If)26 b Fg(len\(rd\))f
Fl(is)h(unkno)o(wn)g(to)g(the)h(implem)o(en)o(tation)c(of)j(an)g(in)o
(termitten)o(t)f(reader,)318 2354 y Fg(Length\(rd\))12
b Fl(returns)j(-1.)418 2449 y Fg(PROCEDURE)20 b(Intermittent\(rd)o(:)f
(T\):)i(BOOLEAN)g(RAISES)f({};)p eop
%%Page: 57 67
57 66 bop 141 162 a Fe(5.4)41 b(T)m(extW)m(r)13 b(and)h(T)m(extRd)926
b Fl(57)241 307 y Fg(PROCEDURE)20 b(Seekable\(rd:)f(T\):)i(BOOLEAN)f
(RAISES)h({};)241 357 y(PROCEDURE)f(Closed\(rd:)f(T\):)i(BOOLEAN)g
(RAISES)f({};)241 420 y Fe(Return)11 b Fc(intermittent\(rd\))o
Fe(,)d Fc(seekable\(rd\))p Fe(,)g(and)j Fc(closed\(rd\))p
Fe(,)e(resp)q(ectiv)o(ely)m(.)241 469 y(These)15 b(can)f(b)q(e)g
(applied)g(to)f(closed)i(readers.)241 570 y Fg(END)21
b(Rd.)141 712 y Ff(5.4)56 b(T)-5 b(extW)g(r)18 b(and)h(T)-5
b(extRd)141 815 y Fl(A)12 b Fg(TextWr.T)p Fl(,)e(or)j(text)f(writer,)h
(is)f(a)g(writer)h(the)g(con)o(ten)o(ts)g(of)f(whose)h(in)o(ternal)f
(bu\013er)h(can)141 864 y(b)q(e)f(retriev)o(ed)h(as)f(a)g
Fg(TEXT)p Fl(.)e(Retrieving)i(the)g(bu\013er)h(resets)h(the)e(target)g
(to)g(b)q(e)g(empt)o(y)m(.)k(T)m(ext)141 914 y(writers)i(are)f
(bu\013ered,)h(seek)n(able,)g(and)e(nev)o(er)i(raise)f
Fg(Failure)e Fl(or)i Fg(Alerted)p Fl(.)25 b(The)17 b(fact)141
964 y(that)d(they)h(are)g(bu\013ered)h(is)e(essen)o(tially)g(unobserv)n
(able,)h(since)g(there)h(is)e(no)g(w)o(a)o(y)f(for)h(the)141
1014 y(clien)o(t)g(to)g(access)h(the)g(target)f(except)h(through)f(the)
h(text)f(writer.)241 1112 y Fg(INTERFACE)20 b(TextWr;)241
1185 y(IMPORT)g(Wr;)241 1258 y(TYPE)284 1306 y(T)i(<:)f(Public;)284
1356 y(Public)g(=)g(Wr.T)g(OBJECT)g(METHODS)f(init\(\):)h(T)g(END;)141
1431 y Fl(The)15 b(call)e Fg(wr.init\(\))f Fl(initializes)h
Fg(wr)h Fl(to)g(b)q(e)g(a)g(seek)n(able)h(writer)g(with)e
Fg(c\(wr\))g Fl(set)j(to)d(the)141 1481 y(empt)o(y)d(sequence)j(and)d
Fg(cur\(wr\))f Fl(to)i(0.)17 b(The)11 b(writer)g(has)g(no)g(upp)q(er)g
(b)q(ound)g(on)g(its)g(length.)241 1581 y Fg(PROCEDURE)20
b(New\(\):)g(T;)241 1644 y Fe(Equiv)n(alen)o(t)13 b(to)g
Fc(NEW\(T\).init\(\))p Fe(.)241 1744 y Fg(PROCEDURE)20
b(ToText\(wr:)f(T\):)i(TEXT;)241 1807 y Fe(Return)14
b Fc(c\(wr\))p Fe(,)e(resetting)j Fc(c\(wr\))e Fe(to)h(the)g(empt)o(y)f
(sequence)j(and)e Fc(cur\(wr\))e Fe(to)i(0.)241 1907
y Fg(END)21 b(TextWr.)141 2008 y Fl(A)j Fg(TextRd.T)p
Fl(,)d(or)j(text)g(reader,)j(is)d(a)f(reader)i(that)f(deliv)o(ers)g
(the)h(c)o(haracters)g(of)e(a)141 2058 y Fg(TEXT)17 b
Fl(supplied)i(when)f(the)h(reader)g(w)o(as)f(created.)33
b(T)m(ext)18 b(readers)h(are)g(seek)n(able,)g(non-)141
2107 y(in)o(termitten)o(t,)13 b(and)g(nev)o(er)i(raise)f
Fg(Failure)f Fl(or)h Fg(Alerted)p Fl(.)241 2206 y Fg(INTERFACE)20
b(TextRd;)241 2279 y(IMPORT)g(Rd;)241 2352 y(TYPE)284
2399 y(T)i(<:)f(Public;)284 2449 y(Public)g(=)g(Rd.T)g(OBJECT)g
(METHODS)f(init\(t:)h(TEXT\):)f(T)i(END;)p eop
%%Page: 58 68
58 67 bop 318 162 a Fl(58)1042 b Fe(5)41 b(I/O)14 b(STREAMS)318
307 y Fl(The)g(call)f Fg(rd.init\(t\))f Fl(initializes)h
Fg(rd)g Fl(as)h(a)g(seek)n(able,)g(non-in)o(termitten)o(t)f(reader)i
(with:)480 381 y Fg(len\(rd\))20 b(=)i(Text.Length\(t\))480
431 y(src\(rd\))e(=)i Fl(c)o(haracters)15 b(of)f(t)480
481 y Fg(cur\(rd\))20 b(=)i(0)318 555 y Fl(It)14 b(is)g(a)f(c)o(hec)o
(k)o(ed)j(run)o(time)c(error)j(if)e Fg(t)22 b(=)f(NIL)p
Fl(.)418 653 y Fg(PROCEDURE)f(New\(t:)g(TEXT\):)h(T;)418
715 y Fe(Equiv)n(alen)o(t)13 b(to)g Fc(NEW\(T\).init\(t\))p
Fe(.)418 814 y Fg(END)21 b(TextRd.)318 954 y Ff(5.5)56
b(Stdio,)18 b(FileW)-5 b(r,)17 b(and)i(FileRd)318 1055
y Fg(Stdio)9 b Fl(pro)o(vides)g(streams)h(for)f(standard)h(input,)g
(standard)g(output,)g(and)g(standard)g(error.)318 1105
y(These)k(streams)f(corresp)q(ond)h(to)f(\014le)f(handles)h(returned)i
(b)o(y)d(the)i Fg(GetStandardHandle)o(s)318 1155 y Fl(pro)q(cedure)i
(in)d(the)i Fg(Process)d Fl(in)o(terface.)418 1251 y
Fg(INTERFACE)20 b(Stdio;)418 1323 y(IMPORT)g(Rd,)h(Wr;)418
1395 y(VAR)461 1443 y(stdin:)g(Rd.T;)461 1490 y(stdout:)g(Wr.T;)461
1538 y(stderr:)g(Wr.T;)461 1586 y(bufferedStderr:)e(Wr.T;)418
1660 y(END)i(Stdio.)318 1734 y Fl(The)12 b(initialization)e(of)h(these)
i(streams)f(dep)q(ends)i(on)e(the)g(underlying)g(op)q(erating)g
(system.)380 1784 y(If)i(the)h(standard)f(error)h(stream)e(is)h
(directed)i(to)e(a)f(terminal,)f(it)i(will)e(b)q(e)j(un)o(bu\013ered,)
318 1834 y(so)20 b(that)f(explicit)g Fg(Wr.Flush)f Fl(calls)h(are)h
(unnecessary)h(for)f(in)o(teractiv)o(e)f(programs.)34
b(A)318 1884 y(bu\013ered)20 b(v)o(ersion)e(of)g(the)g(standard)h
(error)g(stream)f(is)g(also)f(pro)o(vided,)i(but)f(programs)318
1933 y(should)c(not)f(use)i(b)q(oth)f Fg(stderr)f Fl(and)h
Fg(bufferedStderr)p Fl(.)380 1983 y(If)21 b(the)h(streams)f(are)h
(directed)h(to)e(or)g(from)f(random-access)i(\014les,)h(they)f(will)d
(b)q(e)318 2033 y(seek)n(able.)380 2083 y(It)h(is)f(p)q(ossible)g(that)
h Fg(stderr)e Fl(is)h(equal)g(to)g Fg(stdout)p Fl(.)33
b(Therefore,)21 b(programs)d(that)318 2133 y(p)q(erform)12
b(seek)i(op)q(erations)f(on)f Fg(stdout)f Fl(should)i(tak)o(e)g(care)g
(not)g(to)f(destro)o(y)i(output)e(data)318 2182 y(when)i(writing)f
(error)i(messages.)318 2281 y(A)f Fg(FileWr.T)p Fl(,)e(or)i(\014le)f
(writer,)h(is)g(a)g(writer)g(on)g(a)f Fg(File.T)p Fl(.)418
2377 y Fg(INTERFACE)20 b(FileWr;)418 2449 y(IMPORT)g(Wr,)h(File,)g
(OSError,)f(Pathname;)p eop
%%Page: 59 69
59 68 bop 141 162 a Fe(5.5)41 b(Stdio,)12 b(FileW)m(r,)h(and)h(FileRd)
823 b Fl(59)241 307 y Fg(TYPE)284 355 y(T)22 b(<:)f(Public;)284
403 y(Public)g(=)g(Wr.T)g(OBJECT)g(METHODS)328 450 y(init\(h:)f
(File.T;)g(buffered:)g(BOOLEAN)h(:=)g(TRUE\):)g(T)371
498 y(RAISES)g({OSError.E})284 548 y(END;)241 611 y Fe(If)14
b Fc(w)g Fe(is)h(a)f(\014le)h(writer)g(and)f Fc(h)h Fe(is)f(a)g(\014le)
h(handle,)f(the)i(call)d Fc(w.init\(h\))g Fe(initializes)h
Fc(w)241 661 y Fe(so)e(that)g(c)o(haracters)i(output)f(to)f
Fc(w)g Fe(are)g(written)h(to)f Fc(h)g Fe(and)g(so)g(that)h(closing)e
Fc(w)h Fe(closes)241 711 y Fc(h)p Fe(.)141 787 y Fl(If)i
Fg(h)g Fl(is)g(a)g(regular)g(\014le)h(handle)f(and)g
Fg(b)g Fl(is)g(a)g(Bo)q(olean,)g Fg(w.init\(h,)20 b(b\))14
b Fl(causes)h Fg(w)f Fl(to)g(b)q(e)h(a)141 837 y(bu\013ered)g(seek)n
(able)g(writer)f(and)g(initializes)f Fg(cur\(w\))f Fl(to)i
Fg(cur\(h\))p Fl(.)203 887 y(F)m(or)19 b(an)o(y)g(other)h(\014le)f
(handle)h Fg(h)p Fl(,)g Fg(w.init\(h,)g(b\))e Fl(causes)j
Fg(w)e Fl(to)h(b)q(e)g(a)f(nonseek)n(able)141 937 y(writer,)14
b(bu\013ered)h(if)e(and)h(only)f(if)g Fg(b)h Fl(is)g
Fg(TRUE)p Fl(,)e(and)i(initializes)f Fg(cur\(w\))f Fl(to)i(zero.)203
987 y(If)20 b(a)h(subsequen)o(t)h(writer)f(op)q(eration)f(on)g
Fg(w)h Fl(raises)g Fg(Wr.Failure)p Fl(,)e(the)i(asso)q(ciated)141
1037 y(exception)15 b(argumen)o(t)f(is)h(the)g Fg(AtomList.T)d
Fl(argumen)o(t)i(accompan)o(ying)f(an)h Fg(OSError.E)141
1087 y Fl(exception)h(from)d(a)h(\014le)h(op)q(eration)g(on)g
Fg(h)p Fl(.)241 1188 y Fg(PROCEDURE)20 b(Open\(p:)g(Pathname.T\):)f(T)j
(RAISES)e({OSError.E};)241 1251 y Fe(Return)15 b(a)f(\014le)h(writer)g
(whose)g(target)h(is)e(the)h(\014le)g(named)f Fc(p)p
Fe(.)20 b(If)14 b(the)h(\014le)g(do)q(es)h(not)241 1301
y(exist,)d(it)h(is)g(created.)19 b(If)14 b(the)g(\014le)g(exists,)g(it)
g(is)f(truncated)j(to)d(a)h(size)h(of)e(zero.)141 1377
y Fl(The)h(call)f Fg(Open\(p\))g Fl(is)h(equiv)n(alen)o(t)f(to)g(the)i
(follo)o(wing:)303 1453 y Fg(RETURN)20 b(NEW\(T\).init\(FS.OpenF)o
(ile\()o(p\)\))241 1581 y(PROCEDURE)g(OpenAppend\(p:)f(Pathname.T\):)g
(T)j(RAISES)e({OSError.E};)241 1644 y Fe(Return)15 b(a)f(\014le)h
(writer)g(whose)g(target)h(is)e(the)h(\014le)g(named)f
Fc(p)p Fe(.)20 b(If)14 b(the)h(\014le)g(do)q(es)h(not)241
1694 y(exist,)e(it)f(is)h(created.)20 b(If)13 b(the)i(\014le)f(exists,)
g(the)h(writer)f(is)g(p)q(ositioned)g(to)g(app)q(end)g(to)241
1743 y(the)g(existing)g(con)o(ten)o(ts)h(of)e(the)h(\014le.)141
1820 y Fl(The)g(call)f Fg(OpenAppend\(p\))f Fl(is)h(equiv)n(alen)o(t)g
(to)h(the)h(follo)o(wing:)303 1896 y Fg(WITH)21 b(h)g(=)h
(FS.OpenFile\(p,)d(truncate)h(:=)h(FALSE\))g(DO)346 1946
y(EVAL)g(h.seek\(RegularFile.O)o(rigi)o(n.End)o(,)e(0\);)346
1996 y(RETURN)i(NEW\(T\).init\(h\))303 2046 y(END)241
2174 y(END)g(FileWr.)141 2276 y Fl(A)14 b Fg(FileRd.T)p
Fl(,)e(or)i(\014le)f(reader,)i(is)f(a)f(reader)i(on)f(a)g
Fg(File.T)p Fl(.)241 2376 y Fg(INTERFACE)20 b(FileRd;)241
2449 y(IMPORT)g(Rd,)h(File,)g(OSError,)f(Pathname;)p
eop
%%Page: 60 70
60 69 bop 318 162 a Fl(60)1042 b Fe(5)41 b(I/O)14 b(STREAMS)418
307 y Fg(TYPE)461 355 y(T)22 b(<:)f(Public;)461 403 y(Public)g(=)g
(Rd.T)g(OBJECT)g(METHODS)505 450 y(init\(h:)f(File.T\):)g(T)i(RAISES)e
({OSError.E})461 500 y(END;)418 562 y Fe(If)14 b Fc(r)g
Fe(is)g(a)g(\014le)h(reader)g(and)g Fc(h)f Fe(is)g(a)g(\014le)h
(handle,)f(the)h(call)f Fc(r.init\(h\))e Fe(initializes)h
Fc(r)418 612 y Fe(so)h(that)g(reading)f Fc(r)h Fe(reads)h(c)o
(haracters)g(from)d Fc(h)p Fe(,)i(and)f(so)h(that)g(closing)f
Fc(r)h Fe(closes)h Fc(h)p Fe(.)318 687 y Fl(If)10 b Fg(h)g
Fl(is)g(a)h(regular)f(\014le)g(handle,)h Fg(r.init\(h\))d
Fl(causes)k Fg(r)e Fl(to)h(b)q(e)g(a)f(nonin)o(termitten)o(t,)f(seek)n
(able)318 737 y(reader)15 b(and)f(initializes)f Fg(cur\(r\))f
Fl(to)i Fg(cur\(h\))p Fl(.)380 787 y(F)m(or)21 b(an)o(y)g(other)h
(\014le)g(handle)f Fg(h)p Fl(,)h Fg(r.init\(h\))e Fl(causes)j
Fg(r)e Fl(to)g(b)q(e)h(an)f(in)o(termitten)o(t,)318 836
y(nonseek)n(able)14 b(reader)h(and)f(initializes)f Fg(cur\(r\))f
Fl(to)i(zero.)380 886 y(If)20 b(a)g(subsequen)o(t)h(reader)h(op)q
(eration)d(on)h Fg(r)g Fl(raises)h Fg(Rd.Failure)p Fl(,)e(the)h(asso)q
(ciated)318 936 y(exception)15 b(argumen)o(t)f(is)h(the)g
Fg(AtomList.T)d Fl(argumen)o(t)i(accompan)o(ying)f(an)h
Fg(OSError.E)318 986 y Fl(exception)h(from)d(a)h(\014le)h(op)q(eration)
g(on)g Fg(h)p Fl(.)418 1086 y Fg(PROCEDURE)20 b(Open\(p:)g
(Pathname.T\):)f(T)j(RAISES)e({OSError.E};)418 1148 y
Fe(Return)14 b(a)h(\014le)f(reader)h(whose)g(source)h(is)e(the)h
(\014le)g(named)e Fc(p)p Fe(.)19 b(If)14 b(the)h(\014le)f(do)q(es)h
(not)418 1198 y(exist,)e Fc(OSError.E)f Fe(is)i(raised)g(with)g(an)g
(implem)o(en)o(tation-de\014ned)e(co)q(de.)318 1272 y
Fl(The)i(call)f Fg(Open\(p\))g Fl(is)h(equiv)n(alen)o(t)f(to)480
1347 y Fg(RETURN)20 b(NEW\(T\).init\(FS.OpenF)o(ileR)o(eadon)o(ly\(p\))
o(\))418 1472 y(END)h(FileRd.)p eop
%%Page: 61 71
61 70 bop 1532 162 a Fl(61)141 307 y Fj(6)69 b(Op)r(erating)22
b(System)141 398 y Fl(The)h(in)o(terfaces)h(in)e(this)h(section)h(pro)o
(vide)e(access)j(to)d(op)q(erating)h(system)g(facilities:)141
448 y(timek)o(eeping,)c(\014les,)h(pathnames,)g(directories,)h(and)e
(pro)q(cesses.)37 b(The)19 b(in)o(terfaces)i(are)141
498 y(in)o(tended)15 b(to)e(b)q(e)i(implem)o(en)o(table)d(at)h(least)h
(on)g(POSIX)h([8)o(])e(and)h(Win32)f([12)o(])g(systems.)141
614 y Ff(6.1)56 b(Time)141 716 y Fl(A)14 b Fg(Time.T)f
Fl(represen)o(ts)k(a)d(momen)o(t)d(in)j(time,)e(rec)o(k)o(oned)k(as)e
(a)g(n)o(um)o(b)q(er)f(of)h(seconds)h(since)141 765 y(some)e(ep)q(o)q
(c)o(h)i(or)f(starting)f(p)q(oin)o(t.)241 863 y Fg(INTERFACE)20
b(Time;)241 936 y(TYPE)h(T)g(=)h(LONGREAL;)241 1010 y(PROCEDURE)e
(Now\(\):)g(T;)241 1073 y Fe(Return)14 b(the)g(curren)o(t)i(momen)o(t)
11 b(in)j(time.)241 1172 y Fg(VAR)21 b(\(*CONST*\))f(Grain:)g
(LONGREAL;)241 1235 y Fe(If)11 b(a)g(thread)h(p)q(erforms)g
Fc(t0)21 b(:=)g(Time.Now\(\);)f(t1)h(:=)h(Time.Now\(\))p
Fe(,)9 b(then)j(either)241 1285 y Fc(t1)21 b(=)h(t0)14
b Fe(or)g Fc(t1)21 b(>=)h(t0)f(+)h(Time.Grain)p Fe(.)17
b Fc(Grain)d Fe(alw)o(a)o(ys)f(lies)h(in)g(the)h(half-op)q(en)241
1334 y(in)o(terv)n(al)e Fc(\(0..1])f Fe(and)i(is)g(usually)f(no)g
(larger)h(than)g(one)g(sixtieth)g(of)f(a)h(second.)241
1434 y Fg(END)21 b(Time.)141 1509 y Fl(There)16 b(are)g(a)e(v)n(ariet)o
(y)h(of)f(timek)o(eeping)g(needs,)i(and)f Fg(Time.Now)e
Fl(ma)o(y)g(not)i(satisfy)g(all)f(of)141 1559 y(them.)26
b(It)16 b(is)h(in)o(tended)g(to)f(b)q(e)i(useful)f(for)f(recording)h
(times)f(and)g(measuring)g(in)o(terv)n(als)141 1609 y(arising)10
b(during)g(the)h(execution)g(of)f(computer)g(programs)g(with)g(a)g
(resolution)g(comparable)141 1658 y(to)k(h)o(uman)e(reaction)i(times.)
203 1708 y(The)24 b(ep)q(o)q(c)o(h)h(for)e(a)h Fg(Time.T)e
Fl(v)n(aries)i(from)e(one)i(op)q(erating)f(system)h(to)f(another.)141
1758 y(T)m(o)c(determine)h(the)h(ep)q(o)q(c)o(h,)g(call)e
Fg(Date.FromTime\(0.0D0,)f(Date.UTC\))p Fl(.)g(Note)i(that)141
1808 y(comm)o(unicating)c(a)i Fg(Time.T)g Fl(b)q(et)o(w)o(een)j
(systems,)f(sa)o(y)f(via)f(remote)h(pro)q(cedure)i(call)d(or)141
1858 y(pic)o(kles,)c(is)f(lik)o(ely)g(to)h(b)q(e)g(a)g(bad)f(idea.)203
1907 y(In)19 b(man)o(y)e(computers,)j Fg(Time.Now)e Fl(is)g(implemen)o
(ted)f(with)i(the)g(tec)o(hnology)g(of)f(an)141 1957
y(inexp)q(ensiv)o(e)c(wrist)o(w)o(atc)o(h,)f(and)g(is)g(therefore)i
(lik)o(ely)d(to)h(su\013er)i(from)d(similar)e(errors:)19
b(the)141 2007 y(rate)14 b(ma)o(y)e(v)n(ary)m(,)h(and)h(the)g(v)n(alue)
f(ma)o(y)f(b)q(e)j(c)o(hanged)f(b)o(y)g(a)f(h)o(uman)f(op)q(erator.)203
2057 y(The)19 b Fg(Thread)d Fl(in)o(terface)i(con)o(tains)g(pro)q
(cedures)i(that)e(dela)o(y)f(the)i(execution)f(of)f(the)141
2107 y(calling)c(thread)i(for)f(a)g(sp)q(eci\014ed)i(duration.)j(The)14
b Fg(Tick)g Fl(in)o(terface)h(pro)o(vides)f(access)i(to)e(a)141
2156 y(clo)q(c)o(k)g(with)f(subsecond)j(resolution.)141
2298 y Ff(6.2)56 b(Date)141 2399 y Fl(A)11 b Fg(Date.T)f
Fl(is)i(a)f(momen)o(t)d(in)j(time,)f(expressed)k(according)e(to)f(the)h
(standard)f(\(Gregorian\))141 2449 y(calendar,)29 b(as)d(observ)o(ed)i
(in)d(some)h(time)e(zone.)56 b(A)26 b Fg(Date.TimeZone)e
Fl(\(or)i(just)g(a)p eop
%%Page: 62 72
62 71 bop 318 162 a Fl(62)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)318 307 y Fl(time)i(zone\))j(is)e(an)h(ob)r(ject)g(that)g
(encapsulates)h(the)g(rules)f(for)f(con)o(v)o(erting)h(from)e(UTC)318
357 y(\(univ)o(ersal)k(co)q(ordinated)h(time,)g(sometimes)e(kno)o(wn)h
(as)g(Green)o(wic)o(h)h(mean)f(time\))f(to)318 407 y(lo)q(cal)f(time)f
(within)h(a)g(particular)g(jurisdiction,)h(taking)f(in)o(to)f(accoun)o
(t)i(da)o(yligh)o(t)e(time)318 457 y(when)d(appropriate.)418
559 y Fg(INTERFACE)20 b(Date;)418 634 y(IMPORT)g(Time;)418
709 y(TYPE)461 757 y(T)i(=)f(RECORD)505 805 y(year:)g(CARDINAL;)e(\(*)j
(e.g.,)f(1992)g(*\))505 852 y(month:)f(Month;)505 900
y(day:)h([1)g(..)h(31];)505 948 y(hour:)f([0)g(..)g(23];)505
996 y(minute:)f([0)i(..)f(59];)505 1043 y(second:)f([0)i(..)f(59];)505
1091 y(offset:)f(INTEGER;)505 1139 y(zone:)h(TEXT;)505
1186 y(weekDay:)f(WeekDay)461 1234 y(END;)461 1282 y(Month)h(=)h({Jan,)
e(Feb,)h(Mar,)g(Apr,)g(May,)g(Jun,)g(Jul,)679 1330 y(Aug,)g(Sep,)g
(Oct,)g(Nov,)g(Dec};)461 1380 y(WeekDay)g(=)g({Sun,)g(Mon,)g(Tue,)g
(Wed,)g(Thu,)g(Fri,)g(Sat};)318 1458 y Fl(A)15 b(date's)g
Fg(offset)e Fl(\014eld)i(sp)q(eci\014es)h(the)f(di\013erence)i(in)d
(the)h(readings)g(of)f(t)o(w)o(o)g(clo)q(c)o(ks,)h(one)318
1508 y(set)d(to)e(UTC)h(and)f(one)h(set)h(to)e(lo)q(cal)g(time,)f(at)i
(the)g(momen)o(t)d(the)j(date)g(o)q(ccurred,)i(and)e(th)o(us)318
1557 y(re\015ects)16 b(da)o(yligh)o(t)d(time)f(when)j(appropriate.)j
(This)c(di\013erence)i(is)e(sp)q(eci\014ed)i(in)d(seconds,)318
1607 y(with)d(p)q(ositiv)o(e)f(v)n(alues)h(corresp)q(onding)h(to)f(lo)q
(cal)f(zones)i(b)q(ehind)f(\(w)o(est)h(of)s(\))e(UTC.)h(A)g(date's)318
1657 y Fg(zone)j Fl(\014eld)g(sp)q(eci\014es)i(a)f(name)e(\(often)i(a)f
(three-letter)i(abbreviation\))e(for)g(the)h(time)e(zone)318
1707 y(in)h(whic)o(h)h(the)h(date)f(is)g(observ)o(ed,)g(for)g(example,)
e(\\PDT")h(for)h(P)o(aci\014c)g(Da)o(yligh)o(t)e(Time.)418
1809 y Fg(TYPE)21 b(TimeZone)f(<:)h(REFANY;)418 1886
y(VAR)g(Local,)f(UTC:)h(TimeZone;)418 1951 y Fc(Local)c
Fe(is)h(initialized)f(to)h(the)h(time)e(zone)i(in)f(whic)o(h)g(the)h
(computer)f(running)418 2001 y(this)d(program)e(is)j(lo)q(cated.)22
b Fc(UTC)14 b Fe(is)h(initialized)f(to)h(the)h(time)e(zone)i(for)f
(univ)o(ersal)418 2051 y(co)q(ordinated)f(time.)418 2155
y Fg(PROCEDURE)20 b(FromTime\(t:)f(Time.T;)h(z:)i(TimeZone)e(:=)h
(NIL\):)g(T;)418 2220 y Fe(Return)15 b(the)g(date)f(corresp)q(onding)i
(to)e Fc(t)p Fe(,)g(as)h(observ)o(ed)g(in)f(the)h(time)f(zone)h
Fc(z)p Fe(.)k(If)14 b Fc(z)418 2270 y Fe(is)f Fc(NIL)p
Fe(,)g Fc(Local)g Fe(is)h(used.)418 2372 y Fg(EXCEPTION)20
b(Error;)418 2449 y(PROCEDURE)g(ToTime\(READONLY)e(d:)k(T\):)f(Time.T)f
(RAISES)h({Error};)p eop
%%Page: 63 73
63 72 bop 141 162 a Fe(6.3)41 b(Tic)o(k)1215 b Fl(63)241
307 y Fe(Return)12 b(the)g(time)e(corresp)q(onding)i(to)f(the)h(date)g
Fc(d)p Fe(,)f(using)h(the)g(\014eld)f Fc(offset)f Fe(rather)241
357 y(than)16 b Fc(zone)f Fe(and)h(ignoring)f(the)i(\014eld)f
Fc(weekDay)p Fe(.)24 b(Raise)16 b Fc(Error)f Fe(if)h
Fc(d)g Fe(cannot)g(b)q(e)241 407 y(represen)o(ted)g(as)e(a)g
Fc(Time.T)p Fe(.)241 496 y Fg(END)21 b(Date.)141 566
y Fl(On)h(POSIX)h(systems,)h Fg(FromTime\(t,)19 b(Local\))i
Fl(calls)h Fg(localtime\(3\))p Fl(.)40 b(On)22 b(Win32)141
616 y(systems,)i(it)e(calls)g Fg(GetTimeZoneInfo)o(rmati)o(on)p
Fl(.)40 b(Some)21 b(systems)h(k)o(eep)h(lo)q(cal)e(time)141
665 y(instead)15 b(of)f(UTC,)h(and)f(t)o(ypically)f(don't)i(record)h
(the)f(iden)o(tit)o(y)f(of)g(the)i(lo)q(cal)d(time)h(zone.)141
715 y(On)j(suc)o(h)g(a)f(system,)h Fg(FromTime\(t,)j(Local\))15
b Fl(alw)o(a)o(ys)g(returns)k(a)d(result)h(with)f Fg(offset)141
765 y Fl(equal)e(to)f(zero)i(and)f Fg(zone)f Fl(equal)g(to)h
Fg("[Unknown)20 b(zone]")p Fl(,)12 b(and)i Fg(UTC)f Fl(is)h
Fg(NIL)p Fl(.)141 899 y Ff(6.3)56 b(Tic)n(k)141 995 y
Fl(A)17 b Fg(Tick.T)e Fl(represen)o(ts)k(a)e(v)n(alue)f(of)g(a)g(clo)q
(c)o(k)h(with)f(subsecond)i(resolution.)26 b(The)17 b(exact)141
1045 y(resolution)f(di\013ers)h(from)e(implem)o(en)o(tation)e(to)j
(implemen)o(tation)d(and)j(is)g(t)o(ypically)f(one)141
1095 y(sixtieth)f(of)f(a)h(second)h(or)f(smaller.)241
1182 y Fg(INTERFACE)20 b(Tick;)241 1249 y(IMPORT)g(Word;)241
1317 y(TYPE)h(T)g(=)h(Word.T;)241 1387 y(PROCEDURE)e(Now\(\):)g(T;)241
1446 y Fe(Return)14 b(the)g(curren)o(t)i(reading)e(of)f(the)h(tic)o(k)g
(clo)q(c)o(k.)241 1536 y Fg(PROCEDURE)20 b(ToSeconds\(t:)f(Word.T\):)h
(LONGREAL;)241 1595 y Fe(Return)14 b(the)g(n)o(um)o(b)q(er)g(of)f
(seconds)i(in)f Fc(t)f Fe(tic)o(ks.)241 1683 y Fg(EXCEPTION)20
b(Overflow;)241 1752 y(PROCEDURE)g(FromSeconds\(s:)e(LONGREAL\):)i
(Word.T)h(RAISES)f({Overflow};)241 1812 y Fe(Return)11
b(the)h(n)o(um)o(b)q(er)e(of)g(tic)o(ks)h(equiv)n(alen)o(t)g(to)f
Fc(s)h Fe(seconds,)i(rounded)e(to)g(the)h(nearest)241
1862 y(whole)i(n)o(um)o(b)q(er,)g(or)g(raise)h Fc(Overflow)e
Fe(if)h Fc(s)g Fe(is)g(negativ)o(e)h(or)f(the)i(result)f(w)o(ould)f
(not)241 1911 y(b)q(e)g(less)h(than)f Fc(2^Word.Size)p
Fe(.)241 2001 y Fg(END)21 b(Tick.)141 2070 y Fl(If)c
Fg(t0)f Fl(is)h(a)g(reading)g(of)g(the)h(tic)o(k)f(clo)q(c)o(k)g(and)g
Fg(t1)f Fl(is)h(another)h(reading)f(tak)o(en)g(less)h(than)141
2120 y Fg(2)163 2105 y(Word.Size)382 2120 y Fl(tic)o(ks)i(after)h
Fg(t0)p Fl(,)g(then)h(the)f(n)o(um)o(b)q(er)f(of)g(tic)o(ks)h(b)q(et)o
(w)o(een)h Fg(t0)e Fl(and)g Fg(t1)g Fl(is)141 2170 y
Fg(Word.Minus\(t1,)f(t0\))p Fl(.)203 2220 y(The)f(v)n(alues)f(returned)
j(b)o(y)d Fg(Tick.Now\(\))e Fl(and)j Fg(Time.Now\(\))d
Fl(t)o(ypically)h(w)o(on't)h(sta)o(y)141 2270 y(sync)o(hronized)c(for)f
(long)g(p)q(erio)q(ds)h(of)e(time.)16 b(The)d(purp)q(ose)g(of)f
Fg(Tick.Now\(\))e Fl(is)i(to)g(pro)o(vide)141 2319 y(accurate)20
b(measuremen)o(ts)f(of)f(short)i(in)o(terv)n(als.)32
b(The)20 b(purp)q(ose)g(of)e Fg(Time.Now\(\))f Fl(is)i(to)141
2369 y(pro)o(vide)k(\\w)o(all)e(clo)q(c)o(k")h(time,)h(preferably)g
(sync)o(hronized)h(with)f(UTC)g(\(co)q(ordinated)141
2419 y(univ)o(ersal)14 b(time\).)p eop
%%Page: 64 74
64 73 bop 318 162 a Fl(64)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)318 307 y Ff(6.4)56 b(OSError)318 407 y Fg(OSError.E)15
b Fl(is)h(an)h(exception)h(raised)f(b)o(y)f(a)h(n)o(um)o(b)q(er)f(of)g
(op)q(erating)h(system)f(in)o(terfaces)318 457 y(suc)o(h)f(as)f
Fg(File)p Fl(,)e Fg(FS)p Fl(,)h(and)h Fg(Process)p Fl(.)418
552 y Fg(INTERFACE)20 b(OSError;)418 623 y(IMPORT)g(AtomList;)418
694 y(TYPE)h(Code)g(=)g(AtomList.T;)418 765 y(EXCEPTION)f(E\(Code\);)
418 838 y(END)h(OSError.)318 912 y(E\(code\))d Fl(is)h(raised)g(b)o(y)g
(a)g(n)o(um)o(b)q(er)g(of)f(metho)q(ds)h(and)g(pro)q(cedures)j(in)c
(the)i(op)q(erating)318 961 y(system)14 b(in)o(terfaces)h(to)e(signal)g
(an)o(y)h(of)f(an)g(op)q(en-ended)j(class)e(of)f(failures.)318
1100 y Ff(6.5)56 b(File)318 1200 y Fl(A)14 b Fg(File.T)p
Fl(,)e(or)i Fd(\014le)h(hand)r(le)p Fl(,)f(is)g(a)g(source)h(and/or)f
(sink)f(of)h(b)o(ytes.)19 b(File)13 b(handles)h(pro)o(vide)318
1250 y(an)j(op)q(erating-system)g(indep)q(enden)o(t)i(w)o(a)o(y)e(to)g
(p)q(erform)g(ra)o(w)g(I/O.)g(F)m(or)h(bu\013ered)h(I/O,)318
1300 y(use)f(the)g Fg(FileRd)e Fl(and)h Fg(FileWr)f Fl(in)o(terfaces)i
(instead.)29 b(A)17 b(\014le)g(handle)g(is)h(created)g(using)318
1350 y Fg(OpenFile)12 b Fl(or)i Fg(OpenFileReadonly)d
Fl(in)i(the)h Fg(FS)g Fl(in)o(terface.)418 1444 y Fg(INTERFACE)20
b(File;)418 1515 y(IMPORT)g(Atom,)h(OSError,)f(Time;)418
1587 y(TYPE)461 1634 y(T)i(<:)f(Public;)461 1682 y(Public)g(=)g(OBJECT)
g(METHODS)505 1730 y(read\(VAR)f(\(*OUT*\))g(b:)i(ARRAY)e(OF)i(Byte;)
548 1778 y(mayBlock:)e(BOOLEAN)h(:=)g(TRUE\):)g(INTEGER)f(RAISES)g
({OSError.E};)505 1825 y(write\(READONLY)f(b:)i(ARRAY)g(OF)g(Byte\))g
(RAISES)g({OSError.E};)505 1873 y(status\(\):)f(Status)g(RAISES)h
({OSError.E};)505 1921 y(close\(\))f(RAISES)h({OSError.E})461
1969 y(END;)461 2016 y(Byte)g(=)h(BITS)f(8)g(FOR)g([0)h(..)f(255];)461
2064 y(Status)g(=)g(RECORD)505 2112 y(type:)g(Type;)505
2159 y(modificationTime)o(:)e(Time.T;)505 2207 y(size:)i(CARDINAL)461
2255 y(END;)461 2303 y(Type)g(=)h(Atom.T;)418 2376 y(END)f(File.)318
2449 y Fl(F)m(ormally)m(,)10 b(a)j(\014le)h(handle)g
Fg(h)g Fl(has)g(the)g(comp)q(onen)o(ts:)p eop
%%Page: 65 75
65 74 bop 141 162 a Fe(6.5)41 b(File)1227 b Fl(65)303
307 y Fg(type\(h\))129 b Fl(an)14 b(atom,)d(the)k(t)o(yp)q(e)f(of)g
(\014le)303 357 y Fg(readable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)303
407 y Fg(writable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)303
457 y Fg(src\(h\))151 b Fl(\(a)14 b Fg(REF)f Fl(to\))h(a)g(sequence)i
(of)d(b)o(ytes)303 506 y Fg(srcCur\(h\))85 b Fl(an)14
b(in)o(teger)g(in)g(the)g(range)g Fg([0..len\(src\(h\)\)])303
556 y(srcEof\(h\))85 b Fl(a)14 b(b)q(o)q(olean)303 606
y Fg(snk\(h\))151 b Fl(\(a)14 b Fg(REF)f Fl(to\))h(a)g(sequence)i(of)d
(b)o(ytes)303 656 y Fg(snkCur\(h\))85 b Fl(an)14 b(in)o(teger)g(in)g
(the)g(range)g Fg([0..len\(snk\(h\)\)])141 731 y Fl(The)k
Fg(src...)27 b Fl(comp)q(onen)o(ts)17 b(are)h(meaningful)c(only)j(if)f
Fg(readable\(h\))p Fl(.)26 b(The)18 b(sequence)141 780
y Fg(src\(h\))c Fl(is)h(zero-based:)21 b Fg(src\(h\)[i])13
b Fl(is)i(v)n(alid)f(for)g Fg(i)h Fl(from)e Fg(0)i Fl(to)g
Fg(len\(src\(h\)\)-1)p Fl(.)j(F)m(or)141 830 y(some)13
b(subt)o(yp)q(es)i(of)f Fg(File.T)p Fl(,)e(the)i(sequence)i
Fg(src\(h\))d Fl(can)h(gro)o(w)f(without)h(b)q(ound.)203
880 y(The)e Fg(snk...)17 b Fl(comp)q(onen)o(ts)11 b(are)h(meaningful)d
(only)h(if)h Fg(writable\(h\))p Fl(.)k(The)d(sequence)141
930 y Fg(snk\(h\))h Fl(is)g(zero)i(based:)k Fg(snk\(h\)[i])12
b Fl(is)h(v)n(alid)g(for)g Fg(i)h Fl(from)e Fg(0)i Fl(to)f
Fg(len\(snk\(h\)\)-1)p Fl(.)203 980 y(F)m(or)d(full)f(details)h(on)g
(the)h(seman)o(tics)f(of)f(a)h(\014le)h(handle,)f(consult)g(the)h(in)o
(terface)g(de\014ning)141 1029 y(the)g(particular)e(subt)o(yp)q(e,)j
(for)d(example,)h Fg(Pipe.T)p Fl(,)e Fg(Terminal.T)p
Fl(,)f(or)j Fg(RegularFile.T)p Fl(.)d(In)141 1079 y(the)13
b(case)h(where)g(no)e(exceptions)i(are)f(raised,)g(the)g(metho)q(ds)f
(of)g(the)h(subt)o(yp)q(es)h(of)e Fg(File.T)141 1129
y Fl(ob)q(ey)i(the)h(follo)o(wing)c(sp)q(eci\014cations:)203
1179 y(The)k(call)303 1254 y Fg(h.read\(b,)20 b(mayBlock\))141
1328 y Fl(is)14 b(equiv)n(alen)o(t)f(to)303 1403 y Fg(IF)21
b(NOT)g(readable\(h\))f(OR)h(NUMBER\(b\))f(=)i(0)f(THEN)346
1453 y Fl(Cause)15 b(c)o(hec)o(k)o(ed)g(run)o(time)e(error)303
1503 y Fg(END;)303 1553 y(IF)21 b(srcCur\(h\))f(=)i(len\(src\(h\)\))d
(AND)i(NOT)h(srcEof\(h\))e(THEN)346 1602 y(IF)i(NOT)f(mayBlock)f(THEN)h
(RETURN)g(-1)g(END;)346 1652 y Fl(Blo)q(c)o(k)14 b(un)o(til)f
Fg(srcCur\(h\))20 b(#)i(len\(src\(h\)\))d(OR)j(srcEof\(h\))303
1702 y(END;)303 1752 y(IF)f(srcCur\(h\))f(=)i(len\(src\(h\)\))d(THEN)i
(RETURN)g(0)g(END;)303 1802 y Fl(Cho)q(ose)14 b Fg(k)g
Fl(suc)o(h)h(that:)346 1851 y Fg(1)22 b(<=)f(k)h(<=)f
(MIN\(NUMBER\(b\),)e(len\(src\(h\)\)-srcCur\()o(h\)\);)303
1901 y(FOR)i(i)h(:=)f(0)h(TO)f(k-1)g(DO)346 1951 y(b[i])g(:=)h
(src\(h\)[srcCur\(h\)])o(;)346 2001 y(INC\(srcCur\(h\)\))303
2051 y(END;)303 2100 y(RETURN)e(k)203 2225 y Fl(A)13
b(result)g(of)f(zero)h(alw)o(a)o(ys)f(means)f(end)i(of)f(\014le.)18
b(The)13 b(meaning)d(of)i(a)g(subsequen)o(t)j(read)141
2275 y(after)f(end)g(of)e(\014le)i(has)f(b)q(een)i(reac)o(hed)g(is)e
(unde\014ned)i(for)e(a)g Fg(File.T)f Fl(but)h(ma)o(y)f(b)q(e)i
(de\014ned)141 2325 y(for)g(a)f(particular)h(subt)o(yp)q(e.)203
2374 y(The)h(call)303 2449 y Fg(h.write\(b\))p eop
%%Page: 66 76
66 75 bop 318 162 a Fl(66)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)318 307 y Fl(is)g(equiv)n(alen)o(t)f(to)480
384 y Fg(IF)21 b(NOT)g(writable\(h\))f(THEN)h Fl(Cause)14
b(c)o(hec)o(k)o(ed)i(run)o(time)c(error)23 b Fg(END;)480
434 y(FOR)e(i)h(:=)f(0)h(TO)f(NUMBER\(b\)-1)f(DO)523
485 y(IF)i(snkCur\(h\))e(=)h(len\(snk\(h\)\))f(THEN)567
535 y Fl(Extend)15 b Fg(snk\(h\))d Fl(b)o(y)i(one)g(b)o(yte)523
586 y Fg(END;)523 636 y(snk\(h\)[snkCur\(h\)])19 b(:=)i(b[i])523
687 y(INC\(srcCur\(h\)\))480 737 y(END;)318 814 y Fl(The)13
b Fg(read)f Fl(and)g Fg(write)g Fl(metho)q(ds)g(are)h(not)f(alertable)h
(b)q(ecause)h(it)e(isn't)h(p)q(ossible)g(to)f(alert)318
864 y(a)i(thread)g(blo)q(c)o(k)o(ed)g(in)f(a)h(Win32)f
Fg(ReadFile)f Fl(or)i Fg(WriteFile)e Fl(system)h(call.)380
914 y(The)i(call)480 991 y Fg(h.status\(\))318 1068 y
Fl(returns)21 b(a)e(result)h(whose)g Fg(type)e Fl(\014eld)h(con)o
(tains)h Fg(type\(h\))p Fl(.)32 b(See)20 b(the)g(do)q(cumen)o(tation)
318 1117 y(for)25 b(eac)o(h)g(subt)o(yp)q(e)h(of)f Fg(File.T)f
Fl(for)g(more)g(details,)k(including)c(the)h(v)n(alues)g(of)f(the)318
1167 y Fg(modificationTime)11 b Fl(and)i Fg(size)g Fl(\014elds)i(of)e
(the)h(result,)h(if)e(an)o(y)m(.)380 1218 y(The)i(call)480
1294 y Fg(h.close\(\))318 1371 y Fl(is)f(equiv)n(alen)o(t)f(to)480
1448 y Fg(readable\(h\))19 b(:=)j(FALSE;)480 1498 y(writable\(h\))d(:=)
j(FALSE)318 1575 y Fl(Additionally)m(,)17 b(it)h(releases)i(an)o(y)f
(subt)o(yp)q(e-sp)q(eci\014c)i(resources)g(used)e(b)o(y)g
Fg(h)p Fl(.)32 b(Ev)o(ery)19 b(\014le)318 1625 y(handle)14
b(should)f(b)q(e)i(closed.)380 1675 y(Clien)o(ts)i(should)f(assume)g
(that)h(\014le)f(handles)h(are)g(unmonitored)e(and)h(should)g(a)o(v)o
(oid)318 1725 y(concurren)o(t)e(accesses)g(to)e(a)f(\014le)h(handle)g
(from)e(m)o(ultiple)f(threads.)19 b(A)12 b(particular)f(subt)o(yp)q(e)
318 1775 y(of)i Fg(File.T)g Fl(ma)o(y)f(pro)o(vide)i(a)f(stronger)i(sp)
q(eci\014cation)g(with)e(resp)q(ect)j(to)e(atomicit)o(y)m(.)318
1921 y Ff(6.6)56 b(Pip)r(e)318 2025 y Fl(A)18 b Fg(Pipe.T)p
Fl(,)d(or)j(pip)q(e,)g(is)g(a)f(\014le)g(handle)h(that)f(pro)o(vides)h
(access)i(to)d(one)h(endp)q(oin)o(t)f(of)g(a)318 2075
y(unidirectional)d(c)o(hannel)h(that)f(is)h(t)o(ypically)e(used)i(to)g
(comm)o(unicate)d(b)q(et)o(w)o(een)k(a)f(paren)o(t)318
2125 y(and)f(a)f(c)o(hild)h(pro)q(cess)h(or)f(t)o(w)o(o)g(sibling)e
(pro)q(cesses.)21 b(\(See)15 b Fg(Process.Create)p Fl(.\))418
2225 y Fg(INTERFACE)20 b(Pipe;)418 2299 y(IMPORT)g(File,)h(OSError;)418
2373 y(TYPE)g(T)g(<:)h(File.T;)418 2449 y(VAR)f(\(*CONST*\))f
(FileType:)g(File.Type;)p eop
%%Page: 67 77
67 76 bop 141 162 a Fe(6.6)41 b(Pip)q(e)1214 b Fl(67)241
307 y Fe(Equal)13 b(to)h Fc(Atom.FromText\("P)o(ipe"\))o(.)241
405 y Fg(PROCEDURE)20 b(Open\(VAR)g(\(*OUT*\))g(hr,)h(hw:)g(T\))h
(RAISES)e({OSError.E};)241 467 y Fe(Create)14 b(a)g(new)g(c)o(hannel)g
(allo)o(wing)e(b)o(ytes)j(written)f(to)g Fc(hw)f Fe(to)h(b)q(e)g(read)h
(from)d Fc(hr)p Fe(.)241 566 y Fg(END)21 b(Pipe.)141
640 y Fl(Lik)o(e)14 b(ev)o(ery)g Fg(File.T)p Fl(,)e(a)i(pip)q(e)g
Fg(h)g Fl(has)g(the)g(comp)q(onen)o(ts)303 714 y Fg(type\(h\))129
b Fl(an)14 b(atom,)d(equal)j(to)g Fg(FileType)303 764
y(readable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)303 813
y Fg(writable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)141 887
y(Exactly)e(one)h(of)f Fg(readable\(h\))e Fl(and)j Fg(writable\(h\))d
Fl(is)i(true)i(\(un)o(til)e(the)h(pip)q(e)f(is)h(closed\).)203
937 y(A)h(pip)q(e)g Fg(h)g Fl(also)f(has)h(the)h(comp)q(onen)o(t)303
1011 y Fg(channel\(h\))63 b Fl(a)14 b(c)o(hannel)141
1085 y(If)d(there)h(are)f(pip)q(es)h Fg(hw)e Fl(and)h
Fg(hr)g Fl(with)f Fg(channel\(hw\))20 b(=)h(channel\(hr\))p
Fl(,)9 b Fg(writable\(hw\))p Fl(,)141 1135 y(and)i Fg(readable\(hr\))p
Fl(,)f(then)i(a)f(pro)q(cess)j(holding)c Fg(hw)h Fl(can)h(send)h
(information)8 b(to)k(a)f(pro)q(cess)141 1185 y(holding)i
Fg(hr)p Fl(.)203 1235 y(A)h(c)o(hannel)g Fg(c)g Fl(has)g(the)g(comp)q
(onen)o(ts)303 1309 y Fg(seq\(c\))42 b Fl(a)14 b(sequence)i(of)d(b)o
(ytes)303 1359 y Fg(w\(c\))86 b Fl(a)14 b(non-negativ)o(e)f(in)o
(teger,)h(the)h(index)e(of)h(the)g(next)h(b)o(yte)f(to)g(write)303
1408 y Fg(r\(c\))86 b Fl(a)14 b(non-negativ)o(e)f(in)o(teger,)h(the)h
(index)e(of)h(the)g(next)h(b)o(yte)f(to)g(read)303 1458
y Fg(nw\(c\))64 b Fl(a)14 b(non-negativ)o(e)f(in)o(teger,)h(the)h(n)o
(um)o(b)q(er)e(of)g(pip)q(es)i(writing)e Fg(c)303 1508
y(nr\(c\))64 b Fl(a)14 b(non-negativ)o(e)f(in)o(teger,)h(the)h(n)o(um)o
(b)q(er)e(of)g(pip)q(es)i(reading)e Fg(c)141 1582 y Fl(It)19
b(is)f(p)q(ossible)h(\(but)g(not)f(v)o(ery)h(useful\))g(for)f(a)h(c)o
(hannel)f(to)h(ha)o(v)o(e)f(v)n(alues)h(of)f Fg(nw\(c\))f
Fl(or)141 1632 y Fg(nr\(c\))c Fl(other)h(than)g(zero)h(or)f(one)g
(\(see)h Fg(Process.Create)p Fl(\).)203 1682 y Fg(Open)e
Fl(creates)j(a)e(c)o(hannel)g Fg(c)f Fl(with)303 1756
y Fg(w\(c\))21 b(=)g(r\(c\))g(=)h(0)303 1806 y(nw\(c\))f(=)g(nr\(c\))g
(=)h(1)141 1880 y Fl(and)14 b(t)o(w)o(o)f(pip)q(es)i
Fg(hr)e Fl(and)h Fg(hw)f Fl(with)303 1954 y Fg(type\(hr\))20
b(=)i(type\(hw\))e(=)h(FileType)303 2004 y(readable\(hr\))e(=)j
(writable\(hw\))d(=)j(TRUE)303 2053 y(writable\(hr\))d(=)j
(readable\(hw\))d(=)j(FALSE)303 2103 y(channel\(hr\))d(=)j
(channel\(hw\))e(=)h(c)203 2177 y Fl(The)15 b(meaning)d(of)h(the)h
(call)303 2251 y Fg(h.read\(b,)20 b(mayBlock\))141 2325
y Fl(is)f(giv)o(en)g(b)o(y)f(the)i(sp)q(eci\014cation)g(of)e
Fg(File.T.read)f Fl(together)j(with)f(these)i(de\014nitions,)141
2375 y(where)15 b Fg(c)22 b(=)f(channel\(h\))p Fl(:)303
2449 y Fg(src\(h\))86 b(=)21 b(seq\(c\))p eop
%%Page: 68 78
68 77 bop 318 162 a Fl(68)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)480 307 y Fg(srcCur\(h\))20 b(=)h(r\(c\))480
357 y(srcEof\(h\))f(=)h(\(nw\(c\))g(=)h(0\))318 431 y
Fl(Note)15 b(that)g(end-of-\014le)g(is)f(not)h(rep)q(orted)h(un)o(til)e
(after)h(the)h(last)e(pip)q(e)h(that)g(can)g(write)g(on)318
480 y(the)f(c)o(hannel)h(is)e(closed;)h(subsequen)o(t)i(reads)f(are)f
(legal)f(but)h(alw)o(a)o(ys)f(rep)q(ort)i(end-of-\014le.)380
530 y(The)g(meaning)d(of)h(the)h(call)480 604 y Fg(h.write\(b\))318
678 y Fl(is)j(giv)o(en)f(b)o(y)h(the)g(sp)q(eci\014cation)h(of)e
Fg(File.T.write)f Fl(together)j(with)e(these)j(de\014nitions,)318
727 y(where)c Fg(c)22 b(=)f(channel\(h\))p Fl(:)480 801
y Fg(snk\(h\))86 b(=)21 b(seq\(c\))480 851 y(snkCur\(h\))f(=)h(w\(c\))
318 925 y Fl(In)15 b(some)f(implemen)o(tatio)o(ns,)e(a)j(c)o(hannel)g
(has)g(a)f(b)q(ounded)i(bu\013er,)g(so)f Fg(write)e Fl(ma)o(y)g(ha)o(v)
o(e)318 974 y(to)h(blo)q(c)o(k.)k(If)13 b Fg(nr\(channel\(h\)\))19
b(=)j(0)p Fl(,)13 b(that)h(is,)f(no)h(pip)q(e)g(can)g(read)h
Fg(h)p Fl('s)e(c)o(hannel,)h Fg(write)318 1024 y Fl(raises)h
Fg(OSError.E)p Fl(.)380 1074 y(The)g(call)480 1148 y
Fg(h.status\(stat\))318 1221 y Fl(assigns)20 b Fg(FileType)e
Fl(to)i Fg(stat.type)p Fl(.)35 b(Its)20 b(e\013ect)i(on)e
Fg(stat.modificatio)o(nTime)c Fl(and)318 1271 y Fg(stat.size)c
Fl(is)i(unde\014ned.)380 1321 y(The)h(call)480 1395 y
Fg(h.close\(\))318 1468 y Fl(is)f(equiv)n(alen)o(t)f(to)480
1542 y Fg(IF)21 b(readable\(h\))f(THEN)523 1592 y
(DEC\(nr\(channel\(h\)\)\))480 1642 y(ELSE)523 1691 y
(DEC\(nw\(channel\(h\)\)\))480 1741 y(END;)480 1791 y(readable\(h\))f
(:=)j(FALSE;)480 1841 y(writable\(h\))d(:=)j(FALSE)318
1914 y Fl(The)h(c)o(hannel)f(connecting)h(a)f(pair)g(of)g(pip)q(es)h
(is)f(necessarily)i(monitored,)e(since)h(the)318 1964
y(purp)q(ose)16 b(of)f(the)h(c)o(hannel)g(is)f(to)g(allo)o(w)f(async)o
(hronous)i(comm)o(unicati)o(on)d(via)h(the)i(pip)q(es.)318
2014 y(Nev)o(ertheless,)c(an)d(individual)f(pip)q(e)h(should)h(b)q(e)g
(treated)g(as)g(unmonitored,)e(th)o(us)i(a)o(v)o(oiding)318
2064 y(the)k(question)h(of)e(the)h(unit)g(of)f(atomicit)o(y)f(for)h
(reads)i(and)f(writes.)318 2203 y Ff(6.7)56 b(T)-5 b(erminal)318
2304 y Fl(A)18 b Fg(Terminal.T)p Fl(,)e(or)i(terminal)e(handle,)j(is)f
(a)g(\014le)g(handle)g(that)g(pro)o(vides)g(access)i(to)e(a)318
2354 y(duplex)c(comm)o(unicatio)o(n)d(c)o(hannel)j(usually)f(connected)
j(to)e(a)f(user)i(terminal.)418 2449 y Fg(INTERFACE)20
b(Terminal;)p eop
%%Page: 69 79
69 78 bop 141 162 a Fe(6.7)41 b(T)m(erminal)1131 b Fl(69)241
307 y Fg(IMPORT)20 b(File;)241 379 y(TYPE)h(T)g(<:)h(File.T;)241
454 y(VAR)f(\(*CONST*\))f(FileType:)g(File.Type;)241
516 y Fe(Equal)13 b(to)h Fc(Atom.FromText\("T)o(ermin)o(al"\).)241
614 y Fg(END)21 b(Terminal.)141 688 y Fl(Lik)o(e)14 b(ev)o(ery)g
Fg(File.T)p Fl(,)e(a)i(terminal)e(handle)i Fg(h)f Fl(has)h(the)h(comp)q
(onen)o(ts)303 763 y Fg(type\(h\))129 b Fl(an)14 b(atom,)d(equal)j(to)g
Fg(FileType)303 812 y(readable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)303
862 y Fg(writable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)141
936 y(A)i(terminal)e(handle)h(is)h(readable,)g(or)g(writable,)f(or)h(b)
q(oth)f(\(un)o(til)g(it)h(is)f(closed\).)25 b(If)15 b(it)g(is)141
986 y(readable,)f(it)f(has)h(the)h(comp)q(onen)o(t)303
1060 y Fg(srcTerm\(h\))63 b Fl(a)14 b(terminal)e(device)141
1135 y(If)i(it)f(is)h(writable,)f(it)g(has)h(the)h(comp)q(onen)o(t)303
1209 y Fg(snkTerm\(h\))63 b Fl(a)14 b(terminal)e(device)141
1283 y(A)i(terminal)e(device)j Fg(t)e Fl(has)h(the)h(comp)q(onen)o(ts)
303 1357 y Fg(seq\(t\))64 b Fl(a)14 b(sequence)i(of)d(b)o(ytes)303
1407 y Fg(r\(t\))108 b Fl(a)14 b(non-negativ)o(e)f(in)o(teger,)h(the)g
(index)g(of)g(the)g(next)g(b)o(yte)h(to)e(read)303 1457
y Fg(w\(t\))108 b Fl(a)14 b(non-negativ)o(e)f(in)o(teger,)h(the)g
(index)g(of)g(the)g(next)g(b)o(yte)h(to)e(write)303 1507
y Fg(flag\(t\))42 b Fl(a)14 b(b)o(yte)g(reserv)o(ed)i(to)d(mark)g(the)h
(end-of-\014le)g(in)f Fg(seq\(t\))141 1581 y Fl(The)h(meaning)e(of)i
(the)g(call)303 1655 y Fg(h.read\(b,)20 b(mayBlock\))141
1729 y Fl(is)f(giv)o(en)g(b)o(y)f(the)i(sp)q(eci\014cation)g(of)e
Fg(File.T.read)f Fl(together)j(with)f(these)i(de\014nitions,)141
1779 y(where)h Fg(t)g(=)g(srcTerm\(h\))p Fl(,)e(and)h
Fg(k)g Fl(is)g(the)h(n)o(um)o(b)q(er)e(of)h(o)q(ccurrences)j(of)d
Fg(flag\(t\))f Fl(in)141 1829 y Fg(seq\(t\))13 b Fl(up)h(to)f
Fg(r\(t\)-1)p Fl(:)303 1903 y Fg(src\(h\))86 b(=)21 b
Fl(subsequence)c(of)c Fg(seq\(t\))g Fl(with)g(no)h(o)q(ccurrences)j(of)
c Fg(flag\(t\))303 1953 y(srcCur\(h\))20 b(=)h(r\(t\)-k)303
2003 y(srcEof\(h\))f(=)h(\(seq\(t\)\(r\(t\)\))f(=)h(flag\(t\)\))141
2077 y Fl(When)14 b(end-of-\014le)g(is)g(rep)q(orted,)h
Fg(r\(t\))e Fl(is)h(also)f(incremen)o(ted.)18 b(This)c(means)f
(subsequen)o(t)141 2127 y(reads)i(can)f(return)h(further)g(data)e(in)h
Fg(seq\(t\))p Fl(.)203 2177 y(The)h(meaning)d(of)h(the)h(call)303
2251 y Fg(h.write\(b\))141 2325 y Fl(is)j(giv)o(en)f(b)o(y)h(the)g(sp)q
(eci\014cation)h(of)e Fg(File.T.write)f Fl(together)j(with)e(these)j
(de\014nitions,)141 2375 y(where)c Fg(t)22 b(=)f(snkTerm\(h\))p
Fl(:)303 2449 y Fg(snk\(h\))86 b(=)21 b(seq\(t\))p eop
%%Page: 70 80
70 79 bop 318 162 a Fl(70)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)480 307 y Fg(snkCur\(h\))20 b(=)h(w\(t\))318
378 y Fl(A)d(sp)q(eci\014c)h(implemen)o(tation)c(ma)o(y)h(pro)o(vide)i
(one)g(or)g(more)f(subt)o(yp)q(es)i(of)e Fg(Terminal.T)318
428 y Fl(with)d(additional)e(metho)q(ds.)380 478 y(The)e(comm)o
(unication)d(c)o(hannel)i(underlying)h(a)f(terminal)f(handle)i(is)f
(necessarily)i(mon-)318 528 y(itored,)g(since)h(the)g(purp)q(ose)g(of)f
(the)g(c)o(hannel)g(is)g(to)g(allo)o(w)f(async)o(hronous)i(comm)o(uni)o
(cation)318 578 y(b)q(et)o(w)o(een)i(a)e(program)f(and)i(a)f(user)i(op)
q(erating)e(a)g(terminal)f(device.)19 b(Ho)o(w)o(ev)o(er)13
b(a)f(terminal)318 627 y(handle)17 b(itself)f(should)h(b)q(e)g(treated)
h(as)f(unmonitored,)f(th)o(us)h(a)o(v)o(oiding)e(the)j(question)f(of)
318 677 y(the)d(unit)g(of)f(atomicit)o(y)f(for)h(reads)i(and)f(writes.)
318 813 y Ff(6.8)56 b(RegularFile)318 911 y Fl(A)26 b
Fg(RegularFile.T)p Fl(,)d(or)k(regular)f(\014le)g(handle,)j(pro)o
(vides)d(access)i(to)e(a)g(p)q(ersisten)o(t)318 961 y(extensible)15
b(sequence)h(of)d(b)o(ytes.)418 1052 y Fg(INTERFACE)20
b(RegularFile;)418 1121 y(IMPORT)g(File,)h(OSError;)418
1190 y(TYPE)461 1238 y(T)h(<:)f(Public;)461 1286 y(Public)g(=)g(File.T)
g(OBJECT)f(METHODS)505 1333 y(seek\(origin:)f(Origin;)h(offset:)h
(INTEGER\):)f(INTEGER)548 1381 y(RAISES)h({OSError.E};)505
1429 y(flush\(\))f(RAISES)h({OSError.E};)505 1476 y(lock\(\):)f
(BOOLEAN)g(RAISES)h({OSError.E};)505 1524 y(unlock\(\))f(RAISES)g
({OSError.E})461 1572 y(END;)461 1620 y(Origin)h(=)g({Beginning,)f
(Current,)g(End};)418 1691 y(VAR)h(\(*CONST*\))f(FileType:)g
(File.Type;)418 1751 y Fe(Equal)13 b(to)h Fc(Atom.FromText\("R)o(egula)
o(rFile)o("\).)418 1844 y Fg(END)21 b(RegularFile.)318
1915 y Fl(Lik)o(e)14 b(ev)o(ery)g Fg(File.T)p Fl(,)e(a)i(regular)g
(\014le)g(handle)f Fg(h)h Fl(has)g(the)h(comp)q(onen)o(ts)480
1986 y Fg(type\(h\))129 b Fl(an)14 b(atom,)d(equal)j(to)g
Fg(FileType)480 2036 y(readable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)480
2086 y Fg(writable\(h\))41 b Fl(a)14 b(b)q(o)q(olean)318
2157 y(A)g(regular)g(\014le)g(handle)g Fg(h)f Fl(also)g(has)h(the)h
(comp)q(onen)o(ts)480 2228 y Fg(cur\(h\))151 b Fl(an)14
b(in)o(teger,)g(the)g(index)g(of)f(the)i(next)f(b)o(yte)g(to)g(read)h
(or)e(write)480 2278 y Fg(file\(h\))129 b Fl(the)15 b(iden)o(tit)o(y)e
(of)g(a)h(regular)g(\014le)318 2350 y(There)k(ma)o(y)c(b)q(e)j
(distinct)g(regular)f(\014le)h(handles)f Fg(h1)g Fl(and)g
Fg(h2)g Fl(with)g Fg(file\(h1\))f Fl(equal)h(to)318 2399
y Fg(file\(h2\))p Fl(,)11 b(and)i(more)e(than)i(one)g(pro)q(cess)i(ma)o
(y)c(hold)h(a)h(single)f(regular)h(\014le)g(handle)g(\(see)318
2449 y Fg(Process.Create)p Fl(\).)p eop
%%Page: 71 81
71 80 bop 141 162 a Fe(6.8)41 b(RegularFile)1085 b Fl(71)203
307 y(A)14 b(regular)g(\014le)g(\(not)g(a)g(handle\))f
Fg(f)h Fl(has)g(the)h(comp)q(onen)o(ts)303 383 y Fg(buffer\(f\))42
b Fl(an)13 b(extensible)i(b)o(yte)f(sequence)303 433
y Fg(stable\(f\))42 b Fl(an)13 b(extensible)i(b)o(yte)f(sequence)303
484 y Fg(mtime\(f\))64 b Fl(a)13 b Fg(Time.T)p Fl(,)f(the)j(last)e(mo)q
(di\014cation)f(time)303 534 y Fg(locked\(f\))42 b Fl(a)13
b Fg(Process.ID)141 610 y Fl(The)j(sequences)i Fg(buffer\(f\))c
Fl(and)i Fg(stable\(f\))e Fl(are)i(zero-based)h(and)e(alw)o(a)o(ys)g
(ha)o(v)o(e)g(the)141 660 y(same)e(length.)18 b Fg(stable\(f\))11
b Fl(represen)o(ts)17 b(the)d(con)o(ten)o(ts)h(of)e(the)h(\014le)g(on)f
(the)h(disk)g(or)f(other)141 710 y(p)q(ersisten)o(t)21
b(storage)e(medium,)e(while)h Fg(buffer\(f\))f Fl(represen)o(ts)22
b(write-b)q(ehind)d(cac)o(hing)141 760 y(p)q(erformed)14
b(b)o(y)f(the)i(op)q(erating)e(system.)18 b(F)m(rom)12
b(time)h(to)h(time,)e(a)h(daemon)g(p)q(erforms)303 836
y Fg(WITH)21 b(i)g(=)h Fl(some)13 b(in)o(teger)h Fg(i)g
Fl(in)f(the)i(range)f Fg([0..len\(buffer\(f\)\))o(-1])k(DO)346
886 y(stable\(f\)\(i\))i(:=)h(buffer\(f\)\(i\))303 936
y(END)141 1012 y Fl(The)13 b(metho)q(ds)f(describ)q(ed)i(in)e(this)g
(in)o(terface)h(are)g(atomic)d(with)i(resp)q(ect)j(to)d(the)h(daemon.)
203 1062 y(The)i(meaning)d(of)h(the)h(call)303 1138 y
Fg(h.read\(b,)20 b(mayBlock\))141 1214 y Fl(is)f(giv)o(en)g(b)o(y)f
(the)i(sp)q(eci\014cation)g(of)e Fg(File.T.read)f Fl(together)j(with)f
(these)i(de\014nitions,)141 1264 y(where)15 b Fg(f)22
b(=)f(file\(h\))p Fl(:)303 1340 y Fg(src\(h\))86 b(=)21
b(buffer\(f\))303 1391 y(srcCur\(h\))f(=)h(cur\(h\))303
1441 y(srcEof\(h\))f(=)h(TRUE)141 1517 y Fl(Because)c
Fg(srcEof\(h\))12 b Fl(is)j(alw)o(a)o(ys)f Fg(TRUE)p
Fl(,)f Fg(read)h Fl(nev)o(er)h(blo)q(c)o(ks.)21 b(Ho)o(w)o(ev)o(er,)15
b(a)f(subsequen)o(t)141 1567 y(read)e(can)g(return)h(more)e(data)h(if)f
(an)g(in)o(terlea)o(v)o(ed)h(write)g(extends)h Fg(buffer\(f\))p
Fl(.)j(If)11 b Fg(cur\(h\))141 1617 y Fl(is)j(negativ)o(e)f(\(b)q
(ecause)j(of)d(a)h(prior)g(seek\),)g Fg(read)f Fl(raises)i
Fg(OSError.E)p Fl(.)203 1667 y(The)g(meaning)d(of)h(the)h(call)303
1743 y Fg(h.write\(b\))141 1819 y Fl(is)j(giv)o(en)f(b)o(y)h(the)g(sp)q
(eci\014cation)h(of)e Fg(File.T.write)f Fl(together)j(with)e(these)j
(de\014nitions,)141 1869 y(where)c Fg(f)22 b(=)f(file\(h\))p
Fl(:)303 1945 y Fg(snk\(h\))86 b(=)21 b(buffer\(f\))303
1995 y(snkCur\(h\))f(=)h(cur\(h\))141 2071 y Fl(In)13
b(addition,)f Fg(write)h Fl(sets)h Fg(mtime\(file\(h\)\))d
Fl(to)i(the)h(curren)o(t)h(time.)i(If)c Fg(write)f Fl(is)h(called)141
2121 y(when)k Fg(cur\(h\))j(>)i(size\(f\))14 b Fl(\(b)q(ecause)k(of)d
(a)h(prior)g(seek\),)h(it)f(extends)h Fg(f)f Fl(with)g(b)o(ytes)h(of)
141 2171 y(unde\014ned)e(v)n(alue.)i(If)d Fg(cur\(h\))f
Fl(is)g(negativ)o(e,)h Fg(write)e Fl(raises)j Fg(OSError.E)p
Fl(.)203 2221 y(The)g(call)303 2297 y Fg(h.status\(stat\))141
2373 y Fl(is)f(equiv)n(alen)o(t)f(to)h(the)g(follo)o(wing,)d(in)i(whic)
o(h)h Fg(stat)f Fl(is)h(a)f(lo)q(cal)g(v)n(ariable)g(of)h(t)o(yp)q(e)g
Fg(Status)p Fl(:)303 2449 y Fg(stat.type)20 b(:=)h(FileType;)p
eop
%%Page: 72 82
72 81 bop 318 162 a Fl(72)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)480 307 y Fg(stat.modification)o(Time)k(:=)k
(mtime\(file\(h\)\);)480 357 y(stat.size)e(:=)h(len\(buffer\(file\(h\))
o(\)\);)480 407 y(RETURN)f(stat)318 482 y Fl(The)14 b(call)480
556 y Fg(h.seek\(origin,)19 b(offset\))318 631 y Fl(is)14
b(equiv)n(alen)o(t)f(to)480 706 y Fg(CASE)21 b(origin)f(OF)523
756 y(Origin.Beginning)f(=>)i(cur\(h\))g(:=)g(offset)480
805 y(|)g(Origin.Current)e(=>)j(cur\(h\))e(:=)i(cur\(h\)+offset)480
855 y(|)f(Origin.End)f(=>)i(cur\(h\))e(:=)i(len\(buffer\(file)o
(\(h\)\)\))o(+offs)o(et)480 905 y(END;)480 955 y(RETURN)e(cur\(h\))318
1029 y Fl(Note)12 b(that)f Fg(seek)g Fl(nev)o(er)h(c)o(hanges)g(the)g
(length)g(of)f(the)h(\014le,)f(although)f(a)i(subsequen)o(t)h(write)318
1079 y(ma)o(y)k(do)i(so.)33 b(Use)20 b(the)g(call)e Fg
(h.seek\(Origin.Cur)o(rent,)g(0\))h Fl(to)f(determine)h
Fg(cur\(h\))318 1129 y Fl(without)14 b(c)o(hanging)f(it.)380
1179 y(The)i(call)480 1254 y Fg(h.flush\(\))318 1328
y Fl(is)f(equiv)n(alen)o(t)f(to)480 1403 y Fg(WITH)21
b(f)g(=)h(file\(h\))e(DO)523 1453 y(FOR)i(i)f(:=)h(0)f(TO)h
(len\(buffer\(f\)\)-)o(1)d(DO)567 1503 y(stable\(f\)\(i\))g(:=)j
(buffer\(f\)\(i\))523 1553 y(END)480 1602 y(END)318 1677
y Fl(The)14 b(call)480 1752 y Fg(h.close\(\))318 1826
y Fl(extends)h(the)g(normal)d(action)h(of)g(the)i Fg(close)e
Fl(metho)q(d)g(with)480 1901 y Fg(IF)21 b(locked\(file\(h\))e(=)j
(Process.GetMyID\()o(\))d(THEN)523 1951 y(locked\(file\(h\)\))g(:=)j
(Process.NullID)480 2001 y(END)318 2076 y Fl(The)14 b(call)480
2150 y Fg(h.lock\(\))318 2225 y Fl(is)g(equiv)n(alen)o(t)f(to:)480
2300 y Fg(IF)21 b(locked\(file\(h\)\))e(=)j(Process.NullID)c(THEN)523
2350 y(locked\(file\(h\)\))h(:=)j(Process.GetMyID)o(\(\);)523
2399 y(RETURN)f(TRUE)480 2449 y(END;)p eop
%%Page: 73 83
73 82 bop 141 162 a Fe(6.9)41 b(P)o(athname)1111 b Fl(73)303
307 y Fg(RETURN)20 b(FALSE)141 382 y Fl(The)14 b(call)303
458 y Fg(h.unlock\(\))141 533 y Fl(is)g(equiv)n(alen)o(t)f(to:)303
608 y Fg(IF)21 b(locked\(file\(h\)\))e(#)j(Process.GetMyID)o(\(\))d
(THEN)346 658 y(RAISE)i(OSError.E)303 708 y(END;)303
758 y(locked\(file\(h\)\))e(:=)i(Process.NullID)141 834
y Fl(Some)16 b(implem)o(en)o(tations)e(raise)j(an)g(exception)g(if)f(a)
h(pro)q(cess)h(tries)g(to)e(read)i(or)e(write)h(a)141
884 y(\014le)c(lo)q(c)o(k)o(ed)g(b)o(y)f(another)h(pro)q(cess.)20
b(Y)m(ou)12 b(should)h(treat)g(this)g(as)g(a)f(c)o(hec)o(k)o(ed)i(run)o
(time)e(error)141 933 y(rather)20 b(than)e(writing)g(co)q(de)i(to)e
(catc)o(h)i(and)e(reco)o(v)o(er)i(from)d(the)i(exception;)j(the)d(same)
141 983 y(applies)14 b(to)f(unlo)q(c)o(king)g(a)h(\014le)g(that)g(y)o
(ou)f(didn't)g(lo)q(c)o(k.)203 1033 y(Y)m(ou)h(lo)q(c)o(k)f(a)h(\014le)
g(with)f(co)q(de)i(lik)o(e)303 1108 y Fg(CONST)346 1158
y(MaxTry)21 b(=)h(3;)346 1209 y(RetryInterval)e(=)h(5.0D0;)303
1259 y(VAR)g(try)g(:=)h(1;)303 1309 y(BEGIN)346 1359
y(WHILE)f(NOT)g(h.lock\(\))g(DO)390 1409 y(IF)g(try=MaxTry)f(THEN)h
Fl(Giv)o(e)13 b(up)22 b Fg(END;)390 1459 y(INC\(try\);)390
1509 y(Time.Pause\(RetryIn)o(terva)o(l\))346 1559 y(END;)346
1609 y(TRY)g Fl(Read)13 b(or)h(write)g Fg(h)22 b(FINALLY)e
(h.unlock\(\))g(END)303 1659 y(END)141 1734 y Fl(The)g(regular)g
(\014le)f(underlying)h(a)f(regular)h(\014le)f(handle)h(is)f(monitored,)
g(th)o(us)h(allo)o(wing)141 1784 y(concurren)o(t)15 b(op)q(erations.)j
(W)m(e)12 b(lea)o(v)o(e)h(unsp)q(eci\014ed)h(the)g(unit)e(of)h
(atomicit)o(y)d(for)j(reads)g(and)141 1834 y(writes,)i(so)g(a)f(set)i
(of)e(pro)q(cesses)j(sharing)d(a)h(\014le)f(that)h(needs)h(to)e(b)q(e)i
(up)q(dated)f(should)f(use)141 1883 y(the)g Fg(lock)f
Fl(and)g Fg(unlock)f Fl(metho)q(ds.)18 b(A)13 b(regular)h(\014le)f
(handle)h(itself)f(should)g(b)q(e)h(treated)h(as)141
1933 y(unmonitored.)21 b(A)15 b(clien)o(t)g(thread)h(t)o(ypically)e
(needs)i(to)f(p)q(erform)g(a)g Fg(seek)f Fl(follo)o(w)o(ed)f(b)o(y)i(a)
141 1983 y Fg(read)g Fl(or)h Fg(write)e Fl(as)i(an)f(atomic)f(unit,)i
(whic)o(h)f(can)h(b)q(e)h(implem)o(en)o(ted)d(with)h(a)h(m)o(utex)f(in)
141 2033 y(the)f(clien)o(t.)141 2175 y Ff(6.9)56 b(P)n(athname)141
2278 y Fg(Pathname)10 b Fl(de\014nes)k(pro)q(cedures)g(for)e
(manipulating)d(pathnames)i(in)g(a)h(p)q(ortable)g(fashion.)241
2376 y Fg(INTERFACE)20 b(Pathname;)241 2449 y(IMPORT)g(TextSeq;)p
eop
%%Page: 74 84
74 83 bop 318 162 a Fl(74)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)418 307 y Fg(TYPE)461 355 y(T)22 b(=)f(TEXT;)461
405 y(Arcs)g(=)h(TextSeq.T;)318 483 y Fl(Most)13 b(op)q(erating)f
(systems)h(include)f(a)g(\014le)h(system)f(pro)o(viding)f(p)q(ersisten)
o(t)k(storage)d(\(\014les\))318 532 y(and)k(naming)d(\(directories\).)
25 b(The)16 b(name)e(space)j(is)f(usually)f(a)g(directed,)i(ro)q(oted)f
(graph)318 582 y(in)g(whic)o(h)h(in)o(terior)f(no)q(des)i(are)f
(directories)h(and)e(exterior)i(no)q(des)f(are)h(\014les)f(and)f(empt)o
(y)318 632 y(directories.)k(Eac)o(h)15 b(arc)g(is)f(lab)q(eled)g(with)g
(a)g(c)o(haracter)i(string)e(called)g(an)g(arc)h(name;)d(the)318
682 y(arc)f(names)g(in)f(an)o(y)h(one)g(directory)h(are)f(distinct.)17
b(A)11 b Fg(Pathname.T)e Fl(\(or)i(just)g(a)g(pathname\))318
732 y(is)f(a)f(text)i(conforming)c(to)j(the)g(syn)o(tax)g(of)f(the)i
(underlying)e(op)q(erating)h(system.)16 b(It)10 b(consists)318
782 y(of)15 b(a)f(sequence)k(of)c(arc)i(names)e(sp)q(ecifying)h(a)g
(path)g(starting)g(from)f(some)g(distinguished)318 831
y(directory)h(and)e(ending)h(at)g(the)g(referen)o(t)i(of)d(the)i
(pathname.)380 882 y(A)i(pathname)f(ma)o(y)e(b)q(e)k(absolute,)f(in)f
(whic)o(h)g(case)i(it)e(b)q(egins)h(with)g(the)g(name)e(of)h(a)318
932 y(ro)q(ot)h(directory)m(.)26 b(If)16 b(a)g(pathname)f(is)i(not)f
(absolute,)h(it)f(is)h(in)o(terpreted)h(relativ)o(e)e(to)g(the)318
982 y(w)o(orking)10 b(directory)i(asso)q(ciated)f(with)g(the)g(pro)q
(cess)i(\(see)f Fg(GetWorkingDirector)o(y)c Fl(in)i(the)318
1032 y Fg(Process)i Fl(in)o(terface\).)380 1083 y(Not)25
b(all)f(op)q(erating)h(systems)h(use)g(the)g(same)e(syn)o(tax)h(for)g
(pathnames,)i(so)e(w)o(e)318 1132 y(de\014ne)d(the)g(t)o(yp)q(e)f
Fg(Arcs)f Fl(to)h(represen)o(t)i(a)e(pathname)f(in)g(a)h(standard)g
(form)e(allo)o(wing)318 1182 y(manipulations)g(b)o(y)i(p)q(ortable)g
(programs.)39 b(Supp)q(ose)23 b Fg(a)e Fl(is)g(of)g(t)o(yp)q(e)h
Fg(Arcs)p Fl(.)39 b(Then)22 b Fg(a)318 1232 y Fl(is)g(non-)p
Fg(NIL)p Fl(,)f Fg(a.getlo\(\))f Fl(indicates)j(whether)g(or)f(not)h
(the)f(pathname)f(is)h(absolute,)318 1282 y(and)16 b
Fg(TextSeq.Sub\(a,)i(1\))e Fl(represen)o(ts)i(a)d(sequence)j(\(p)q
(ossibly)e(empt)o(y\))f(of)g(arc)h(names)318 1332 y(\(all)j(non-)p
Fg(NIL)p Fl(\).)f(If)i Fg(a)f Fl(represen)o(ts)k(an)d(absolute)g
(pathname,)f(then)i Fg(a.getlo\(\))d Fl(is)h(the)318
1381 y(ro)q(ot)d(directory)h(name)d(and)i(is)g(non-)p
Fg(NIL)p Fl(;)e(if)h Fg(a)h Fl(represen)o(ts)i(a)e(relativ)o(e)g
(pathname,)e(then)318 1431 y Fg(a.getlo\(\))e Fl(is)i
Fg(NIL)p Fl(.)380 1482 y(It)j(is)f(often)h(useful)f(to)h(view)f(an)g
(arc)h(name)e(as)i(ha)o(ving)e(t)o(w)o(o)h(parts,)i(a)e(base)h(and)f
(an)318 1532 y(extension,)e(separated)h(b)o(y)f(a)f(p)q(erio)q(d,)h
(for)g(example)e Fg(Pathname.i3)p Fl(.)380 1583 y(See)j(the)g(end)f(of)
f(this)h(in)o(terface)h(for)e(op)q(erating-system)h(sp)q(eci\014c)h
(details.)418 1685 y Fg(EXCEPTION)20 b(Invalid;)418 1762
y(PROCEDURE)g(Valid\(pn:)f(T\):)j(BOOLEAN;)418 1826 y
Fe(Return)16 b Fc(TRUE)g Fe(i\013)g Fc(pn)g Fe(conforms)f(to)h(the)h
(pathname)f(syn)o(tax)g(of)g(this)g(op)q(erating)418
1876 y(system.)318 1954 y Fl(When)d(a)f(pathname)g(with)h(in)o(v)n
(alid)d(syn)o(tax)j(is)g(passed)g(to)g(a)g(pro)q(cedure)h(in)f(this)g
(in)o(terface)318 2004 y(not)g(declared)h(as)f(raising)f(the)h
(exception)h Fg(Invalid)p Fl(,)d(the)j(result)g(is)e(unde\014ned,)i
(but)f(safe.)418 2108 y Fg(PROCEDURE)20 b(Decompose\(pn:)f(T\):)i(Arcs)
g(RAISES)f({Invalid};)418 2172 y Fe(P)o(arse)e Fc(pn)p
Fe(,)e(returning)i(a)f(sequence)i(whose)e(\014rst)h(elemen)o(t)f(is)f
(a)h(ro)q(ot)g(directory)418 2222 y(name)f(\(p)q(ossibly)h
Fc(NIL)p Fe(\))g(and)g(whose)h(remaining)d(elemen)o(ts)i(consist)h(of)f
(zero)h(or)418 2272 y(more)13 b(arc)h(names.)j(Raise)d
Fc(Invalid)e Fe(if)h Fc(Valid\(pn\))f Fe(is)i Fc(FALSE)p
Fe(.)318 2350 y Fg(Decompose)f Fl(returns)k(exactly)e(the)h(sequence)h
(of)d(arc)i(names)e(presen)o(t)j(in)d Fg(pn)p Fl(;)h(it)g(do)q(esn't)
318 2399 y(attempt)10 b(to)h(pro)q(duce)i(a)e(canonical)f(form.)16
b(Some)9 b(op)q(erating)j(systems)f(allo)o(w)e(zero-length)318
2449 y(arc)14 b(names)f(\(see)j(the)e(discussion)h(of)e(sp)q(eci\014c)i
(systems)f(at)g(the)g(end)h(of)e(this)h(section.\))p
eop
%%Page: 75 85
75 84 bop 141 162 a Fe(6.9)41 b(P)o(athname)1111 b Fl(75)241
307 y Fg(PROCEDURE)20 b(Compose\(a:)f(Arcs\):)i(T)g(RAISES)g
({Invalid};)241 371 y Fe(Com)o(bine)15 b(the)j(elemen)o(ts)g(of)e
Fc(a)i Fe(to)f(form)f(a)h(pathname)f(corresp)q(onding)i(to)g(the)241
421 y(syn)o(tax)c(of)g(this)g(op)q(erating)h(system.)k(Raise)14
b Fc(Invalid)f Fe(if)g Fc(a)i Fe(is)f Fc(NIL)p Fe(,)f(if)h
Fc(a.getlo\(\))241 471 y Fe(is)g(neither)h Fc(NIL)e Fe(nor)h(a)g(v)n
(alid)e(ro)q(ot)j(directory)f(name,)f(or)h(if)f(one)i(of)e(the)i(elmen)
o(ts)e(of)241 521 y Fc(TextSeq.Sub\(a,)19 b(1\))13 b
Fe(is)h(not)f(a)h(v)n(alid)e(arc)j(name.)241 624 y Fg(PROCEDURE)20
b(Absolute\(pn:)f(T\):)i(BOOLEAN;)241 688 y Fe(Return)26
b Fc(TRUE)e Fe(i\013)h Fc(pn)g Fe(is)h(an)f(absolute)g(pathname.)52
b(Equiv)n(alen)o(t)24 b(to)241 738 y Fc(Decompose\(pn\).ge)o(tlo\()o
(\))19 b(#)j(NIL)p Fe(,)12 b(but)j(faster.)241 842 y
Fg(PROCEDURE)20 b(Prefix\(pn:)f(T\):)i(T;)241 906 y Fe(Return)16
b(a)g(pathname)g(equal)g(to)g Fc(pn)g Fe(up)g(to,)g(but)h(not)f
(including,)g(the)h(\014nal)e(arc)241 956 y(name.)20
b(If)15 b Fc(pn)g Fe(consists)h(only)e(of)h(a)g(ro)q(ot)g(directory)h
(name,)d Fc(Prefix\(pn\))g Fe(returns)241 1006 y Fc(pn)p
Fe(.)241 1109 y Fg(PROCEDURE)20 b(Last\(pn:)g(T\):)h(T;)241
1173 y Fe(Return)16 b(the)g(\014nal)f(arc)h(name)e(in)i
Fc(pn)p Fe(.)22 b(If)16 b Fc(pn)f Fe(consists)i(only)d(of)h(a)h(ro)q
(ot)f(directory)241 1223 y(name,)d Fc(Last\(pn\))g Fe(returns)j(the)g
(empt)o(y)e(string.)241 1326 y Fg(PROCEDURE)20 b(Base\(pn:)g(T\):)h(T;)
241 1391 y Fe(Return)c(a)f(pathname)g(equal)g(to)h Fc(pn)f
Fe(except)j(with)d Fc(Last\(pn\))f Fe(replaced)j(b)o(y)e(its)241
1440 y(base.)241 1544 y Fg(PROCEDURE)k(Join\(pn,)g(base:)g(T;)i(ext:)f
(TEXT\):)f(T;)241 1608 y Fe(Return)15 b(a)g(pathname)f(formed)g(b)o(y)h
(prep)q(ending)h Fc(pn)f Fe(to)g Fc(base)f Fe(\(if)g
Fc(pn)h Fe(is)g(not)g Fc(NIL)p Fe(\))241 1658 y(and)h(app)q(ending)h
Fc(ext)f Fe(to)g Fc(base)g Fe(\(if)g Fc(ext)g Fe(is)g(not)h
Fc(NIL)p Fe(\).)e(More)i(precisely)m(,)h(this)e(is)241
1708 y(equiv)n(alen)o(t)d(to)h(the)g(follo)o(wing,)d(in)i(whic)o(h)h
Fc(a)g Fe(is)f(a)h(lo)q(cal)f(v)n(ariable)g(of)g(t)o(yp)q(e)h
Fc(Arcs)p Fe(:)303 1813 y Fg(IF)21 b(pn)h(=)f(NIL)g(THEN)g(a)h(:=)f
(NIL)303 1864 y(ELSE)346 1915 y(IF)h(Absolute\(base\))d(THEN)i
Fl(Cause)14 b(c)o(hec)o(k)o(ed)h(run)o(time)e(error)23
b Fg(END;)346 1965 y(a)f(:=)f(Decompose\(pn\))303 2016
y(END;)303 2067 y(IF)g(ext)g(#)h(NIL)f(THEN)g(base)g(:=)h(base)e(&)i
(".")f(&)h(ext)f(END;)303 2118 y(RETURN)f(Compose\()346
2168 y(TextSeq.Cat\(a,)f(TextSeq.Sub\(Decompo)o(se\(ba)o(se\),)f
(1\)\)\))141 2246 y Fl(The)c(v)n(alue)g(returned)h(b)o(y)f
Fg(Join)f Fl(will)g(b)q(e)h(a)g(v)n(alid)e(pathname)h(only)g(if)g(the)i
Fg(base)e Fl(and)h Fg(ext)141 2296 y Fl(conform)i(to)h(the)i(syn)o(tax)
e(of)g(the)h(particular)f(op)q(erating)h(system,)f(as)h(sp)q(eci\014ed)
h(at)e(the)141 2346 y(end)d(of)g(this)g(section.)241
2449 y Fg(PROCEDURE)20 b(LastBase\(pn:)f(T\):)i(T;)p
eop
%%Page: 76 86
76 85 bop 318 162 a Fl(76)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)418 307 y(Return)g(the)g(base)h(of)e(the)h(\014nal)f(arc)h
(name)f(of)g Fc(pn)p Fe(.)18 b(It)13 b(is)h(a)f(c)o(hec)o(k)o(ed)j(run)
o(time)c(error)418 357 y(if)h Fc(pn)g Fe(is)h(empt)o(y)f(or)h(consists)
g(only)g(of)f(a)g(ro)q(ot)h(directory)h(name.)418 458
y Fg(PROCEDURE)20 b(LastExt\(pn:)f(T\):)i(TEXT;)418 521
y Fe(Return)15 b(the)g(extension)g(of)g(the)g(last)f(arc)h(name)f(of)g
Fc(pn)p Fe(.)20 b(It)15 b(is)f(a)h(c)o(hec)o(k)o(ed)h(run)o(time)418
571 y(error)e(if)f Fc(pn)h Fe(is)g(empt)o(y)e(or)i(consists)h(only)e
(of)h(a)f(ro)q(ot)h(directory)h(name.)418 672 y Fg(PROCEDURE)20
b(ReplaceExt\(pn:)e(T;)k(ext:)f(TEXT\):)f(T;)418 735
y Fe(Return)14 b(a)f(pathname)g(equal)g(to)h Fc(pn)f
Fe(except)j(with)d(the)h(extension)h(of)e(the)i(\014nal)e(arc)418
785 y(name)f(replaced)j(with)f Fc(ext)p Fe(,)e(whic)o(h)i(m)o(ust)f(b)q
(e)i(non-)p Fc(NIL)p Fe(.)418 884 y Fg(VAR)21 b(\(*CONST*\))461
933 y(Parent:)g(TEXT;)418 996 y Fe(A)15 b(sp)q(ecial)h(arc)g(name)e
(that,)i(when)g(encoun)o(tered)i(during)d(a)g(pathname)f(lo)q(okup,)418
1046 y(stands)g(for)g(the)g(paren)o(t)h(of)e(the)h(directory)h(curren)o
(tly)g(b)q(eing)f(examined.)461 1147 y Fg(Current:)20
b(TEXT;)418 1210 y Fe(A)15 b(sp)q(ecial)h(arc)g(name)e(that,)i(when)g
(encoun)o(tered)i(during)d(a)g(pathname)f(lo)q(okup,)418
1260 y(stands)g(for)g(the)g(directory)h(curren)o(tly)g(b)q(eing)f
(examined.)418 1361 y Fg(END)21 b(Pathname.)318 1497
y Fn(POSIX.)41 b Fl(P)o(athnames)13 b(ha)o(v)o(e)h(the)g(syn)o(tax:)480
1573 y Fg(Pathname)20 b(=)i(Absolute)e(|)h(Relative.)480
1623 y(Absolute)f(=)i("/")f(Relative.)480 1673 y(Relative)f(=)i
([ArcName)e({"/")h(ArcName}].)318 1749 y(Parent)13 b
Fl(is)g(\\..")k(and)d Fg(Current)e Fl(is)i(\\.".)380
1799 y(There)j(is)e(only)f(one)h(ro)q(ot)h(directory)g(and)f(it)f(is)h
(named)f(\\/".)22 b(A)15 b(POSIX-complian)o(t)318 1849
y(system)f(m)o(ust)f(supp)q(ort)i(arc)f(names)f(at)h(least)g(as)g(long)
f(as)i(fourteen)f(c)o(haracters.)21 b(An)14 b(arc)318
1898 y(name)i(longer)g(than)h(the)g(maxim)o(um)12 b(supp)q(orted)18
b(is)f(either)h(silen)o(tly)e(truncated)i(b)o(y)e(the)318
1948 y(op)q(erating)10 b(system)g(or)g(is)g(rep)q(orted)i(as)e(an)g
(error,)i(dep)q(ending)f(on)f(a)f(con\014guration)h(option.)318
1998 y(A)16 b(zero-length)g(arc)g(name)e(is)i(treated)h(the)f(same)f
(as)g(\\.".)23 b(An)15 b(arc)h(name)f(ma)o(y)f(con)o(tain)318
2048 y(an)o(y)h(c)o(haracter)h(except)g(\\/")f(and)g(the)g(n)o(ull)f(c)
o(haracter,)j(but)e(for)g(maxim)n(um)10 b(p)q(ortabilit)o(y)318
2098 y(the)i(POSIX)g(sp)q(eci\014cation)h(recommends)d(they)j(b)q(e)f
(restricted)h(to)f(upp)q(er)g(and)g(lo)o(w)o(er)f(case)318
2147 y(letters,)k(digits,)d(and)i(these)i(sp)q(ecial)e(c)o(haracters:)
502 2223 y Fg(.)21 b(_)h(-)318 2299 y Fl(F)m(urthermore,)13
b(it)h(is)g(recommended)f(that)h(arc)g(names)f(not)h(start)g(with)g(h)o
(yphen)g(\(-\).)380 2349 y(The)h(extension)f(of)f(an)h(arc)g(name)f(is)
h(the)g(su\016x)g(starting)g(after)g(the)h(last)e(\\.".)380
2399 y(The)h(base)h(of)e(an)g(arc)h(name)f(is)g(the)i(pre\014x)f(up)g
(to,)f(but)h(not)f(including,)g(the)h(\014nal)f(\\.")318
2449 y(if)f(the)h(extension)h(is)f(nonempt)o(y;)e(it)i(is)f(the)i(en)o
(tire)f(arc)h(name)d(if)h(the)i(extension)f(is)g(empt)o(y)m(.)p
eop
%%Page: 77 87
77 86 bop 141 162 a Fe(6.9)41 b(P)o(athname)1111 b Fl(77)141
307 y Fn(Win32.)41 b Fl(P)o(athnames)26 b(ha)o(v)o(e)g(the)i(syn)o
(tax,)h(where)f(bac)o(kslash)f(is)g(not)g(an)f(escap)q(e)141
357 y(c)o(haracter)15 b(but)f(a)g(literal)f(c)o(haracter:)303
432 y Fg(Pathname)20 b(=)i(Absolute)e(|)h(Relative.)303
482 y(Absolute)f(=)i(Volume)e("\\")h(Relative.)303 532
y(Relative)f(=)i([ArcName)e({"\\")h(ArcName}].)303 582
y(ArcName)42 b(=)22 b(Base)f(".")g(Extension)f(|)h(".")g(|)h("..".)303
632 y(Volume)64 b(=)22 b(Drive)e(":")i(|)f("\\\\")g(Server)g("\\")g
(Share.)303 682 y(Server)64 b(=)22 b(?)303 732 y(Share)86
b(=)22 b(?)141 807 y(Parent)13 b Fl(is)g(\\..")k(and)d
Fg(Current)e Fl(is)i(\\.".)203 857 y(The)h(F)-5 b(A)m(T)14
b(\(MS-DOS\))h(\014le)f(system)g(restricts)i Fg(Drive)d
Fl(to)h(a)g(single)g(letter,)h(and)f Fg(Base)141 907
y Fl(to)g(b)q(et)o(w)o(een)h(one)f(and)g(eigh)o(t)f(letters,)i(digits,)
e(or)h(these)h(sp)q(ecial)f(c)o(haracters:)303 983 y
Fg($)21 b(\045)h(')g(-)f(_)h(@)f({)h(})g Fl(~)f(`)g Fg(!)h(#)g(\()f(\))
141 1058 y(Extension)8 b Fl(is)h(one)g(to)h(three)g(c)o(haracters)i
(from)7 b(the)j(same)f(set.)17 b(Certain)10 b Fg(Base)p
Fl(s,)f(including)141 1108 y(A)o(UX,)i(CLOCK$,)g(COM1,)h(CON,)f(LPT1,)g
(NUL,)g(and)g(PRN)g(are)h(reserv)o(ed|they)h(name)141
1157 y(devices,)k(regardless)g(of)e(the)h(directory)g(or)g(extension.)
23 b(Em)o(b)q(edded)16 b(\(but)g(not)f(trailing\))141
1207 y(spaces)g(are)g(allo)o(w)o(ed)d(in)i(the)g Fg(Base)f
Fl(of)g(a)h(\014le)g(name)f(\(but)h(not)g(a)f(directory)i(name\).)203
1257 y(The)d(HPFS)g(and)f(NTFS)h(\014le)f(systems)h(allo)o(w)d(arc)j
(names)f(up)g(to)g(254)g(c)o(haracters,)i(and)141 1307
y(these)i(additional)d(sp)q(ecial)i(c)o(haracters)i(are)e(allo)o(w)o
(ed:)303 1382 y Fg(,)21 b(+)h(=)g([)f(])h(;)141 1458
y Fl(Additionally)m(,)14 b(blank)i(is)g(signi\014can)o(t)g(an)o(ywhere)
h(in)f(an)h(arc)f(name)g(except)i(at)e(the)h(end.)141
1507 y(Win32)d(allo)o(ws)g(a)i(programmer)d(to)i(use)i(either)f(ANSI)g
(or)f(Unico)q(de)h(represen)o(tation)h(for)141 1557 y(pathname)c
(strings.)20 b(The)14 b(NTFS)h(\014le)f(system)g(stores)h(full)e(Unico)
q(de)i(pathnames)f(in)f(the)141 1607 y(directories.)141
1716 y Fn(Macin)o(tosh.)40 b Fl(P)o(athnames)13 b(ha)o(v)o(e)h(the)g
(syn)o(tax:)303 1791 y Fg(Pathname)64 b(=)21 b(Absolute)f(|)i
(Relative.)303 1841 y(Absolute)64 b(=)21 b(Volume)g(":")g([ArcName)f
({Colons)g(ArcName}].)303 1891 y(Relative)64 b(=)21 b(ArcName)543
1941 y(|)g(Colons)g(ArcName)f({Colons)g(ArcName}.)303
1991 y(Colons)108 b(=)21 b(":")g({":"}.)141 2066 y(Parent)13
b Fl(is)g(\\::")k(and)d Fg(Current)e Fl(is)i(\\:".)203
2116 y(A)f Fg(Volume)f Fl(is)g(one)h(to)g(t)o(w)o(en)o(t)o(y-sev)o(en)g
(prin)o(ting)f(c)o(haracters)j(excluding)d(colon)h(\(:\).)k(An)141
2166 y(arc)12 b(name)d(is)i(one)h(to)f(thirt)o(y-one)g(prin)o(ting)f(c)
o(haracters)j(excluding)e(colon.)17 b(A)11 b(single)g(colon)141
2216 y(is)j(a)f(separator;)i Fg(n+1)e Fl(adjacen)o(t)h(colons)g(means)f
(the)h Fg(n)p Fl(th)g(paren)o(t.)203 2266 y(The)f(extension)h(of)e(an)g
(arc)h(name)e(is)i(the)g(su\016x)f(starting)h(after)g(the)g(last)f
(\\.";)g(if)g(there)141 2316 y(is)i(no)f(\\.",)g(the)h(extension)h(is)f
(empt)o(y)m(.)203 2366 y(The)g(base)h(of)e(an)g(arc)h(name)f(is)g(the)i
(pre\014x)f(up)g(to,)f(but)h(not)f(including,)g(the)h(\014nal)f(\\.")
141 2416 y(if)f(the)h(extension)h(is)f(nonempt)o(y;)e(it)i(is)f(the)i
(en)o(tire)f(arc)h(name)d(if)h(the)i(extension)f(is)g(empt)o(y)m(.)p
eop
%%Page: 78 88
78 87 bop 318 162 a Fl(78)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)318 307 y Ff(6.10)56 b(FS)318 409 y Fl(The)14
b Fg(FS)g Fl(in)o(terface)g(pro)o(vides)g(p)q(ersisten)o(t)i(storage)e
(\(\014les\))h(and)f(naming)d(\(directories\).)418 506
y Fg(INTERFACE)20 b(FS;)418 578 y(IMPORT)g(OSError,)g(File,)h
(Pathname,)f(Time;)418 651 y(PROCEDURE)g(GetAbsolutePath)o(name\()o(p:)
f(Pathname.T\):)g(Pathname.T)483 701 y(RAISES)i({OSError.E};)418
763 y Fe(Return)14 b(an)g(absolute)g(pathname)e(referring)j(to)f(the)g
(same)f(\014le)h(or)g(directory)g(as)g Fc(p)p Fe(.)318
837 y Fl(The)g(new)g(pathname)f(will)f(not)i(in)o(v)o(olv)o(e)e(an)o(y)
h(sym)o(b)q(olic)f(links)h(or)h(relativ)o(e)f(arcs)i(\(that)f(is,)318
887 y(o)q(ccurrences)j(of)c Fg(Pathname.Parent)e Fl(or)j
Fg(Pathname.Current)p Fl(.)318 962 y(The)21 b(pro)q(cedures)i
Fg(OpenFile)c Fl(and)i Fg(OpenFileReadonl)o(y)d Fl(lo)q(ok)i(up)g(a)h
(pathname)e(and)318 1012 y(return)e(a)e(\014le)h(handle,)g(whic)o(h)f
(is)h(an)f(ob)r(ject)i(allo)o(wing)c(a)j(\014le)f(to)h(b)q(e)g(read)g
(and)g(p)q(erhaps)318 1061 y(written.)23 b(The)16 b(returned)h(v)n
(alue)e(will)e(b)q(e)j(of)f(some)g(subt)o(yp)q(e)h(of)f
Fg(File.T)p Fl(,)e(dep)q(ending)j(on)318 1111 y(the)j(kind)f(of)h(ob)r
(ject)g(named)f(b)o(y)g Fg(p)p Fl(.)32 b(If)18 b(the)i(ob)r(ject)f(is)g
(a)f(regular)h(\014le,)g(the)g(t)o(yp)q(e)h(will)318
1161 y(b)q(e)e Fg(RegularFile.T)p Fl(.)d(If)i(the)h(ob)r(ject)g(is)g(a)
f(terminal,)f(the)i(t)o(yp)q(e)g(will)e(b)q(e)j Fg(Terminal.T)p
Fl(.)318 1211 y(Other,)12 b(system-sp)q(eci\014c)f(subt)o(yp)q(es)h
(are)f(also)f(p)q(ossible.)17 b(Under)11 b(appropriate)g(conditions,)
318 1261 y Fg(OpenFile)k Fl(can)i(create)h(a)f(new)g(regular)g(\014le.)
26 b Fg(OSError.E)15 b Fl(is)i(raised)g(if)f(the)h(pathname)318
1310 y(passed)e(to)f Fg(OpenFile)e Fl(or)i Fg(OpenFileReadonly)c
Fl(is)k(that)g(of)f(a)h(directory)m(.)418 1408 y Fg(TYPE)461
1455 y(CreateOption)20 b(=)h({Never,)f(Ok,)i(Always};)461
1503 y(AccessOption)e(=)h({OnlyOwnerCanRead,)d(ReadOnly,)i(Default};)
418 1576 y(PROCEDURE)g(OpenFile\()505 1623 y(p:)h(Pathname.T;)505
1671 y(truncate:)f(BOOLEAN)g(:=)h(TRUE;)505 1719 y(create:)f
(CreateOption)f(:=)j(CreateOption.Ok;)505 1767 y(template:)e(File.T)g
(:=)i(NIL;)505 1814 y(access:)e(AccessOption)f(:=)j(AccessOption.Defa)o
(ult\))o(:)d(File.T)461 1864 y(RAISES)i({OSError.E};)418
1926 y Fe(Return)16 b(an)g(ob)r(ject)h(p)q(ermitting)e(writing)g(and)h
(reading)g(an)g(existing)g(or)g(newly-)418 1976 y(created)f(\014le)f
(named)f Fc(p)p Fe(.)318 2051 y Fl(Supp)q(ose)g Fg(p)g
Fl(names)e(an)h(existing)h(regular)f(\014le.)18 b(If)12
b Fg(create)20 b(=)i(Always)p Fl(,)11 b(then)i Fg(OSError.E)318
2100 y Fl(is)i(raised.)21 b(Otherwise,)15 b(the)h(existing)e(\014le)h
(is)g(op)q(ened,)g(after)g(truncating)g(it)f(to)h(zero)g(size)318
2150 y(if)e Fg(truncate)20 b(=)i(TRUE)p Fl(.)380 2200
y(On)16 b(the)h(other)f(hand,)g(supp)q(ose)g(the)h(\014le)f(named)e(b)o
(y)i Fg(p)f Fl(do)q(es)i(not)e(exist.)24 b(If)15 b Fg(create)318
2250 y(=)22 b(Never)p Fl(,)12 b(then)j Fg(OSError.E)e
Fl(is)h(raised.)19 b(Otherwise,)c(a)f(new)h(\014le)f(is)g(created.)21
b(Normally)318 2300 y(the)13 b(new)g(\014le)g(is)g(a)f(regular)h
(\014le,)f(but)h(some)f(implemen)o(tations)e(ma)o(y)h(determine)h(the)i
(t)o(yp)q(e)318 2350 y(of)i(the)h(new)g(\014le)f(from)f(the)i(iden)o
(tit)o(y)e(of)h(the)h(directory)g(in)f(whic)o(h)g(it)g(is)h(b)q(eing)f
(created.)318 2399 y(The)e(access)i(con)o(trol)e(settings)h(of)e(the)i
(new)f(\014le)g(are)g(set)h(using)f(the)h(v)n(alues)e(of)h
Fg(template)318 2449 y Fl(and)k Fg(access)p Fl(.)29 b(If)18
b Fg(template)i(#)h(NIL)p Fl(,)c(then)i Fg(access)e Fl(is)g(ignored)h
(and)g(the)h(new)f(\014le)g(is)p eop
%%Page: 79 89
79 88 bop 141 162 a Fe(6.10)40 b(FS)1226 b Fl(79)141
307 y(giv)o(en)11 b(the)i(same)e(p)q(er-\014le)h(access)i(con)o(trol)d
(settings)i(as)e Fg(template)p Fl(.)16 b(If)11 b Fg(template)21
b(=)g(NIL)p Fl(,)141 357 y(the)c(\014le's)g(access)h(con)o(trol)e
(settings)i(are)e(determined)h(b)o(y)f(an)h(implem)o(en)o
(tation-de\014ned)141 407 y(default)d(v)n(alue,)e(with)i(p)q(ossible)g
(restrictions)h(determined)f(b)o(y)g(the)g(v)n(alue)f(of)h
Fg(access)p Fl(:)141 498 y Fg(OnlyOwnerCanRead)j Fl(read)e(access)g(is)
f(allo)o(w)o(ed)f(only)g(b)o(y)h(this)g(user)141 581
y Fg(ReadOnly)19 b Fl(write)14 b(access)h(is)e(allo)o(w)o(ed)e(to)i(no)
g(one)h(\(except)g(via)f(the)h Fg(File.T)d Fl(returned)k(b)o(y)245
631 y(this)f(call)f(of)g Fg(OpenFile)p Fl(\))141 714
y Fg(Default)19 b Fl(the)c(default)e(applies)h(with)f(no)h
(restrictions.)203 806 y(A)g(newly-created)h(\014le)f
Fg(f)g Fl(has)303 881 y Fg(buffer\(f\))20 b(=)h(stable\(f\))f(=)i
Fl(empt)o(y)13 b(sequence)303 930 y Fg(mtime\(f\))20
b(=)i Fl(curren)o(t)15 b(time)303 980 y Fg(locked\(f\))20
b(=)h(Process.NullID)141 1055 y(OpenFile)12 b Fl(do)q(esn't)j(c)o
(hange)f Fg(mtime\(f\))e Fl(of)h(an)h(existing)f(\014le)h
Fg(f)p Fl(.)203 1105 y(If)f Fg(OpenFile)e Fl(returns)j(a)e(regular)h
(\014le)g(handle,)f(sa)o(y)g Fg(h)p Fl(,)h(then)g(its)g(initial)d
(state)k(will)d(b)q(e:)303 1180 y Fg(type\(h\))20 b(=)i
(RegularFile.FileT)o(ype)303 1230 y(readable\(h\))d(=)j(writable\(h\))e
(=)h(TRUE)303 1279 y(cur\(h\))f(=)i(0)303 1329 y(file\(h\))e(=)i
Fl(\014le)14 b(with)f(pathname)g Fg(p)141 1404 y Fl(T)m(o)g(app)q(end)i
(to)e(an)h(existing)g(\014le,)f(p)q(erform)g(the)h(call)303
1479 y Fg(EVAL)21 b(h.seek\(Origin.End)o(,)e(0\))141
1554 y Fl(after)14 b(op)q(ening)g Fg(h)p Fl(.)241 1651
y Fg(PROCEDURE)20 b(OpenFileReadonl)o(y\(p:)e(Pathname.T\):)i(File.T)
284 1701 y(RAISES)h({OSError.E};)241 1764 y Fe(Return)14
b(an)g(ob)r(ject)g(p)q(ermitting)f(reading)h(the)g(\014le)g(named)f(b)o
(y)g Fc(p)p Fe(.)141 1838 y Fl(If)g Fg(p)h Fl(names)f(a)g(regular)h
(\014le,)f(the)i(call)e Fg(OpenFileReadonl)o(y\(p\))d
Fl(returns)16 b(a)d(\014le)h(handle)f Fg(h)141 1888 y
Fl(with)303 1963 y Fg(type\(h\))20 b(=)i(Atom.FromText\("Re)o(gula)o
(rFile)o("\))303 2013 y(readable\(h\))d(=)j(TRUE)303
2063 y(writable\(h\))d(=)j(FALSE)303 2112 y(cur\(h\))e(=)i(0)303
2162 y(file\(h\))e(=)i Fl(\014le)14 b(with)f(pathname)g
Fg(p)241 2287 y(PROCEDURE)20 b(CreateDirectory)o(\(p:)f(Pathname.T\))g
(RAISES)i({OSError.E};)241 2349 y Fe(Create)14 b(a)g(directory)h(named)
e(b)o(y)g Fc(p)p Fe(.)241 2449 y Fg(PROCEDURE)20 b(DeleteDirectory)o
(\(p:)f(Pathname.T\))g(RAISES)i({OSError.E};)p eop
%%Page: 80 90
80 89 bop 318 162 a Fl(80)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)418 307 y(Delete)24 b(the)h(directory)g(named)e(b)o(y)h
Fc(p)p Fe(.)48 b Fc(OSError.E)22 b Fe(is)i(raised)h(if)e(the)418
357 y(directory)17 b(con)o(tains)g(en)o(tries)g(\(other)h(than)f(p)q
(erhaps)g Fc(Pathname.Current)d Fe(and)418 407 y Fc(Pathname.Parent)p
Fe(\).)418 507 y Fg(PROCEDURE)20 b(DeleteFile\(p:)f(Pathname.T\))461
557 y(RAISES)i({OSError.E};)418 620 y Fe(Delete)16 b(the)g(\014le)g(or)
g(device)g(named)f(b)o(y)h Fc(p)p Fe(.)23 b Fc(OSError.E)14
b Fe(is)h(raised)i(if)d Fc(p)i Fe(names)f(a)418 670 y(directory)m(.)318
746 y Fl(Note:)j(Under)c(Win32,)d Fg(DeleteFile)g Fl(raises)j
Fg(OSError.E)d Fl(if)h Fg(p)h Fl(is)g(op)q(en.)18 b(Under)c(POSIX,)318
796 y(an)g(op)q(en)g(\014le)g(ma)o(y)e(b)q(e)j(deleted;)g(the)f(\014le)
g(do)q(esn't)h(actually)e(disapp)q(ear)h(un)o(til)f(ev)o(ery)i(link)318
846 y(\(pathname\))e(for)h(it)f(is)h(deleted.)418 946
y Fg(PROCEDURE)20 b(Rename\(p0,)f(p1:)i(Pathname.T\))461
996 y(RAISES)g({OSError.E};)418 1059 y Fe(Rename)12 b(the)j(\014le)f
(or)g(directory)g(named)f Fc(p0)g Fe(as)h Fc(p1)p Fe(.)318
1136 y Fl(Some)i(implemen)o(tations)f(automatically)g(delete)j(an)g
(existing)f(\014le)h(named)e Fg(p1)p Fl(,)i(others)318
1186 y(raise)h Fg(OSError.E)p Fl(.)e(Some)g(implemen)o(tations)f
(disallo)o(w)h(a)i(rename)f(where)i Fg(p0)f Fl(and)g
Fg(p1)318 1235 y Fl(name)8 b(di\013eren)o(t)j(ph)o(ysical)e(storage)h
(devices)h(\(di\013eren)o(t)g(ro)q(ot)e(directories)i(or)f(\014le)f
(systems\).)418 1335 y Fg(TYPE)461 1383 y(Iterator)20
b(<:)i(PublicIterator;)461 1431 y(PublicIterator)d(=)j(OBJECT)e
(METHODS)505 1479 y(next\(VAR)g(\(*OUT*\))g(name:)h(TEXT\):)g(BOOLEAN;)
505 1526 y(nextWithStatus\(V)o(AR)e(\(*OUT*\))h(name:)h(TEXT;)548
1574 y(VAR)h(\(*OUT*\))e(stat:)h(File.Status\):)e(BOOLEAN;)505
1622 y(close\(\);)461 1670 y(END;)418 1745 y(VAR)i(\(*CONST*\))f
(DirectoryFileTyp)o(e:)f(File.Type;)418 1809 y Fe(Equal)13
b(to)h Fc(Atom.FromText\("D)o(irect)o(ory"\))o(.)418
1909 y Fg(PROCEDURE)20 b(Iterate\(p:)f(Pathname.T\):)h(Iterator)461
1959 y(RAISES)h({OSError.E};)418 2022 y Fe(Return)14
b(an)g(iterator)g(for)f(the)i(en)o(tries)g(of)e(the)i(directory)f
(named)f(b)o(y)h Fc(p)p Fe(.)318 2099 y Fl(An)21 b Fg(Iterator)f
Fl(supplies)i(information)c(ab)q(out)j(the)h(en)o(tries)g(in)f(a)g
(directory:)34 b(names)318 2148 y(and,)18 b(optionally)m(,)f(status.)31
b(The)18 b(iteration)g(do)q(es)h(not)f(include)g(en)o(tries)h(corresp)q
(onding)318 2198 y(to)14 b Fg(Pathname.Current)c Fl(or)k
Fg(Pathname.Parent)p Fl(.)380 2249 y(The)h(metho)q(ds)e(ha)o(v)o(e)h
(the)g(follo)o(wing)d(sp)q(eci\014cations:)380 2299 y(If)g(more)f(en)o
(tries)i(remain,)e(the)i(call)e Fg(i.next\(n\))g Fl(sets)i
Fg(n)f Fl(to)g(the)h(name)e(of)g(the)i(next)g(one)318
2349 y(and)h(returns)h Fg(TRUE)p Fl(.)e(It)h(returns)i
Fg(FALSE)d Fl(without)h(setting)g Fg(n)g Fl(if)f(no)h(more)f(en)o
(tries)i(remain.)380 2399 y(If)d(more)e(en)o(tries)j(remain,)d(the)i
(call)f Fg(i.nextWithStatus\(n,)18 b(s\))10 b Fl(sets)i
Fg(n)f Fl(to)f(the)h(name)318 2449 y(of)i(the)i(next)f(one,)g(sets)h
Fg(s)f Fl(to)g(the)h(status)f(of)g(that)g(en)o(try)m(,)f(and)h(returns)
i Fg(TRUE)p Fl(.)c(The)j(v)n(alue)p eop
%%Page: 81 91
81 90 bop 141 162 a Fe(6.10)40 b(FS)1226 b Fl(81)141
307 y(of)16 b Fg(s.type)g Fl(is)g Fg(DirectoryFileType)d
Fl(if)j(the)h(en)o(try)h(is)e(a)h(directory)m(.)26 b(The)18
b(call)e(returns)141 357 y Fg(FALSE)d Fl(without)g(setting)i
Fg(n)e Fl(or)h Fg(s)g Fl(if)f(no)g(more)g(en)o(tries)i(remain.)203
407 y(The)h(call)e Fg(i.close\(\))g Fl(releases)j(the)e(resources)j
(used)e(b)o(y)f Fg(i)p Fl(,)g(after)g(whic)o(h)g(time)f(it)h(is)141
457 y(a)f(c)o(hec)o(k)o(ed)h(run)o(time)e(error)h(to)g(use)h
Fg(i)p Fl(.)j(Ev)o(ery)c(iterator)g(should)g(b)q(e)g(closed.)203
507 y(Y)m(ou)g(iterate)g(o)o(v)o(er)g(the)h(en)o(tries)g(in)e(a)h
(directory)g(with)g(co)q(de)g(lik)o(e)g(this:)303 582
y Fg(VAR)346 632 y(i)22 b(:=)f(FS.Iterate\(pathname\))o(;)346
682 y(name:)g(TEXT;)303 732 y(BEGIN)346 782 y(TRY)390
832 y(WHILE)g(i.next\(name\))e(DO)434 882 y Fl(Pro)q(cess)d
Fg(name)390 932 y(END)346 982 y(FINALLY)390 1032 y(i.close\(\))346
1082 y(END)303 1132 y(END)141 1207 y Fl(Use)j Fg(nextWithStatus)c
Fl(instead)j(of)g Fg(next)f Fl(if)g(y)o(ou)h(w)o(ould)f(otherwise)i
(call)e Fg(Status)g Fl(\(or)141 1257 y(the)f Fg(File.T)e(status)g
Fl(metho)q(d\))g(on)h(most)f(of)h(the)g(en)o(tries)i(\(in)d(some)h
(implem)o(en)o(tations,)141 1307 y Fg(nextWithStatus)c
Fl(requires)k(an)f(extra)g(disk)g(access\).)203 1357
y(What)h(can)g(b)q(e)g(assumed)f(if)g(a)h(directory)g(is)g(b)q(eing)g
(up)q(dated)g(concurren)o(tly)h(with)e(an)141 1407 y(iteration?)26
b(An)17 b(en)o(try)g(that)g(is)f(not)h(inserted)h(or)e(deleted)i(will)d
(o)q(ccur)j(in)e(the)i(iteration)141 1457 y(at)d(least)h(once,)g(and)f
(an)g(en)o(try)h(that)f(o)q(ccurs)i(in)e(the)h(iteration)f(m)o(ust)f
(ha)o(v)o(e)h(b)q(een)i(in)d(the)141 1506 y(directory)h(at)e(some)g
(momen)o(t.)241 1605 y Fg(PROCEDURE)20 b(Status\(p:)f(Pathname.T\):)h
(File.Status)284 1655 y(RAISES)h({OSError.E};)241 1717
y Fe(Return)14 b(information)d(ab)q(out)j(the)g(\014le)g(or)g
(directory)h(named)d(b)o(y)i Fc(p)p Fe(.)141 1793 y Fl(P)o(ossible)g(v)
n(alues)g(of)f Fg(stat.type)f Fl(include)303 1868 y Fg
(FS.DirectoryFileT)o(ype)19 b Fl(\(a)13 b(directory\))303
1918 y Fg(RegularFile.FileT)o(ype)19 b Fl(\(a)13 b(disk)h(\014le\))303
1968 y Fg(Terminal.FileType)k Fl(\(a)c(terminal\))141
2043 y(If)g Fg(p)f Fl(is)h(a)f(disk)h(\014le,)g Fg(stat.modificati)o
(onTim)o(e)d Fl(and)j Fg(stat.size)e Fl(will)g(b)q(e)j(set.)203
2093 y(See)g(also)e(the)h Fg(status)f Fl(metho)q(d)g(of)g
Fg(File.T)f Fl(and)i(the)g Fg(nextWithStatus)d Fl(metho)q(d)i(of)141
2143 y Fg(Iterator)p Fl(.)241 2241 y Fg(PROCEDURE)20
b(SetModification)o(Time\()328 2289 y(p:)h(Pathname.T;)328
2337 y(READONLY)f(t:)h(Time.T\))284 2387 y(RAISES)g({OSError.E};)241
2449 y Fe(Change)14 b(the)g(mo)q(di\014cation)e(time)g(of)i(the)g
(\014le)g(or)g(directory)g(named)f(b)o(y)h Fc(p)f Fe(to)h
Fc(t)p Fe(.)p eop
%%Page: 82 92
82 91 bop 318 162 a Fl(82)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)418 307 y Fg(END)21 b(FS.)318 454 y Ff(6.11)56
b(Pro)r(cess)318 558 y Fl(A)20 b(pro)q(cess)i(is)e(the)g(execution)h
(of)f(a)f(program)g(b)o(y)h(one)g(or)g(more)f(threads)i(within)e(an)318
608 y(address)c(space.)k(A)14 b(pro)q(cess)i(ma)o(y)c(hold)h(a)h(v)n
(ariet)o(y)f(of)g(resources)k(suc)o(h)d(as)g(\014le)g(handles.)418
708 y Fg(INTERFACE)20 b(Process;)418 782 y(IMPORT)g(File,)h(OSError,)f
(Pathname;)418 858 y(TYPE)h(T)g(<:)h(REFANY;)418 921
y Fe(A)14 b Fc(Process.T)p Fe(,)d(or)j(pro)q(cess)i(handle,)d(pro)o
(vides)h(access)i(to)d(a)h(c)o(hild)f(pro)q(cess.)418
1022 y Fg(PROCEDURE)20 b(Create\()505 1069 y(cmd:)h(Pathname.T;)505
1117 y(READONLY)f(params:)g(ARRAY)h(OF)g(TEXT;)505 1165
y(env:)g(REF)g(ARRAY)g(OF)g(TEXT)g(:=)g(NIL;)505 1212
y(wd:)g(Pathname.T)f(:=)h(NIL;)505 1260 y(stdin,)f(stdout,)h(stderr:)f
(File.T)h(:=)g(NIL\):)g(T)461 1310 y(RAISES)g({OSError.E};)418
1374 y Fe(Create)14 b(a)e(new)i(pro)q(cess)h(and)d(cause)i(it)f(to)g
(execute)i(the)e(program)f(with)g(pathname)418 1423 y
Fc(cmd)p Fe(,)j(parameters)i Fc(params)p Fe(,)e(en)o(vironmen)o(t)g(v)n
(ariables)h Fc(env)p Fe(,)g(w)o(orking)f(directory)418
1473 y Fc(wd)p Fe(,)h(and)g(standard)h(\014le)f(handles)h
Fc(stdin)p Fe(,)e Fc(stdout)p Fe(,)g(and)i Fc(stderr)p
Fe(.)24 b(Return)17 b(the)418 1523 y(handle)c(of)h(the)g(new)g(pro)q
(cess.)318 1600 y Fl(If)9 b Fg(cmd)g Fl(consists)h(of)f(a)g(single)g
(\(relativ)o(e\))h(arc)g(name,)e(then)i(it)g(is)f(lo)q(ok)o(ed)g(up)g
(in)g(an)g(op)q(erating-)318 1650 y(system)14 b(dep)q(enden)o(t)j(w)o
(a)o(y)d(\(see)i(b)q(elo)o(w\).)k(Otherwise,)c Fg(cmd)e
Fl(is)g(lo)q(ok)o(ed)g(up)h(in)f(the)h(normal)318 1699
y(fashion)21 b(as)h(an)f(absolute)h(pathname)e(or)i(as)g(a)f(pathname)f
(relativ)o(e)i(to)f(the)i(curren)o(t)318 1749 y(w)o(orking)13
b(directory)i(\(not)f Fg(wd)p Fl(\).)380 1800 y(A)27
b(pro)q(cess)i(can)f(examine)d(its)i(o)o(wn)g(parameters)g(via)f(the)i
(in)o(terface)g Fg(Params)p Fl(.)318 1849 y(The)20 b(parameter)e
Fg(params[i])g Fl(passed)i(to)f Fg(Create)f Fl(will)g(corresp)q(ond)i
(to)f(the)h(v)n(alue)f(of)318 1899 y Fg(Params.Get\(i+1\))6
b Fl(in)k(the)g(newly)f(created)j(pro)q(cess)f(\(b)q(ecause)h
Fg(Params.Get\(0\))7 b Fl(returns)318 1949 y(the)20 b(command)c
(name\).)32 b(\(See)20 b(the)f Fg(Params)f Fl(in)o(terface)h(for)g(the)
h(w)o(a)o(y)e(SR)o(C)g(Mo)q(dula-3)318 1999 y(treats)d(parameters)f(b)q
(eginning)f(with)h(the)g(c)o(haracters)i Fg(@M3)p Fl(.\))380
2049 y(If)11 b Fg(env)f Fl(is)h(not)g Fg(NIL)p Fl(,)f(it)g(consists)i
(of)f(a)f(reference)k(to)d(an)f(arra)o(y)h(of)f(texts)i(that)f(m)o(ust)
f(ha)o(v)o(e)318 2099 y(the)k(form)e Fg(name=value)p
Fl(.)k(If)d Fg(env)g Fl(is)h Fg(NIL)p Fl(,)e(it)i(defaults)f(to)h(the)g
(en)o(vironmen)o(t)f(v)n(ariables)g(of)318 2149 y(the)j(caller's)g(pro)
q(cess.)25 b(A)16 b(pro)q(cess)h(can)f(examine)e(its)i(o)o(wn)f(en)o
(vironmen)o(t)g(v)n(ariables)g(via)318 2199 y(the)f(in)o(terface)h
Fg(Env)p Fl(.)380 2249 y(If)f Fg(wd)f Fl(is)h Fg(NIL)p
Fl(,)f(it)g(defaults)h(to)g(the)g(w)o(orking)f(directory)i(of)e(the)i
(caller's)e(pro)q(cess.)380 2300 y(If)g(an)o(y)f(of)g
Fg(stdin)p Fl(,)f Fg(stdout)p Fl(,)g(or)i Fg(stderr)e
Fl(are)i Fg(NIL)p Fl(,)f(the)h(corresp)q(onding)h(\014le)e(handle)h(of)
318 2350 y(the)j(new)g(pro)q(cess)i(is)d Fg(NIL)p Fl(.)g(A)h(pro)q
(cess)h(can)f(obtain)f(its)g(o)o(wn)h(standard)g(\014le)f(handles)h(b)o
(y)318 2399 y(calling)d(the)j(pro)q(cedure)h Fg(GetStandardFile)o
(Handl)o(es)12 b Fl(de\014ned)k(later)f(in)f(this)h(in)o(terface.)p
eop
%%Page: 83 93
83 92 bop 141 162 a Fe(6.11)40 b(Pro)q(cess)1142 b Fl(83)203
307 y(The)13 b(sharing)g(established)h(b)o(y)e(passing)h(a)f
Fg(File.T)g Fl(to)g(a)h(new)g(pro)q(cess)i(requires)f(care.)141
357 y(F)m(or)j(example,)g(seeks)i(done)f(b)o(y)f(either)h(pro)q(cess)i
(a\013ect)e(b)q(oth,)g(and)g(passing)f(a)g Fg(Pipe.T)141
407 y Fl(incremen)o(ts)i(a)g(reference)i(coun)o(t)e(of)f(the)i
(underlying)e(c)o(hannel.)33 b(See)20 b(the)f(end)h(of)e(this)141
457 y(in)o(terface)c(for)g(an)g(example)e(of)i(using)f
Fg(Create)g Fl(with)g(pip)q(es.)141 570 y Fn(POSIX.)43
b Fg(Create)10 b Fl(forks)i(a)f(c)o(hild)g(pro)q(cess,)i(whic)o(h)e
(executes)j(the)e(sp)q(eci\014ed)h(command.)141 619 y(If)20
b Fg(cmd)g Fl(consists)h(of)f(a)g(single)g(\(relativ)o(e\))g(arc)h
(name,)f Fg(Create)g Fl(searc)o(hes)i(eac)o(h)f(of)e(the)141
669 y(directories)g(sp)q(eci\014ed)h(b)o(y)e(the)h(P)m(A)m(TH)f(en)o
(vironmen)o(t)f(v)n(ariable)g(for)h(a)g(\014le)h(named)e
Fg(cmd)141 719 y Fl(that)d(is)f(executable)i(b)o(y)e(the)i(curren)o(t)g
(\(e\013ectiv)o(e\))g(user.)k(If)13 b(the)i(attempt)d(to)i(execute)h
(the)141 769 y(command)f(returns)k(the)f(Unix)g(error)g(ENOEXEC,)h
(then)f(the)g(c)o(hild)f(pro)q(cess)j(executes)141 819
y Fg(/bin/sh)g Fl(with)i(the)h(original)d(argumen)o(ts)h(pre\014xed)i
(b)o(y)f(the)g(pathname)f(determined)141 869 y(earlier.)141
982 y Fn(Win32.)43 b Fg(Create)22 b Fl(calls)i Fg(Win32.CreateProc)o
(ess)p Fl(.)45 b(If)23 b Fg(cmd)h Fl(consists)h(of)e(a)g(single)141
1031 y(\(relativ)o(e\))16 b(arc)h(name,)e Fg(Win32.CreateProc)o(ess)e
Fl(\014rst)k(app)q(ends)g Fg(.EXE)e Fl(if)g Fg(cmd)h
Fl(includes)141 1081 y(neither)21 b(an)f(extension)h(nor)f(a)g(\014nal)
f(p)q(erio)q(d,)j(and)e(then)h(searc)o(hes)h(for)d(this)i(name)e(in)141
1131 y(the)k(follo)o(wing)e(sequence)k(of)d(directories:)37
b(the)24 b(w)o(orking)e(directory;)27 b(the)d(Windo)o(ws)141
1181 y(system)18 b(directory;)j(the)e(Windo)o(ws)f(directory;)j(the)e
(directories)g(listed)g(in)f(the)h(P)m(A)m(TH)141 1231
y(en)o(vironmen)o(t)13 b(v)n(ariable.)241 1334 y Fg(TYPE)21
b(ExitCode)f(=)h([0)h(..)f(16_7FFFFFFF];)141 1412 y Fl(An)e(exit)f(co)q
(de)h(\(or)g(status\))g(of)f(zero)h(normally)d(means)i(successful)i
(termination,)d(and)141 1461 y(a)g(non-zero)i(v)n(alue)e(normally)e
(indicates)j(an)g(error,)h(but)f(the)g(exact)h(con)o(v)o(en)o(tions)f
(v)n(ary)141 1511 y(b)q(et)o(w)o(een)d(systems)f(and)g(programs.)241
1615 y Fg(PROCEDURE)20 b(Wait\(p:)g(T\):)h(ExitCode;)241
1679 y Fe(W)m(ait)13 b(un)o(til)h(the)h(pro)q(cess)h(with)f(handle)f
Fc(p)h Fe(terminates,)f(then)h(free)h(the)f(op)q(erating)241
1729 y(system)i(resources)j(asso)q(ciated)e(with)f(the)h(pro)q(cess)i
(and)d(return)h(an)g(exit)f(co)q(de)241 1779 y(indicating)c(the)h
(reason)h(for)f(its)g(termination.)j(It)d(is)g(a)g(c)o(hec)o(k)o(ed)h
(run)o(time)e(error)i(to)241 1828 y(call)e Fc(Wait)g
Fe(t)o(wice)h(on)g(the)g(same)f(pro)q(cess)j(handle.)141
1969 y Fn(POSIX.)41 b Fl(The)12 b(v)n(alue)f(returned)i(b)o(y)e
Fg(Wait)g Fl(is)g(equal)g(to)h(the)g Fg(status)e Fl(result)i(of)f(the)h
Fg(wait)141 2019 y Fl(system)i(call.)141 2132 y Fn(Win32.)41
b Fl(The)13 b(v)n(alue)f(returned)i(b)o(y)f Fg(Wait)f
Fl(is)h Fg(c)21 b(MOD)g(\(LAST\(ExitCode\))e(+)j(1\))12
b Fl(where)141 2182 y Fg(c)i Fl(is)f(the)i(v)n(alue)e(returned)j(b)o(y)
d Fg(Win32.GetExitCodePr)o(ocess)o Fl(.)241 2285 y Fg(PROCEDURE)20
b(Exit\(n:)g(ExitCode)g(:=)h(0\);)241 2350 y Fe(Call)14
b(the)i(registered)h(exitors)f(and)f(terminate)g(the)h(program)e(with)h
(exit)g(co)q(de)h Fc(n)p Fe(.)241 2399 y(T)m(erminating)11
b(a)j(Mo)q(dula-3)e(program)g(b)o(y)i(\\falling)d(o\013)j(the)g(end")h
(is)e(equiv)n(alen)o(t)g(to)241 2449 y(calling)f Fc(Exit\(0\))p
Fe(.)p eop
%%Page: 84 94
84 93 bop 318 162 a Fl(84)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)418 404 y Fg(PROCEDURE)20 b(Crash\(msg:)f(TEXT\);)418
465 y Fe(Call)d(the)j(registered)g(exitors)f(and)g(terminate)f(the)i
(program)d(with)h(the)i(error)418 515 y(message)13 b
Fc(msg)p Fe(.)18 b(If)13 b(p)q(ossible,)h(in)o(v)o(ok)o(e)f(a)g
(debugger)i(or)f(generate)h(a)f(core)g(dump.)318 589
y Fl(Mo)q(dula-3)24 b(implemen)o(tations)e(that)k(don't)e(con)o(v)o
(ert)i(c)o(hec)o(k)o(ed)h(run)o(time)d(errors)j(in)o(to)318
638 y(exceptions)15 b(should)f(call)f Fg(Crash)g Fl(to)g(ab)q(ort)h
(the)h(program.)380 688 y(Some)h(Mo)q(dula-3)g(implem)o(en)o(tations)e
(catc)o(h)k(external)f(ev)o(en)o(ts)h(\(e.g.)26 b(Unix)17
b(signals\))318 738 y(or)g(in)o(ternal)f(in)o(terrupts)i(\(e.g.)26
b(\015oating-p)q(oin)o(t)15 b(under\015o)o(w\))i(and)g(call)f
Fg(Crash)p Fl(.)25 b(Consult)318 788 y(y)o(our)14 b(lo)q(cal)f
(installation)f(guide)h(for)h(more)f(information.)418
885 y Fg(PROCEDURE)20 b(RegisterExitor\()o(p:)f(PROCEDURE\(\)\);)418
946 y Fe(Register)14 b(the)g(pro)q(cedure)i Fc(p)e Fe(to)g(b)q(e)g
(called)g(when)g Fc(Exit)f Fe(or)h Fc(Crash)f Fe(is)h(called.)318
1019 y Fl(Eac)o(h)21 b(registered)h(exitor)e(is)h(called)f(at)g(most)g
(once.)38 b(Exitors)21 b(are)g(called)f(in)g(rev)o(erse)318
1069 y(of)e(the)g(order)h(they)g(w)o(ere)g(registered.)33
b(A)18 b(facilit)o(y)f(implemen)o(ting)e(a)j(class)g(of)g(ob)r(jects)
318 1119 y(should)c(register)i(only)e(a)h(single)f(exitor,)g(whic)o(h)h
(can)g(consult)g(a)f(priv)n(ate)h(data)f(structure)318
1169 y(to)19 b(determine)g(whic)o(h)g(of)g(its)g(ob)r(jects)i(need)f
(clean)o(up.)34 b Fg(RegisterExitor)16 b Fl(should)j(b)q(e)318
1219 y(called)g(at)f(mo)q(dule)g(initialization)e(time)h(\(not)i(when)g
(the)h(\014rst)f(ob)r(ject)h(is)f(created\))h(to)318
1268 y(guaran)o(tee)14 b(the)h(correct)g(registration)f(order.)418
1363 y Fg(TYPE)21 b(ID)g(=)h([0)f(..)g(16_7FFFFFFF];)418
1413 y(CONST)f(NullID:)h(ID)g(=)h(0;)318 1486 y Fl(An)12
b Fg(ID)e Fl(or)i(pro)q(cess)h(iden)o(ti\014er)f(is)f(assigned)h(to)f
(eac)o(h)h(pro)q(cess)h(when)f(it)f(is)g(created.)19
b(A)o(t)12 b(an)o(y)318 1536 y(momen)o(t,)g(no)i(t)o(w)o(o)g(pro)q
(cesses)j(on)d(the)h(same)f(computer)g(ha)o(v)o(e)h(the)g(same)e(iden)o
(ti\014er,)i(but)318 1586 y(iden)o(ti\014ers)j(can)f(b)q(e)h(reused)g
(o)o(v)o(er)f(time.)26 b(No)17 b(pro)q(cess)i(is)e(ev)o(er)h(assigned)f
(the)h(iden)o(ti\014er)318 1636 y Fg(NullID)p Fl(.)418
1732 y Fg(PROCEDURE)i(GetID\(p:)g(T\):)h(ID;)418 1794
y Fe(Return)14 b(the)g(pro)q(cess)i(iden)o(ti\014er)e(of)g(the)g(pro)q
(cess)i(with)d(handle)h Fc(p)p Fe(.)418 1964 y Fg(PROCEDURE)20
b(GetMyID\(\):)f(ID;)418 2025 y Fe(Return)14 b(the)g(pro)q(cess)i(iden)
o(ti\014er)e(of)g(the)g(caller's)g(pro)q(cess.)418 2120
y Fg(PROCEDURE)20 b(GetStandardFile)o(Handl)o(es\()505
2170 y(VAR)h(\(*OUT*\))f(stdin,)h(stdout,)f(stderr:)h(File.T\);)418
2231 y Fe(Return)15 b(the)g(standard)g(input/output)g(handles)g(that)f
(w)o(ere)i(supplied)f(when)g(this)418 2281 y(pro)q(cess)g(w)o(as)f
(created.)418 2449 y Fg(PROCEDURE)20 b(GetWorkingDirec)o(tory\()o(\):)f
(Pathname.T)p eop
%%Page: 85 95
85 94 bop 141 162 a Fe(6.11)40 b(Pro)q(cess)1142 b Fl(85)284
307 y Fg(RAISES)21 b({OSError.E};)241 369 y Fe(Return)c(an)f(absolute)h
(pathname)f(for)g(the)i(w)o(orking)e(directory)h(of)f(the)i(caller's)
241 419 y(pro)q(cess.)241 590 y Fg(PROCEDURE)i(SetWorkingDirec)o
(tory\()o(path:)e(Pathname.T\))284 640 y(RAISES)j({OSError.E};)241
702 y Fe(Change)14 b(the)g(w)o(orking)f(directory)i(of)e(this)h(pro)q
(cess)i(to)d Fc(path)p Fe(.)241 801 y Fg(END)21 b(Process.)141
933 y Fn(Example.)41 b Fl(A)16 b(t)o(ypical)e(use)j(of)e
Fg(Create)f Fl(is)h(to)h(run)f(a)h(\014lter)g(pro)q(cess)h(that)e
(reads)i(from)141 983 y(standard)e(input)f(and)g(writes)g(a)g
(transformed)g(v)o(ersion)g(to)g(standard)h(output.)k(The)14
b(\014rst)141 1032 y(step)19 b(is)f(to)g(create)i(t)o(w)o(o)e(sets)i
(of)d(pip)q(es)i(to)f(carry)h(the)g(standard)f(input)h(and)f(standard)
141 1082 y(output)f(of)g(the)h(new)f(pro)q(cess.)30 b(\(If)17
b(desired,)i(standard)e(error)h(can)g(b)q(e)g(handled)f(in)f(the)141
1132 y(same)d(w)o(a)o(y)g(as)h(standard)g(output.\))303
1206 y Fg(VAR)21 b(hrChild,)f(hwChild,)g(hrSelf,)h(hwSelf:)f(Pipe.T;)
303 1256 y(BEGIN)346 1306 y(Pipe.Open\(hr)g(:=)h(hrChild,)f(hw)i(:=)f
(hwSelf\);)346 1356 y(Pipe.Open\(hr)f(:=)h(hrSelf,)g(hw)g(:=)g
(hwChild\);)141 1430 y Fl(The)14 b(next)h(step)g(is)f(to)g(create)h
(the)g(pro)q(cess,)g(passing)f(the)g(appropriate)g(pip)q(es,)h(and)e
(then)141 1480 y(to)19 b(close)g(the)h(original)d(instances)k(of)d
(these)i(pip)q(es.)35 b(\(The)19 b(pip)q(es)h(m)o(ust)e(b)q(e)i(closed)
f(to)141 1530 y(main)o(tain)11 b(the)k(correct)g(reference)i(coun)o(ts)
d(on)g(the)g(underlying)g(c)o(hannels.\))346 1604 y Fg(WITH)21
b(p)h(=)g(Process.Create\(.)o(..,)c(hrChild,)j(hwChild,)f(NIL\))h(DO)
390 1654 y(TRY)434 1704 y(TRY)g(hrChild.close\(\);)d(hwChild.close\(\))
434 1753 y(EXCEPT)i(OSError.E)g(=>)i(\(*SKIP*\))434 1803
y(END;)141 1878 y Fl(No)o(w)d(comes)f(the)i(actual)e(writing)h(and)f
(reading,)i(whic)o(h)f(is)g(con)o(v)o(enien)o(tly)f(p)q(erformed)141
1927 y(using)c(I/O)f(streams:)434 2002 y Fg(WITH)21 b(wr)g(=)h
(NEW\(FileWr.T\).i)o(nit\(h)o(wSelf)o(\),)543 2052 y(rd)f(=)h
(NEW\(FileRd.T\).i)o(nit\(h)o(rSelf)o(\))d(DO)477 2101
y Fl(W)m(rite)14 b Fg(wr)f Fl(\(and)h(p)q(erhaps)h(read)f
Fg(rd)p Fl(\))141 2176 y(Closing)d Fg(wr)h Fl(causes)h(the)g(\014lter)f
(to)g(encoun)o(ter)i(end-of-\014le)e(on)g(its)g(standard)g(input,)g
(whic)o(h)141 2225 y(should)h(cause)i(it)e(to)g(\015ush)h(its)g
(standard)g(output)g(and)f(terminate.)k(This)d(in)f(turn)h(causes)141
2275 y(this)g(pro)q(cess)i(to)d(read)i(end-of-\014le.)477
2350 y Fg(TRY)21 b(Wr.Close\(wr\))477 2399 y(EXCEPT)g(Wr.Failure,)e
(Thread.Alerted)g(=>)j(\(*SKIP*\))477 2449 y(END;)p eop
%%Page: 86 96
86 95 bop 318 162 a Fl(86)885 b Fe(6)41 b(OPERA)m(TING)14
b(SYSTEM)654 307 y Fl(Read)g Fg(rd)f Fl(to)h(end-of-\014le)p
Fg(;)654 357 y(TRY)21 b(Rd.Close\(rd\))654 408 y(EXCEPT)g(Rd.Failure,)e
(Thread.Alerted)g(=>)j(\(*SKIP*\))654 458 y(END)611 508
y(END)318 584 y Fl(The)14 b(last)g(step)h(is)f(to)f(clean)h(up)g(the)h
(pro)q(cess.)567 660 y Fg(FINALLY)20 b(EVAL)h(Process.Wait\(p\))567
710 y(END)523 761 y(END)480 811 y(END)318 982 y Ff(6.12)56
b(P)n(arams)318 1085 y Fl(This)11 b(in)o(terface)h(pro)o(vides)f
(access)i(to)d(the)i(command)c(line)j(argumen)o(ts)f(giv)o(en)h(to)g(a)
f(pro)q(cess)318 1135 y(when)k(it)g(is)g(started)h(\(see)g
Fg(Process.Create)p Fl(\).)418 1234 y Fg(INTERFACE)20
b(Params;)418 1309 y(VAR)h(\(*CONST*\))f(Count:)g(CARDINAL;)418
1373 y Fe(P)o(arameters)14 b(are)g(indexed)g(from)e Fc(0)i
Fe(\(the)h(command)c(name\))i(to)g Fc(Count-1)p Fe(.)418
1474 y Fg(PROCEDURE)20 b(Get\(n:)g(CARDINAL\):)g(TEXT;)418
1537 y Fe(Return)14 b(the)h(parameter)f(with)g(index)g
Fc(n)p Fe(.)k(It)c(is)g(a)g(c)o(hec)o(k)o(ed)i(run)o(time)d(error)i(if)
e Fc(n)22 b(>=)418 1587 y(Count)p Fe(.)418 1688 y Fg(END)f(Params.)318
1764 y Fl(P)o(arameters)13 b(that)g(b)q(egin)h(with)e(the)i(c)o
(haracters)h Fg(@M3)e Fl(are)g(reserv)o(ed)i(for)e(use)h(b)o(y)f(the)h
(SR)o(C)318 1814 y(Mo)q(dula-3)20 b(run)o(time.)37 b(They)21
b(are)g(not)g(included)g(in)f(the)i(v)n(alue)e(of)g Fg(Count)f
Fl(or)i(in)f(the)318 1864 y(sequence)c(indexed)e(b)o(y)g
Fg(Get)p Fl(.)318 2008 y Ff(6.13)56 b(En)n(v)318 2112
y Fl(This)16 b(in)o(terface)h(pro)o(vides)f(access)i(to)e(the)h(en)o
(vironmen)o(t)e(v)n(ariables)g(giv)o(en)h(to)f(a)h(pro)q(cess)318
2161 y(when)e(it)g(is)g(started)h(\(see)g Fg(Process.Create)p
Fl(\).)418 2261 y Fg(INTERFACE)20 b(Env;)418 2336 y(PROCEDURE)g
(Get\(nm:)g(TEXT\):)g(TEXT;)418 2399 y Fe(Return)14 b(the)h(v)n(alue)f
(of)f(the)i(en)o(vironmen)o(t)e(v)n(ariable)h(whose)g(name)g(is)g
(equal)g(to)g Fc(nm)p Fe(,)418 2449 y(or)f Fc(NIL)h Fe(if)f(there)i(is)
f(no)f(suc)o(h)i(v)n(ariable.)p eop
%%Page: 87 97
87 96 bop 141 162 a Fe(6.13)40 b(En)o(v)1204 b Fl(87)241
307 y Fg(VAR)21 b(\(*CONST*\))f(Count:)g(CARDINAL;)241
369 y Fe(En)o(vironmen)o(t)12 b(v)n(ariables)h(are)i(indexed)f(from)e
Fc(0)i Fe(to)g Fc(Count-1)p Fe(.)241 469 y Fg(PROCEDURE)20
b(GetNth\(n:)f(CARDINAL;)h(VAR)i(\(*OUT*\))e(nm,)h(val:)g(TEXT\);)241
531 y Fe(Set)15 b Fc(nm)g Fe(and)g Fc(val)f Fe(to)h(the)h(name)d(and)i
(v)n(alue)g(of)f(the)i(en)o(vironmen)o(t)e(v)n(ariable)g(with)241
581 y(index)f Fc(n)p Fe(.)18 b(It)c(is)g(a)g(c)o(hec)o(k)o(ed)h(run)o
(time)e(error)h(if)f Fc(n)22 b(>=)f(Count)p Fe(.)241
681 y Fg(END)g(Env.)p eop
%%Page: 88 98
88 97 bop 318 162 a Fl(88)1125 b Fe(7)41 b(R)o(UNTIME)318
307 y Fj(7)69 b(Run)n(time)318 406 y Ff(7.1)56 b(W)-5
b(eakRef)318 507 y Fl(Most)20 b(Mo)q(dula-3)e(programs)g(simply)f(let)i
(the)h(garbage)f(collector)g(deallo)q(cate)h(storage)318
557 y(automatically)l(,)9 b(but)j(some)f(programs)g(need)i(more)e(con)o
(trol.)17 b(F)m(or)11 b(example,)g(if)g(a)g(v)n(ariable)318
607 y(allo)q(cated)16 b(in)g(the)h(traced)g(heap)g(con)o(tains)f(a)g
(handle)h(on)f(a)g(resource)i(in)e(the)h(op)q(erating)318
657 y(system)k(or)f(in)h(some)f(other)h(address)h(space,)i(then)d(when)
h(the)f(v)n(ariable)f(is)h(garbage-)318 707 y(collected)12
b(it)g(ma)o(y)d(b)q(e)j(imp)q(ortan)o(t)e(to)h(deallo)q(cate)h(the)g
(resource.)19 b(The)12 b Fg(WeakRef)f Fl(in)o(terface)318
756 y(pro)o(vides)j(this)g(additional)e(con)o(trol.)380
806 y(A)j Fd(no)n(de)h Fl(is)e(a)h(datum)e(allo)q(cated)h(on)h(the)g
(traced)h(heap.)21 b(Th)o(us)15 b(a)g(no)q(de)g(is)g(either)g(the)318
856 y(referen)o(t)k(of)e(a)g(v)n(ariable)f(of)h(a)g(\014xed)h
(reference)i(t)o(yp)q(e)e(or)f(the)h(data)f(record)i(of)e(a)g(traced)
318 906 y(ob)r(ject.)i(Note)13 b(that)g(a)g(no)q(de)g(is)g(not)g(a)f
(Mo)q(dula-3)g(reference,)j(but)f(the)f(allo)q(cated)g(storage)318
956 y(to)h(whic)o(h)g(a)f(reference)j(can)f(refer.)380
1005 y(A)i Fg(WeakRef.T)f Fl(is)h(a)g(data)f(structure)k(that)d(refers)
h(to)f(a)g(no)q(de)h(without)f(protecting)318 1055 y(the)c(no)q(de)g
(from)e(the)j(garbage)e(collector.)18 b(If)13 b Fg(w)f
Fl(is)h(a)f(w)o(eak)h(reference,)i(w)o(e)e(write)g Fg(nd\(w\))e
Fl(to)318 1105 y(denote)k(the)f(no)q(de)h(to)e(whic)o(h)h
Fg(w)g Fl(refers.)380 1155 y(W)m(e)c(sa)o(y)h(that)f(a)h(w)o(eak)f
(reference)j Fg(w)e Fd(dies)f Fl(at)h(the)g(momen)o(t)d(that)i(the)h
(garbage)g(collector)318 1205 y(detects)17 b(that)e Fg(nd\(w\))e
Fl(is)i(unreac)o(hable.)22 b(A)14 b(precise)j(de\014nition)d(of)g
(unreac)o(hable)i(is)f(giv)o(en)318 1255 y(b)q(elo)o(w.)i(Once)c(a)e(w)
o(eak)g(reference)j(has)e(died,)f(it)g(remains)g(dead)h(forev)o(er,)g
(ev)o(en)g(if)f(the)h(no)q(de)318 1304 y(to)i(whic)o(h)g(it)f(refers)i
(b)q(ecomes)f(reac)o(hable)h(again.)380 1354 y(Asso)q(ciated)h(with)f
(eac)o(h)g(w)o(eak)g(reference)j Fg(w)c Fl(is)h(a)g Fd(cle)n(anup)h(pr)
n(o)n(c)n(e)n(dur)n(e)f Fg(cp\(w\))p Fl(.)20 b(If)14
b(the)318 1404 y(clean)o(up)k(pro)q(cedure)j(is)d(not)g
Fg(NIL)p Fl(,)f(the)i(garbage)f(collector)h(will)d(sc)o(hedule)k(a)e
(call)f(to)h(it)318 1454 y(when)c(the)h(w)o(eak)f(reference)i(dies.)418
1550 y Fg(INTERFACE)k(WeakRef;)418 1622 y(TYPE)h(T)g(=)461
1670 y(RECORD)505 1718 y(byte:)g(ARRAY)f([0..7])h(OF)g(BITS)g(8)h(FOR)f
([0..255])461 1767 y(END;)418 1829 y Fe(Please)16 b(treat)g(this)f(as)g
(though)g(it)g(w)o(ere)h(an)f(opaque)g(t)o(yp)q(e:)22
b(the)15 b(only)g(op)q(erations)418 1879 y(allo)o(w)o(ed)9
b(are)i(assignmen)o(t,)e(equalit)o(y)h(tests,)i(and)e(the)h(pro)q
(cedures)i(in)d(this)g(in)o(terface.)418 1978 y Fg(PROCEDURE)20
b(FromRef\(r:)f(REFANY;)i(p:)g(CleanUpProc)f(:=)h(NIL\):)g(T;)418
2040 y Fe(Return)c(a)f(w)o(eak)h(reference)i Fc(w)d Fe(suc)o(h)i(that)e
Fc(nd\(w\))21 b(=)h(r)16 b Fe(and)h Fc(cp\(w\))j(=)i(p)p
Fe(.)k(It)17 b(is)418 2089 y(a)e(c)o(hec)o(k)o(ed)h(run)o(time)f(error)
h(if)e Fc(r)h Fe(is)h Fc(NIL)p Fe(.)e(It)h(is)g(illegal)f(to)h(create)i
(more)d(than)h(one)418 2139 y(w)o(eak)e(reference)j(with)c(a)h(non-nil)
g(clean)o(up)g(to)g(the)h(same)e(no)q(de;)i(violations)d(of)i(this)418
2189 y(rule)f(ma)o(y)f(lead)h(to)h(a)f(c)o(hec)o(k)o(ed)i(run)o(time)d
(error,)i(or)g(ma)o(y)e(cause)i(one)g(of)f(the)h(clean)o(up)418
2239 y(actions)f(to)h(b)q(e)g(omitted.)j Fc(FromRef)c
Fe(is)g(not)h(necessarily)h(functional:)i(it)c(is)h(p)q(ossible)418
2289 y(that)h Fc(nd\(w1\))20 b(=)i(nd\(w2\))12 b Fe(but)i
Fc(w1)22 b(#)f(w2)p Fe(.)418 2387 y Fg(PROCEDURE)f(ToRef\(w:)g(T\):)h
(REFANY;)418 2449 y Fe(Return)14 b(a)g(reference)i(to)e
Fc(nd\(w\))p Fe(,)e(unless)j Fc(w)e Fe(is)h(dead,)g(in)f(whic)o(h)h
(case)h(return)g Fc(NIL)p Fe(.)p eop
%%Page: 89 99
89 98 bop 141 162 a Fe(7.1)41 b(W)m(eakRef)1133 b Fl(89)241
307 y Fg(TYPE)21 b(CleanUpProc)e(=)j(PROCEDURE\(READON)o(LY)d(w:)i(T;)h
(r:)f(REFANY\);)241 369 y Fe(If)13 b Fc(cp\(w\))g Fe(is)h(not)h
Fc(NIL)p Fe(,)e(then)h(when)h Fc(w)f Fe(dies,)g(the)h(garbage)f
(collector)g(will)f(sc)o(hedule)241 419 y(the)h(call)f
Fc(cp\(w\)\(w,)20 b(<reference)g(to)h(nd\(w\)>\))p Fe(.)241
516 y Fg(END)g(WeakRef.)141 589 y Fl(The)14 b(clean)o(up)g(pro)q
(cedure)i(will)c(b)q(e)j(executed)g(at)f(some)f(p)q(oin)o(t)g(after)h
(the)h(w)o(eak)f(reference)141 639 y(dies.)k(A)13 b(clean)o(up)g(pro)q
(cedure)i(is)e(called)g(with)f(no)h(lo)q(c)o(ks)g(held;)g(it)g(m)o(ust)
f(return)i(promptly)141 689 y(to)g(allo)o(w)e(other)i(ob)r(jects)i(to)d
(b)q(e)i(cleaned)f(up.)203 739 y(The)22 b(computation)e
Fg(cp\(w\)\(w,)g(ref\))h Fl(is)g(allo)o(w)o(ed)f(to)i(store)g
Fg(ref)f Fl(in)g(a)g(non-lo)q(cal)141 789 y(v)n(ariable,)d(th)o(us)g
(making)e Fg(nd\(w\))h Fl(reac)o(hable)i(again;)g(the)f(heap)h(storage)
f(will)f(not)h(ha)o(v)o(e)141 838 y(b)q(een)12 b(freed.)18
b(This)11 b(do)q(es)h(not)f(c)o(hange)g(the)h(fact)f(that)g
Fg(w)g Fl(is)g(dead.)17 b(The)12 b(clean)o(up)f(pro)q(cedure)141
888 y(can)j(re-enable)h(clean)o(up,)e(if)g(desired,)i(b)o(y)f(creating)
g(a)f(new)i(w)o(eak)f(reference)i(to)e Fg(nd\(w\))p Fl(.)203
938 y(The)20 b(storage)f(for)f(a)h(no)q(de)g(is)g(reclaimed)f(when)h
(it)g(is)f(unreac)o(hable)i(and)f(all)e(w)o(eak)141 988
y(references)26 b(to)e(it)f(are)h(dead)g(and)f(all)f(clean)o(up)i
(calls)f(sc)o(heduled)i(for)e(it)h(ha)o(v)o(e)f(b)q(een)141
1038 y(completed.)203 1087 y(Finally)13 b(w)o(e)h(come)f(to)g(the)i
(precise)g(de\014nition)f(of)f(\\reac)o(hable":)203 1137
y(A)21 b(no)q(de)h(is)f Fd(r)n(e)n(achable)g Fl(if)f(it)h(can)g(b)q(e)h
(reac)o(hed)h(b)o(y)e(a)f(path)i(of)e(traced)i(references)141
1187 y(starting)f(from)e(a)i(curren)o(t)h(pro)q(cedure)h(activ)n(ation)
c(record,)24 b(a)c(global)f(v)n(ariable,)j(or)e(a)141
1237 y(w)o(eakly)13 b(referenced)k(no)q(de)d(with)f(a)h(non-nil)f
(clean)o(up)h Fd(other)g(than)i(itself)p Fl(.)203 1287
y(Th)o(us)h(a)f(w)o(eak)g(reference)j(to)e(a)f(no)q(de)h
Fg(nd)f Fl(do)q(es)h(not)f(mak)o(e)f Fg(nd)h Fl(reac)o(hable,)h(but)g
(if)e(it)141 1337 y(has)f(a)g(non-nil)e(clean)o(up,)i(it)f(mak)o(es)g
(other)i(no)q(des)f(referenced)j(from)12 b Fg(nd)h Fl(reac)o(hable.)203
1386 y(F)m(or)j(example,)e(if)h Fg(A)g Fl(and)h Fg(B)f
Fl(are)h(t)o(w)o(o)f(no)q(des)i(that)e(are)i(w)o(eakly)e(referenced)j
(b)o(y)d(w)o(eak)141 1436 y(references)g(with)d(non-nil)f(clean)o(up)i
(pro)q(cedures,)h(then)f(if)e Fg(B)h Fl(is)g(reac)o(hable)h(from)e
Fg(A)p Fl(,)g(then)i Fg(B)141 1486 y Fl(is)f(reac)o(hable.)18
b(But)12 b(if)f Fg(A)g Fl(is)h(not)g(reac)o(hable,)g(then)g(the)h
(garbage)e(collector)h(will)f(ev)o(en)o(tually)141 1536
y(detect)19 b(this)e(and)f(sc)o(hedule)i(the)g(clean)o(up)f(of)f
Fg(A)p Fl(.)h(If)f(the)i(clean)o(up)f(call)f(returns)i(without)141
1586 y(resurrecting)k Fg(A)p Fl(,)e(then)h Fg(A)p Fl('s)f(storage)h
(will)e(b)q(e)i(reclaimed,)g(at)f(whic)o(h)g(p)q(oin)o(t)g
Fg(B)h Fl(will)d(b)q(e)141 1635 y(unreac)o(hable,)c(whic)o(h)g(will)e
(lead)i(to)g(its)g(clean)o(up.)203 1685 y(If)23 b Fg(A)f
Fl(and)h Fg(B)g Fl(are)g(w)o(eakly)f(referenced)j(no)q(des)f(with)f
(non-nil)e(clean)o(ups)j(that)f(are)141 1735 y(connected)16
b(b)o(y)e(a)g(cycle)h(of)e(traced)j(references,)g(then)f(b)q(oth)g(of)e
(them)g(are)i(reac)o(hable.)20 b(As)141 1785 y(long)13
b(as)i(the)g(cycle)g(p)q(ersists,)h(neither)f(will)e(b)q(e)i(cleaned)g
(up.)k(This)c(situation)e(represen)o(ts)141 1835 y(a)h(storage)g(leak)f
(and)h(should)g(b)q(e)g(a)o(v)o(oided.)141 1950 y Ff(Examples)141
2027 y Fn(1)p Fl(.)23 b(Supp)q(ose)13 b(y)o(ou)e(w)o(an)o(t)h(writers)h
(of)e(the)h(class)h Fg(WrX.T)d Fl(to)i(b)q(e)h(automatically)8
b(\015ushed)13 b(and)141 2077 y(closed)f(if)f(they)h(b)q(ecome)g
(unreac)o(hable.)18 b(Then)12 b(y)o(ou)f(could)h(write)g(co)q(de)g(lik)
o(e)f(the)i(follo)o(wing)141 2127 y(in)g(the)i Fg(WrX)e
Fl(mo)q(dule:)303 2200 y Fg(MODULE)20 b(WrX;)h(IMPORT)g(WeakRef,)f(Wr,)
h(...;)303 2300 y(PROCEDURE)f(New\(...\):)g(T)h(=)346
2350 y(VAR)h(res)f(:=)g(NEW\(T\);)g(BEGIN)390 2399 y(\(*)g(...)h
(initialize)d(res)j(as)f(a)g(WrX.T)g(...)g(*\))390 2449
y(EVAL)g(WeakRef.FromRef\(re)o(s,)e(Cleanup\);)p eop
%%Page: 90 100
90 99 bop 318 162 a Fl(90)1125 b Fe(7)41 b(R)o(UNTIME)567
307 y Fg(RETURN)21 b(res)523 357 y(END)h(New;)480 458
y(PROCEDURE)e(Cleanup\(self:)f(WeakRef.T;)h(ref:)h(REFANY\))f(=)523
508 y(VAR)i(wr:)f(T)g(:=)h(ref;)f(BEGIN)567 558 y(IF)g(NOT)h
(Wr.Closed\(wr\))d(THEN)611 608 y(Wr.Flush\(wr\);)611
658 y(Wr.Close\(wr\))567 709 y(END)523 759 y(END)j(Cleanup;)318
885 y Fl(There)e(is)e(no)h(danger)g(that)f(another)h(thread)h(could)e
(close)h(the)h(writer)f(after)g(the)g(test)318 934 y
Fg(NOT)i(Wr.Closed\(wr\))12 b Fl(and)i(b)q(efore)h(the)g(call)e
Fg(Wr.Flush\(wr\))p Fl(,)f(since)j(when)f Fg(Cleanup)f
Fl(is)318 984 y(called,)j(the)g(writer)h(is)f(unreac)o(hable.)25
b(Therefore)17 b(the)f(clean)o(up)g(metho)q(d)g(has)g(exclusiv)o(e)318
1034 y(access)g(to)d(the)i(writer.)380 1097 y Fn(2.)28
b Fl(The)14 b(net)o(w)o(ork)g(ob)r(ject)h(run)o(time)e(m)o(ust)f(map)h
(wire)h(represen)o(tations)h(for)f(net)o(w)o(ork)318
1147 y(ob)r(jects)k(in)o(to)e(surrogate)i(ob)r(jects.)29
b(T)m(o)16 b(hand)h(out)f(the)i(same)e(surrogate)i(for)e(the)i(same)318
1197 y(wire)11 b(represen)o(tation,)i(it)e(k)o(eeps)h(a)e(table)h
(mapping)e(wire)j(represen)o(tations)h(to)d(surrogates.)318
1247 y(This)g(table)h(con)o(tains)f(w)o(eak)g(references,)k(so)c(the)h
(table)g(en)o(try)g(itself)f(do)q(es)h(not)f(prev)o(en)o(t)h(the)318
1296 y(surrogate)16 b(from)e(b)q(eing)h(collected.)23
b(When)16 b(the)g(surrogate)g(is)f(collected,)h(it)f(is)g(remo)o(v)o
(ed)318 1346 y(from)e(the)j(table)f(and)h(the)f(serv)o(er)i(con)o
(taining)d(that)i(ob)r(ject)g(is)f(noti\014ed)g(that)g(the)h(clien)o(t)
318 1396 y(no)e(longer)f(has)h(a)g(surrogate)h(for)e(it.)380
1446 y(When)23 b(a)f(w)o(eak)g(reference)j(in)d(the)h(table)f(b)q
(ecomes)h(dead,)h(the)f(net)o(w)o(ork)f(ob)r(ject)318
1496 y(represen)o(ted)17 b(b)o(y)d(the)h(dead)g(surrogate)g(migh)o(t)e
(b)q(e)i(unmarshaled)e(b)o(y)h(the)h(address)h(space)318
1546 y(b)q(efore)c(the)f(surrogate)h(is)e(cleaned)i(up.)17
b(In)11 b(this)g(case)g(the)h(unmarshaling)c(co)q(de)k(resurrects)318
1596 y(the)j(unreac)o(hable)g(surrogate)g(b)o(y)f(creating)h(a)f(new)h
(w)o(eak)f(reference)j(and)d(inserting)h(it)f(in)318
1645 y(the)e(table)f(in)g(place)g(of)g(the)h(dead)f(w)o(eak)h
(reference.)19 b(The)12 b(clean)o(up)f(co)q(de)h(can)g(tell)f(whether)
318 1695 y(to)g(rep)q(ort)h(in)f(clean)h(b)o(y)f(c)o(hec)o(king)g
(whether)i(there)g(is)e(a)g(new)h(w)o(eak)f(reference)i(in)e(the)h
(table)318 1745 y(or)i(not.)380 1795 y(Here)h(is)f(a)g(sk)o(etc)o(h)h
(of)e(the)h(co)q(de:)480 1871 y Fg(TYPE)21 b(Surrogate)f(=)h(OBJECT)g
(wr:)g(WireRep;)f(...)h(END;)480 1973 y(VAR)523 2023
y(mu)h(:=)f(NEW\(MUTEX\);)523 2073 y(<*)h(LL)f(>=)h({mu})f(*>)523
2123 y(tbl)h(:=)f(NEW\(WireRepToWeakR)o(efTb)o(l.T\);)318
2199 y Fl(The)15 b(m)o(utex)f Fg(mu)h Fl(m)o(ust)f(b)q(e)h(held)g(to)g
(read)h(or)f(write)g Fg(tbl)f Fl(\(that)h(is)g(what)g(the)g
Fg(LL)g Fl(pragma)318 2249 y(means\).)380 2299 y(The)g(table)e
Fg(tbl)h Fl(maps)e Fg(WireRep)p Fl(s)h(to)h Fg(WeakRef)p
Fl(s)e(that)i(reference)j(surrogates.)380 2349 y(The)e(follo)o(wing)c
(in)o(v)n(arian)o(ts)h(hold)i(whenev)o(er)h Fg(mu)e Fl(is)h(not)g
(held:)380 2399 y(If)21 b Fg(tbl\(wrep\))f Fl(is)h(not)g(dead,)i(then)f
Fg(nd\(tbl\(wrep\)\))c Fl(is)k(the)f(surrogate)i(for)d(the)318
2449 y(net)o(w)o(ork)14 b(ob)r(ject)h(whose)f(wire)g(represen)o(tation)
i(is)d Fg(wrep)p Fl(.)p eop
%%Page: 91 101
91 100 bop 141 162 a Fe(7.2)41 b(R)m(TT)o(yp)q(e)1145
b Fl(91)203 307 y(If)14 b Fg(tbl\(wrep\))e Fl(is)h(dead,)h(then)h(the)f
(surrogate)h(for)e Fg(wrep)g Fl(is)h(unreac)o(hable.)203
357 y(If)h Fg(tbl)g Fl(has)g(no)g(en)o(try)h(for)f Fg(wrep)p
Fl(,)f(then)i(the)g(address)h(space)f(con)o(tains)f(no)g(surrogate)141
407 y(for)f Fg(wrep)p Fl(.)303 482 y Fg(PROCEDURE)20
b(Cleanup\(wref:)f(WeakRef.T;)h(ref:)h(REFANY\))f(=)303
532 y(<*)h(LL)h(=)f({})h(*>)346 582 y(VAR)390 632 y(srg)f(:=)h
(NARROW\(ref,)d(Surrogate\);)390 682 y(tblVal:)h(WeakRef.T;)346
732 y(BEGIN)390 782 y(LOCK)h(mu)g(DO)434 832 y(IF)g(tbl.get\(srg.wr,)e
(tblVal\))h(AND)h(wref)g(=)h(tblVal)434 882 y(THEN)477
932 y(EVAL)f(tbl.delete\(srg.wr\))o(;)477 982 y(...)g(Report)g(that)g
(srg)g(is)g(deleted)g(...)434 1031 y(END)390 1081 y(END)346
1131 y(END)h(Cleanup;)303 1231 y(PROCEDURE)e(WireRepToSrg\(wrep)o(:)f
(WireRep\):)h(Surrogate)g(=)346 1281 y(VAR)i(wref:)e(WeakRef.T;)g(res:)
h(Surrogate;)f(BEGIN)390 1331 y(LOCK)h(mu)g(DO)434 1381
y(IF)g(tbl.get\(wrep,)e(wref\))i(THEN)477 1431 y(res)g(:=)h
(WeakRef.ToRef\(wr)o(ef\);)477 1481 y(IF)g(res)f(#)g(NIL)h(THEN)f
(RETURN)f(res)h(END)434 1531 y(END;)434 1581 y(res)g(:=)g
(NewSurrogate\(wrep\))o(;)434 1631 y(EVAL)g(tbl.put\(wrep,)e
(WeakRef.FromRef\()o(res,)f(Cleanup\)\);)434 1681 y(RETURN)i(res)390
1731 y(END)346 1781 y(END)i(WireRepToSrg;)141 1856 y
Fl(In)12 b(the)g(ab)q(o)o(v)o(e)f(w)o(e)h(assume)f(that)h
Fg(NewSurrogate)d Fl(creates)14 b(a)d(new)h(surrogate)h(from)d(a)h
(wire)141 1906 y(represen)o(tation.)203 1981 y(The)g(remaining)e(in)o
(terfaces)j(in)e(this)h(section)g(pro)o(vide)g(the)g(lo)o(w-lev)o(el)f
(features)i(needed)141 2031 y(to)17 b(implemen)o(t)e(pic)o(kles)i(and)g
(net)o(w)o(ork)h(ob)r(jects.)29 b(Most)18 b(programmers)d(w)o(on't)i
(directly)141 2080 y(use)e(an)o(y)e(of)g(these)j(in)o(terfaces.)141
2197 y Ff(7.2)56 b(R)-5 b(TT)n(yp)r(e)203 2300 y Fg(RTType)13
b Fl(pro)o(vides)h(access)i(to)d(the)i(run)o(time)e(t)o(yp)q(e)h
(system.)203 2350 y(Eac)o(h)h(reference)i(t)o(yp)q(e)e(is)g(assigned)g
(a)f(unique)h(t)o(yp)q(eco)q(de.)21 b(A)15 b(t)o(yp)q(eco)q(de)h(is)f
(\\prop)q(er")141 2399 y(if)g(it)h(lies)g(in)g(the)g(range)h
Fg([0..MaxTypecode\()o(\)])p Fl(.)22 b(The)16 b(prop)q(er)h(t)o(yp)q
(eco)q(des)h(include)e(all)141 2449 y(those)d(that)g(corresp)q(ond)h
(to)f(actual)f(t)o(yp)q(es)i(in)e(the)h(running)f(Mo)q(dula-3)g
(program.)k(Other)p eop
%%Page: 92 102
92 101 bop 318 162 a Fl(92)1125 b Fe(7)41 b(R)o(UNTIME)318
307 y Fl(t)o(yp)q(eco)q(des,)14 b(prop)q(er)g(and)f(improp)q(er,)e(ma)o
(y)g(b)q(e)i(used)h(in)o(ternally)e(b)o(y)g(the)i(run)o(time)d(system)
318 357 y(and)j(garbage)f(collector.)380 407 y(Although)k(the)g
(language)f(requires)i(that)f(t)o(yp)q(eco)q(des)i(exist)e(only)f(for)h
(ob)r(ject)g(t)o(yp)q(es)318 457 y(and)d(for)g(traced)i(reference)h(t)o
(yp)q(es)e(\(including)f Fg(NULL)p Fl(\),)f(the)j(implem)o(en)o(tation)
11 b(of)j Fg(RTType)318 506 y Fl(also)f(pro)o(vides)h(t)o(yp)q(eco)q
(des)i(for)e(un)o(traced)g(reference)j(t)o(yp)q(es.)380
556 y(The)j(v)n(alues)f(returned)j(b)o(y)d(the)h(builtin)f(op)q
(eration)g Fg(TYPECODE)f Fl(corresp)q(ond)j(to)e(\(a)318
606 y(subset)c(of)s(\))f(the)g(prop)q(er)h(t)o(yp)q(eco)q(des.)418
700 y Fg(INTERFACE)20 b(RTType;)418 771 y(IMPORT)g(RT0;)418
842 y(TYPE)h(Typecode)f(=)h(RT0.Typecode;)418 915 y(CONST)f
(NoSuchType:)g(Typecode)g(=)i(LAST\(Typecode\);)418 976
y Fe(A)14 b(reserv)o(ed)h(t)o(yp)q(eco)q(de)h(that)e(represen)o(ts)i
(unkno)o(wn)e(t)o(yp)q(es.)418 1073 y Fg(PROCEDURE)20
b(MaxTypecode\(\):)e(Typecode;)418 1134 y Fe(Return)c(the)g(largest)h
(prop)q(er)f(t)o(yp)q(eco)q(de.)418 1230 y Fg(PROCEDURE)20
b(IsSubtype\(a,)f(b:)i(Typecode\):)f(BOOLEAN;)418 1292
y Fe(Return)e Fc(TRUE)e Fe(i\013)i(the)g(t)o(yp)q(e)g(corresp)q(onding)
g(to)g Fc(a)f Fe(is)g(a)h(subt)o(yp)q(e)g(of)f(the)h(t)o(yp)q(e)418
1341 y(corresp)q(onding)d(to)f Fc(b)p Fe(.)20 b(It)15
b(is)f(a)g(c)o(hec)o(k)o(ed)i(run)o(time)d(error)j(if)d(either)j
Fc(a)e Fe(or)g Fc(b)g Fe(is)h(not)f(a)418 1391 y(prop)q(er)g(t)o(yp)q
(eco)q(de.)418 1487 y Fg(PROCEDURE)20 b(Supertype\(tc:)f(Typecode\):)g
(Typecode;)418 1549 y Fe(Return)i(the)g(t)o(yp)q(eco)q(de)h(of)e(the)h
(declared)g(sup)q(ert)o(yp)q(e)i(of)c(the)j(ob)r(ject)f(t)o(yp)q(e)418
1599 y(corresp)q(onding)d(to)f Fc(tc)p Fe(.)28 b(If)17
b Fc(tc)g Fe(corresp)q(onds)i(to)e Fc(ROOT)p Fe(,)f Fc(UNTRACED)k(ROOT)
d Fe(or)g(a)418 1648 y(non-ob)r(ject)f(reference)j(t)o(yp)q(e,)e
(return)h Fc(NoSuchType)p Fe(.)23 b(It)16 b(is)g(a)g(c)o(hec)o(k)o(ed)i
(run)o(time)418 1698 y(error)c(if)f Fc(tc)h Fe(is)g(not)f(a)h(prop)q
(er)h(t)o(yp)q(eco)q(de.)418 1794 y Fg(PROCEDURE)20 b(IsTraced\(tc:)f
(Typecode\):)h(BOOLEAN;)418 1856 y Fe(Return)14 b Fc(TRUE)f
Fe(i\013)h(the)g(t)o(yp)q(e)g(corresp)q(onding)h(to)f
Fc(tc)f Fe(is)h(traced.)418 1952 y Fg(PROCEDURE)20 b(Get\(tc:)g
(Typecode\):)g(RT0.TypeDefn;)418 2014 y Fe(Return)12
b(a)g(p)q(oin)o(ter)h(to)f(the)g(t)o(yp)q(ecell)h(with)f(t)o(yp)q(eco)q
(de)h Fc(tc)p Fe(.)k(It)c(is)f(a)g(c)o(hec)o(k)o(ed)h(run)o(time)418
2063 y(error)h(to)g(pass)h(an)e(improp)q(er)g(t)o(yp)q(eco)q(de.)418
2160 y Fg(PROCEDURE)20 b(GetNDimensions\()o(tc:)f(Typecode\):)g
(CARDINAL;)418 2221 y Fe(Return)g(the)g(n)o(um)o(b)q(er)f(of)g(op)q(en)
h(dimensions)f(of)g(the)h(op)q(en)g(arra)o(y)g(t)o(yp)q(e)g(that)418
2271 y(corresp)q(onds)d(to)f Fc(tc)p Fe('s)f(referen)o(t.)21
b(If)14 b Fc(tc)p Fe('s)g(referen)o(t)i(is)f(not)f(an)g(op)q(en)h(arra)
o(y)m(,)f(return)418 2321 y Fc(0)p Fe(.)418 2417 y Fg(END)21
b(RTType.)p eop
%%Page: 93 103
93 102 bop 141 162 a Fe(7.3)41 b(R)m(T)m(Allo)q(cator)1072
b Fl(93)141 307 y Ff(7.3)56 b(R)-5 b(T)g(Allo)r(cator)141
407 y Fg(RTAllocator)12 b Fl(pro)o(vides)i(access)h(to)f(the)h(run)o
(time)d(storage)j(allo)q(cator.)241 502 y Fg(INTERFACE)20
b(RTAllocator;)241 575 y(FROM)h(RTType)f(IMPORT)h(Typecode;)141
648 y Fl(Eac)o(h)c(of)e(the)i(pro)q(cedures)i(describ)q(ed)f(b)q(elo)o
(w)e(allo)q(cates)g(and)g(initializes)g(heap)g(storage.)141
698 y(Calling)i(an)o(y)g(of)h(these)i(pro)q(cedures)h(with)d(a)g(t)o
(yp)q(eco)q(de)i Fg(tc)e Fl(that)g(names)g(a)g(t)o(yp)q(e)h
Fg(T)f Fl(is)141 748 y(equiv)n(alen)o(t)14 b(to)h(calling)e
Fg(NEW)i Fl(for)f(that)h(t)o(yp)q(e.)22 b(It)15 b(is)g(a)f(c)o(hec)o(k)
o(ed)j(run)o(time)c(error)j(to)f(pass)g(a)141 798 y(t)o(yp)q(eco)q(de)e
(that)g(is)e(not)h(prop)q(er.)19 b(\(See)13 b Fg(RTType)e
Fl(for)g(the)i(de\014nition)f(of)f(prop)q(er)i(t)o(yp)q(eco)q(de.\))241
895 y Fg(PROCEDURE)20 b(NewTraced\(tc:)f(Typecode\):)g(REFANY;)241
956 y Fe(Return)d(a)f(reference)j(to)d(a)h(freshly)f(allo)q(cated)g
(and)h(initialized,)e(traced)j(referen)o(t)241 1006 y(with)e(t)o(yp)q
(eco)q(de)j Fc(tc)p Fe(.)24 b(It)17 b(is)f(a)g(c)o(hec)o(k)o(ed)h(run)o
(time)e(error)i(if)e Fc(tc)h Fe(do)q(es)h(not)f(name)f(a)241
1056 y(traced)e(reference)h(t)o(yp)q(e)e(other)h(than)f
Fc(REFANY)p Fe(,)e(or)i(if)f(its)h(referen)o(t)h(is)f(an)g(op)q(en)g
(arra)o(y)m(.)241 1153 y Fg(PROCEDURE)20 b(NewUntraced\(tc:)e
(Typecode\):)i(ADDRESS;)241 1214 y Fe(Return)13 b(a)g(reference)j(to)c
(a)h(freshly)h(allo)q(cated)e(and)h(initialized,)e(un)o(traced)k
(referen)o(t)241 1264 y(with)g(t)o(yp)q(eco)q(de)h Fc(tc)p
Fe(.)22 b(It)16 b(is)f(a)g(c)o(hec)o(k)o(ed)i(run)o(time)d(error)i(if)f
Fc(tc)f Fe(do)q(es)j(not)e(name)f(an)241 1314 y(un)o(traced)i
(reference)i(t)o(yp)q(e)e(other)g(than)g Fc(ADDRESS)p
Fe(,)d(or)i(if)g(it)g(names)g(an)g(un)o(traced)241 1364
y(ob)r(ject)f(t)o(yp)q(e,)g(or)g(if)f(its)h(referen)o(t)h(is)f(an)g(op)
q(en)g(arra)o(y)m(.)241 1460 y Fg(PROCEDURE)20 b(NewUntracedObje)o
(ct\(tc)o(:)f(Typecode\):)h(UNTRACED)g(ROOT;)241 1522
y Fe(Return)14 b(a)g(freshly)h(allo)q(cated)f(and)g(initialized,)e(un)o
(traced)k(ob)r(ject)f(with)f(t)o(yp)q(eco)q(de)241 1572
y Fc(tc)p Fe(.)19 b(It)14 b(is)g(a)g(c)o(hec)o(k)o(ed)i(run)o(time)d
(error)i(if)f Fc(tc)g Fe(do)q(es)h(not)f(name)f(an)h(un)o(traced)i(ob)r
(ject)241 1621 y(t)o(yp)q(e.)241 1716 y Fg(TYPE)21 b(Shape)f(=)i(ARRAY)
f(OF)g(INTEGER;)241 1787 y(PROCEDURE)f(NewTracedArray\()328
1835 y(tc:)h(Typecode;)328 1885 y(READONLY)f(s:)h(Shape\):)g(REFANY;)
241 1946 y Fe(Return)12 b(a)g(reference)j(to)c(a)h(freshly)h(allo)q
(cated)e(and)h(initialized,)f(traced)i(op)q(en)f(arra)o(y)241
1996 y(referen)o(t)j(with)e(t)o(yp)q(eco)q(de)i Fc(tc)e
Fe(and)h(sizes)g Fc(s[0])p Fe(,)f(...,)e Fc(s[LAST\(s\)])p
Fe(.)16 b(It)e(is)f(a)h(c)o(hec)o(k)o(ed)241 2046 y(run)o(time)h(error)
i(if)e Fc(tc)g Fe(do)q(es)i(not)f(name)f(a)h(traced)h(reference)h(to)e
(an)g(op)q(en)g(arra)o(y)m(,)241 2096 y(or)e(if)g(an)o(y)g
Fc(s[i])f Fe(is)i(negativ)o(e,)f(or)g(if)g Fc(NUMBER\(s\))e
Fe(do)q(es)j(not)g(equal)f(the)h(n)o(um)o(b)q(er)f(of)241
2146 y(op)q(en)g(dimensions)f(of)g(the)h(arra)o(y)m(.)241
2240 y Fg(PROCEDURE)20 b(NewUntracedArra)o(y\()328 2288
y(tc:)h(Typecode;)328 2338 y(READONLY)f(s:)h(Shape\):)g(ADDRESS;)241
2399 y Fe(Return)16 b(a)g(reference)i(to)e(a)f(freshly)h(allo)q(cated)g
(and)f(initialized,)g(un)o(traced)i(op)q(en)241 2449
y(arra)o(y)e(referen)o(t)i(with)e(t)o(yp)q(eco)q(de)i
Fc(tc)e Fe(and)g(sizes)h Fc(s[0])p Fe(,)f(...,)f Fc(s[LAST\(s\)])p
Fe(.)20 b(It)c(is)f(a)p eop
%%Page: 94 104
94 103 bop 318 162 a Fl(94)1125 b Fe(7)41 b(R)o(UNTIME)418
307 y(c)o(hec)o(k)o(ed)17 b(run)o(time)e(error)i(if)e
Fc(tc)g Fe(do)q(es)i(not)f(name)f(an)h(un)o(traced)h(reference)h(to)e
(an)418 357 y(op)q(en)e(arra)o(y)m(,)e(or)i(if)f(an)o(y)g
Fc(s[i])g Fe(is)g(negativ)o(e,)g(or)h(if)f Fc(NUMBER\(s\))e
Fe(do)q(es)k(not)e(equal)g(the)418 407 y(n)o(um)o(b)q(er)g(of)g(op)q
(en)h(dimensions)f(of)g(the)i(arra)o(y)m(.)418 507 y
Fg(END)21 b(RTAllocator.)318 648 y Ff(7.4)56 b(R)-5 b(TCollector)318
750 y Fg(RTCollector)12 b Fl(pro)o(vides)i(con)o(trol)f(o)o(v)o(er)h
(the)h(Mo)q(dula-3)d(garbage)i(collector.)418 850 y Fg(INTERFACE)20
b(RTCollector;)318 924 y Fl(The)11 b(purp)q(ose)h(of)f(a)f(garbage)h
(collector)g(is)g(to)g(reclaim)e(unreac)o(hable)j(no)q(des)g(on)e(the)i
(traced)318 974 y(heap;)21 b(most)c(Mo)q(dula-3)h(programs)g(could)g
(not)h(run)g(v)o(ery)g(long)f(without)g(a)g(collector.)318
1024 y(Ev)o(en)c(so,)g(automatic)e(garbage)i(collection)f(has)h(some)f
(practical)h(dra)o(wbac)o(ks.)369 1115 y(1.)20 b(The)10
b(collector)g(migh)o(t)d(mo)o(v)o(e)h(heap)i(no)q(des)h(to)e
(di\013eren)o(t)i(addresses.)19 b(This)9 b(is)h(usually)422
1165 y(unnoticable)18 b(to)g(programs,)f(but)h(can)h(cause)g(problems)e
(when)h(programs)f(m)o(ust)422 1215 y(w)o(ork)h(with)g(the)h(addresses)
h(of)e(heap)h(no)q(des,)g(since)h(it)e(is)g(not)g(guaran)o(teed)h(that)
422 1265 y Fg(ADR\(x^\))14 b Fl(is)h(a)h(constan)o(t)g(o)o(v)o(er)g
(the)g(lifetime)d(of)i Fg(x^)p Fl(.)23 b(There)17 b(are)f(t)o(w)o(o)f
(main)f(cases)422 1315 y(when)g(programs)f(m)o(ust)g(w)o(ork)g(with)h
(suc)o(h)g(addresses.)439 1406 y(\(a\))21 b(T)m(o)13
b(implemen)o(t)e(hash)j(tables,)g(etc.)437 1473 y(\(b\))21
b(T)m(o)12 b(pass)i(addresses)h(to)e(pro)q(cedures)j(written)d(in)g
(other)h(languages,)e(whic)o(h)h(is)513 1523 y(inheren)o(tly)h(unp)q
(ortable.)369 1614 y(2.)20 b(Unsafe)h(co)q(de)g(can)f(put)h(the)g
(traced)g(heap)g(temp)q(orarily)e(in)o(to)g(an)h(inconsisten)o(t)422
1664 y(state.)32 b(If)18 b(the)h(collector)f(happ)q(ens)h(to)f(run)h
(then,)h(it)d(migh)o(t)g(delete)i(no)q(des)g(that)422
1714 y(seem)c(unreac)o(hable)h(but)g(that)f(in)g(fact)h(are)f
(accessible.)25 b(Of)15 b(course,)h(unsafe)g(co)q(de)422
1764 y(itself)d(is)h(inheren)o(tly)g(unp)q(ortable.)380
1855 y(This)f(in)o(terface)g(allo)o(ws)e(the)i(program)e(to)h(con)o
(trol)g(the)h(Mo)q(dula-3)e(collector)i(to)f(a)o(v)o(oid)318
1905 y(suc)o(h)j(problems,)d(as)i(w)o(ell)f(as)h(to)g(pass)g(hin)o(ts)g
(to)g(impro)o(v)o(e)e(p)q(erformance.)318 2038 y Fn(Disablin)o(g)h(the)
h(collector.)40 b Fl(The)14 b(collector)f(is)h(initially)d(enabled;)i
(the)h(collector)g(can)318 2088 y(reclaim)i(storage,)i(and)f(mo)o(v)o
(e)f(no)q(des)i(in)f(memory)m(.)25 b(While)17 b(the)h(collector)g(is)f
(disabled,)318 2138 y(there)k(will)e(b)q(e)i(no)f(time)e(sp)q(en)o(t)j
(in)f(the)h(collector.)37 b(Allo)q(cation)18 b(in)i(the)h(traced)g
(heap)318 2187 y(ma)o(y)d(pro)q(ceed)k(normally)l(,)c(although)h(the)i
(heap)f(will)f(gro)o(w)g(without)h(b)q(ound.)36 b(No)q(des)318
2237 y(unreac)o(hable)20 b(b)o(y)e(the)h(Mo)q(dula-3)f(rules)i(will)d
(not)i(b)q(e)g(reclaimed,)g(and)f(no)h(no)q(des)h(will)318
2287 y(mo)o(v)o(e.)418 2387 y Fg(PROCEDURE)g(Disable\(\);)418
2449 y Fe(Disable)13 b(the)h(collector.)p eop
%%Page: 95 105
95 104 bop 141 162 a Fe(7.4)41 b(R)m(TCollector)1074
b Fl(95)241 307 y Fg(PROCEDURE)20 b(Enable\(\);)241 369
y Fe(Reenable)10 b(the)h(collector)f(if)f Fc(Enable)g
Fe(has)h(b)q(een)i(called)d(as)i(man)o(y)d(times)h(as)h
Fc(Disable)p Fe(.)241 419 y(It)k(is)f(a)h(c)o(hec)o(k)o(ed)h(run)o
(time)e(error)i(to)e(call)h Fc(Enable)e Fe(more)h(times)g(than)h
Fc(Disable)p Fe(.)141 552 y Fn(Disablin)o(g)i(motion.)40
b Fl(Disabling)15 b(motion)f(giv)o(es)j(few)o(er)g(guaran)o(tees)h
(than)e(disabling)141 602 y(the)f(collector;)f(while)f(motion)f(is)i
(disabled,)f(it)h(is)g(guaran)o(teed)h(only)e(that)h(no)g(no)q(des)h
(will)141 652 y(mo)o(v)o(e.)g(Disabling)10 b(motion)e(is)j(no)g(more)f
(exp)q(ensiv)o(e)i(than)f(disabling)e(the)j(en)o(tire)f(collector,)141
702 y(and)j(ma)o(y)e(b)q(e)i(c)o(heap)q(er)h(in)f(some)f(implemen)o
(tatio)o(ns.)241 801 y Fg(PROCEDURE)20 b(DisableMotion\(\))o(;)241
863 y Fe(Disable)13 b(motion.)j(While)d(motion)e(is)j(disabled,)f(no)h
(no)q(des)h(will)d(mo)o(v)o(e.)241 963 y Fg(PROCEDURE)20
b(EnableMotion\(\);)241 1025 y Fe(Reenable)e(motion)e(if)i
Fc(EnableMotion)e Fe(has)i(b)q(een)i(called)e(as)g(man)o(y)f(times)g
(as)241 1075 y Fc(DisableMotion)p Fe(,)11 b(and)k Fc(Enable)e
Fe(has)i(b)q(een)h(called)f(as)f(man)o(y)f(times)h(as)h
Fc(Disable)p Fe(.)241 1125 y(It)j(is)g(a)g(c)o(hec)o(k)o(ed)i(run)o
(time)d(error)i(to)f(call)g Fc(EnableMotion)e Fe(more)h(times)g(than)
241 1175 y Fc(DisableMotion)p Fe(.)141 1308 y Fn(Collecting.)39
b Fl(Calling)11 b Fg(Collect)g Fl(is)h(a)g(hin)o(t)h(from)d(the)k
(program)d(that)h(no)o(w)g(w)o(ould)g(b)q(e)h(a)141 1357
y(go)q(o)q(d)f(time)e(for)i(a)g(collection)g(\(for)f(example,)g(if)g(a)
h(large)g(amoun)o(t)e(of)i(storage)g(has)g(b)q(ecome)141
1407 y(unreac)o(hable,)g(or)g(if)f(the)h(program)e(exp)q(ects)k(to)d(w)
o(ait)g(some)g(time)f(for)h(an)h(external)g(ev)o(en)o(t\).)241
1507 y Fg(PROCEDURE)20 b(Collect\(\);)241 1569 y Fe(Ma)o(yb)q(e)14
b(collect)g(no)o(w.)241 1669 y Fg(END)21 b(RTCollector.)141
1802 y Fn(Implemen)o(tati)o(on)d(notes.)41 b Fl(This)19
b(section)h(describ)q(es)h(the)f(implemen)o(tation)c(of)i(the)141
1851 y(SR)o(C)i(Mo)q(dula-3)f(collector,)i(as)g(a)f(guide)g(to)g(SR)o
(C)f(Mo)q(dula-3)h(programmers)e(and)i(as)141 1901 y(an)15
b(indication)g(of)f(ho)o(w)i(this)f(in)o(terface)h(is)g(matc)o(hed)e
(to)i(a)f(particular)g(implemen)o(tation.)141 1951 y(P)o(ortable)j
(programs)e(m)o(ust)h(not)h(tak)o(e)g(adv)n(an)o(tage)e(of)i(implem)o
(en)o(tation)d(details)i(of)g(the)141 2001 y(SR)o(C)c(Mo)q(dula-3)g
(collector.)203 2051 y(The)18 b(SR)o(C)f(Mo)q(dula-3)g(collector)h(is)f
(an)h(incremen)o(tal,)f(generational,)h(conserv)n(ativ)o(e)141
2100 y(mostly-cop)o(ying)12 b(collector)j(that)f(uses)i(VM)e
(protection)h(on)f(heap)h(pages)g(to)f(b)q(e)h(noti\014ed)141
2150 y(of)e(certain)i(heap)f(accesses.)203 2200 y(Because)24
b(the)e(SR)o(C)e(collector)i(is)f(conserv)n(ativ)o(e,)j(an)d
(inaccessible)h(no)q(de)g(ma)o(y)d(b)q(e)141 2250 y(considered)14
b(reac)o(hable)e(if)f(a)h(bit-pattern)h(either)g(on)f(a)f(thread's)i
(stac)o(k)g(or)f(in)f(its)i(registers)141 2300 y(migh)o(t)i(b)q(e)k(a)e
(reference)j(to)d(or)h(in)o(to)f(the)h(no)q(de.)29 b(Exp)q(erience)20
b(to)d(date)h(has)g(not)f(sho)o(wn)141 2350 y(acciden)o(tal)d(no)q(de)g
(reten)o(tion)h(to)e(b)q(e)i(a)f(problem.)203 2399 y(The)h(SR)o(C)f
(collector)h(will)e(not)i(collect)g(or)f(mo)o(v)o(e)f(a)h(no)q(de)h
(while)f(an)o(y)g(thread's)i(stac)o(k)141 2449 y(or)c(registers)i(con)o
(tains)e(a)g(reference)j(to)d(or)g(in)o(to)f(the)i(no)q(de.)18
b(The)13 b(SR)o(C)e(Mo)q(dula-3)g(system)p eop
%%Page: 96 106
96 105 bop 318 162 a Fl(96)1125 b Fe(7)41 b(R)o(UNTIME)318
307 y Fl(guaran)o(tees)18 b(that)f(this)h(will)d(include)j(references)i
(passed)e(as)f(v)n(alue)g(parameters.)28 b(This)318 357
y(guaran)o(tee)14 b(is)g(useful)g(for)g(calling)e(foreign)h(pro)q
(cedures.)380 407 y Fg(Disable)d Fl(completes)h(the)h(curren)o(t)h
(incremen)o(tal)d(collection,)h(if)g(an)o(y)m(,)f(and)h(unprotects)318
457 y(all)h(heap)h(pages,)g(so)g(that)f(no)h(page)g(faults)f(will)f(o)q
(ccur)j(while)f(collection)f(is)h(disabled.)k(No)318
506 y(new)e(collections)f(will)f(start)j(while)e(collection)g(is)g
(disabled.)20 b(The)15 b(next)g(collection)f(after)318
556 y(collection)i(is)h(reenabled)h(will)d(b)q(e)j(total,)e(as)h(opp)q
(osed)g(to)g(partial,)f(since)h(unprotecting)318 606
y(the)d(heap)h(loses)f(generational)f(information.)380
656 y Fg(DisableMotion)c Fl(disables)j(further)h(collections)f(from)e
(b)q(eginning.)17 b Fg(DisableMotion)318 706 y Fl(do)q(es)i(not)f
(\014nish)g(the)h(curren)o(t)h(incremen)o(tal)d(collection,)i(since)g
(the)g(collector)f(already)318 756 y(guaran)o(tees)f(that)f(the)h
(program)d(will)h(not)h(see)h(addresses)i(in)c(the)i(previous)f(space.)
26 b(No)318 805 y(new)12 b(collections)g(will)e(start)i(while)f(motion)
f(is)h(disabled,)h(so)g(that)f(the)i(curren)o(t)g(space)g(will)318
855 y(not)h(b)q(ecome)g(the)g(previous)g(space.)19 b(It)14
b(is)g(not)g(necessary)i(to)e(unprotect)h(the)f(heap.)380
905 y Fg(Collect)e Fl(completes)h(the)i(curren)o(t)f(incremen)o(tal)f
(collection,)g(if)f(an)o(y)m(,)g(then)j(p)q(erforms)318
955 y(a)f(total)f(collection)g(b)q(efore)i(returning)f(to)g(the)h
(caller.)380 1005 y(The)g Fg(@M3nogc)d Fl(\015ag)h(p)q(erforms)h(an)f
(initial)f(call)h(to)h Fg(Disable)p Fl(.)380 1054 y(The)19
b(SR)o(C)f(collector)h(also)f(supp)q(orts)i(additional)d(op)q(erations)
i(for)f(con)o(trolling)f(the)318 1104 y(frequency)g(of)e(collection,)h
(disabling)e(and)i(reenabling)g(incremen)o(tal)f(and)h(generational)318
1154 y(collection,)d(rep)q(orting)h(on)f(collector)h(p)q(erformance,)g
(and)f(so)h(on.)k(These)d(op)q(erations)f(are)318 1204
y(accessible)h(through)f(the)h(implem)o(en)o(tation-dep)q(enden)o(t)e
Fg(RTCollectorSRC)e Fl(in)o(terface.)318 1343 y Ff(7.5)56
b(R)-5 b(THeap)318 1443 y Fg(RTHeap)13 b Fl(pro)o(vides)h(access)h(to)f
(the)h(la)o(y)o(out)d(of)i(data)f(on)h(the)g(heap.)318
1516 y(Eac)o(h)25 b(referen)o(t)h(on)e(the)h(heap,)i(and)d(the)h(heap)f
(data)g(record)i(for)e(eac)o(h)h(ob)r(ject,)i(is)318
1566 y(represen)o(ted)e(as)c(a)h(con)o(tiguous)f(sequence)j(of)d
(\\data)h(b)o(ytes".)42 b(Referen)o(ts)23 b(and)e(data)318
1616 y(records)g(ma)o(y)d(also)h(con)o(tain)h(other)g(\\non-data")f(b)o
(ytes)h(lik)o(e)f(headers,)k(metho)q(d)c(suite)318 1666
y(p)q(oin)o(ters,)14 b(or)g(op)q(en)g(arra)o(y)g(shap)q(es.)380
1716 y(See)h Fg(RTType)e Fl(for)g(related)i(op)q(erations)f(on)f(t)o
(yp)q(es.)418 1810 y Fg(INTERFACE)20 b(RTHeap;)418 1883
y(PROCEDURE)g(GetDataAdr\(r:)f(REFANY\):)h(ADDRESS;)418
1945 y Fe(If)14 b Fc(r)g Fe(is)g(a)g(traced)h(reference,)h(returns)g
(the)f(address)h(of)d Fc(r^)p Fe('s)h(data)g(b)o(ytes.)20
b(If)14 b Fc(r)g Fe(is)g(a)418 1995 y(traced)h(ob)r(ject,)h(returns)g
(the)f(address)h(of)e(the)h(b)o(ytes)h(of)e Fc(r)p Fe('s)g(data)g
(record.)22 b(It)15 b(is)f(a)418 2045 y(c)o(hec)o(k)o(ed)h(run)o(time)d
(error)j(if)e Fc(r)g Fe(is)h Fc(NIL)p Fe(.)f(Note)h(that)g(the)g
(address)h(can)f(subsequen)o(tly)418 2094 y(c)o(hange)g(unless)h(ob)r
(ject)f(mobilit)o(y)d(is)j(disabled)f(using)h Fc(RTCollector)p
Fe(.)418 2191 y Fg(PROCEDURE)20 b(GetDataSize\(r:)e(REFANY\):)j
(CARDINAL;)418 2253 y Fe(If)15 b Fc(r)g Fe(is)g(a)g(traced)h
(reference,)i(returns)f(the)f(n)o(um)o(b)q(er)f(of)f
Fc(r^)p Fe('s)h(data)g(b)o(ytes.)23 b(If)15 b Fc(r)h
Fe(is)418 2303 y(a)f(traced)i(ob)r(ject,)g(returns)g(the)g(n)o(um)o(b)q
(er)e(of)g(b)o(ytes)i(of)e Fc(r)p Fe('s)g(data)h(record.)25
b(It)16 b(is)g(a)418 2352 y(c)o(hec)o(k)o(ed)f(run)o(time)e(error)h(if)
f Fc(r)h Fe(is)g Fc(NIL)p Fe(.)418 2449 y Fg(PROCEDURE)20
b(GetArrayShape\(r)o(:)f(REFANY;)h(VAR)i(s:)f(ARRAY)g(OF)g(INTEGER\);)p
eop
%%Page: 97 107
97 106 bop 141 162 a Fe(7.6)41 b(R)m(TT)o(yp)q(eFP)1090
b Fl(97)241 307 y Fe(If)14 b Fc(r)h Fe(is)g(a)f(traced)i(reference)i
(to)d(an)f(op)q(en)i(arra)o(y)m(,)e(returns)i(in)f Fc(s[0)21
b(..)43 b(n-1])14 b Fe(the)241 357 y(size)j(of)f(eac)o(h)h(dimension)e
(of)h(the)h(n-dimensional)d(op)q(en)j(arra)o(y)g Fc(r^)p
Fe(.)25 b(If)16 b Fc(s)h Fe(is)f(to)q(o)241 407 y(large,)d(the)i(extra)
g(elemen)o(ts)f(are)h(ignored;)f(if)g(it's)g(to)q(o)g(small,)d(the)k
(extra)g(sizes)h(are)241 457 y(discarded.)j(It)14 b(is)g(a)g(c)o(hec)o
(k)o(ed)i(run)o(time)d(error)i(if)e Fc(r)h Fe(is)g Fc(NIL)p
Fe(.)f(If)g Fc(r)h Fe(is)g(not)g(a)g(reference)241 506
y(to)f(an)h(op)q(en)g(arra)o(y)m(,)f Fc(s)h Fe(is)f(unc)o(hanged.)241
606 y Fg(END)21 b(RTHeap.)141 747 y Ff(7.6)56 b(R)-5
b(TT)n(yp)r(eFP)203 849 y Fg(RTTypeFP)12 b Fl(pro)o(vides)j(run)o(time)
d(access)k(to)e(t)o(yp)q(e)g(\014ngerprin)o(ts.)203 899
y(A)d(t)o(yp)q(e's)g(\014ngerprin)o(t)g(is)g(a)f(64-bit)g(c)o(hec)o
(ksum)h(computed)f(from)f(its)i(declaration.)17 b(The)141
948 y(probabilit)o(y)c(of)h(distinct)h(t)o(yp)q(es)g(ha)o(ving)f(the)h
(same)f(\014ngerprin)o(t)h(is)f(v)o(ery)h(small.)j(See)d(the)141
998 y Fg(Fingerprint)d Fl(in)o(terface)i(for)g(more)e(details.)203
1048 y(T)o(yp)q(eco)q(des)19 b(ma)o(y)c(v)n(ary)h(b)q(et)o(w)o(een)j
(executions)f(of)e(a)h(program)e(but)j(\014ngerprin)o(ts)f(do)141
1098 y(not.)32 b(Fingerprin)o(ts)20 b(are)f(p)q(ortable)g(across)g(m)o
(ultiple)e(runs)i(of)f(a)h(single)f(program)f(and)141
1148 y(across)e(all)d(programs)h(compiled)f(b)o(y)i(the)h(same)e
(compiler.)241 1245 y Fg(INTERFACE)20 b(RTTypeFP;)241
1318 y(IMPORT)g(Fingerprint;)241 1366 y(FROM)h(RTType)f(IMPORT)h
(Typecode;)241 1440 y(PROCEDURE)f(ToFingerprint\(t)o(c:)f(Typecode\):)h
(Fingerprint.T;)241 1502 y Fe(Return)14 b(the)h(\014ngerprin)o(t)g
(corresp)q(onding)g(to)f Fc(tc)p Fe(.)k(It)c(is)g(a)g(c)o(hec)o(k)o(ed)
i(run)o(time)d(error)241 1552 y(if)g Fc(tc)g Fe(is)h(not)g(prop)q(er)g
(or)g(do)q(es)h(not)f(name)e(a)i(traced)h(reference)h(t)o(yp)q(e.)241
1650 y Fg(PROCEDURE)k(FromFingerprint)o(\(READ)o(ONLY)e(fp:)k
(Fingerprint.T\))284 1700 y(:)g(Typecode;)241 1762 y
Fe(Return)15 b(the)g(t)o(yp)q(eco)q(de)h(that)f(corresp)q(onds)i(to)e
Fc(fp)p Fe(.)20 b(If)14 b(no)h(suc)o(h)g(t)o(yp)q(eco)q(de)h(exists,)
241 1812 y(returns)f Fc(RTType.NoSuchType)p Fe(.)241
1911 y Fg(END)21 b(RTTypeFP.)p eop
%%Page: 98 108
98 107 bop 318 162 a Fl(98)905 b Fe(A)41 b(BASIC)15 b(D)o(A)m(T)m(A)d
(TYPES)318 307 y Fj(A)69 b(Basic)22 b(Data)h(T)n(yp)r(es)318
423 y Fl(An)11 b Fg(Integer.T)d Fl(is)j(an)f Fg(INTEGER)p
Fl(.)f(This)h(in)o(terface)h(is)g(in)o(tended)g(to)f(b)q(e)h(used)h(to)
e(instan)o(tiate)318 473 y(generic)15 b(in)o(terfaces)g(and)e(mo)q
(dules)g(suc)o(h)i(as)f Fg(Table)f Fl(and)g Fg(List)p
Fl(.)418 570 y Fg(INTERFACE)20 b(Integer;)418 643 y(IMPORT)g(Word;)418
716 y(TYPE)h(T)g(=)h(INTEGER;)418 790 y(PROCEDURE)e(Equal\(a,)g(b:)h
(T\):)g(BOOLEAN;)418 853 y Fe(Return)14 b Fc(a)22 b(=)f(b)p
Fe(.)418 952 y Fg(PROCEDURE)f(Hash\(a:)g(T\):)h(Word.T;)418
1015 y Fe(Return)14 b Fc(a)p Fe(.)418 1114 y Fg(PROCEDURE)20
b(Compare\(a,)f(b:)j(T\):)f([-1..1];)418 1176 y Fe(Return)14
b Fc(-1)f Fe(if)g Fc(a)22 b(<)g(b)p Fe(,)13 b Fc(0)g
Fe(if)g Fc(a)22 b(=)g(b)p Fe(,)13 b(or)h Fc(+1)f Fe(if)g
Fc(a)22 b(>)f(b)p Fe(.)418 1276 y Fg(END)g(Integer.)318
1376 y Fl(A)d Fg(Refany.T)d Fl(is)j(a)f Fg(REFANY)p Fl(.)e(This)j(in)o
(terface)g(is)f(in)o(tended)h(to)g(b)q(e)g(used)g(to)f(instan)o(tiate)
318 1425 y(generic)e(in)o(terfaces)g(and)e(mo)q(dules)g(suc)o(h)i(as)f
Fg(Table)f Fl(and)g Fg(List)p Fl(.)418 1523 y Fg(INTERFACE)20
b(Refany;)418 1596 y(IMPORT)g(Word;)418 1668 y(TYPE)h(T)g(=)h(REFANY;)
418 1743 y(PROCEDURE)e(Equal\(r1,)f(r2:)j(T\):)f(BOOLEAN;)418
1805 y Fe(Return)14 b Fc(r1)21 b(=)h(r2)p Fe(.)418 1905
y Fg(PROCEDURE)e(Hash\(r:)g(T\):)h(Word.T;)418 1967 y
Fe(Cause)14 b(a)g(c)o(hec)o(k)o(ed)h(run)o(time)e(error.)418
2067 y Fg(PROCEDURE)20 b(Compare\(r1,)f(r2:)i(T\):)g([-1..1];)418
2129 y Fe(Cause)14 b(a)g(c)o(hec)o(k)o(ed)h(run)o(time)e(error.)418
2229 y Fg(END)21 b(Refany.)380 2303 y Fl(Note)14 b(that)g(the)g(in)o
(terfaces)g Fg(Text)p Fl(,)e Fg(Real)p Fl(,)g Fg(LongReal)p
Fl(,)g Fg(Extended)p Fl(,)f(and)i Fg(Atom)g Fl(\(whic)o(h)318
2353 y(w)o(ere)22 b(presen)o(ted)h(in)e(the)h(main)c(b)q(o)q(dy)k(of)e
(this)h(rep)q(ort\))h(pro)o(vide)f Fg(Equal)p Fl(,)h
Fg(Hash)p Fl(,)f(and)318 2403 y Fg(Compare)12 b Fl(pro)q(cedures.)p
eop
%%Page: 99 109
99 108 bop 141 162 a Fe(REFERENCES)1106 b Fl(99)141 307
y Fj(References)162 398 y Fl([1])19 b(Cecilia)26 b(Aragon)g(and)g(Raim)
o(und)e(Seidel.)56 b(Randomized)24 b(searc)o(h)k(trees.)57
b(In)226 448 y Fd(Pr)n(o)n(c)n(e)n(e)n(dings)15 b(30th)g(F)o(OCS)p
Fl(,)f(1989.)162 532 y([2])19 b(Andrew)12 b(Birrell,)f(Greg)g(Nelson,)g
(Susan)g(Owic)o(ki,)g(and)g(Edw)o(ard)g(W)m(obb)q(er.)i(Net)o(w)o(ork)
226 582 y(ob)r(jects.)32 b(In)18 b Fd(Pr)n(o)n(c)n(e)n(e)n(dings)h(of)f
(the)h(14th)g(Symp)n(osium)h(on)f(Op)n(er)n(ating)f(Principles)p
Fl(,)226 632 y(Decem)o(b)q(er)d(1993.)162 715 y([3])k(Andrei)g(Bro)q
(der.)32 b(Some)16 b(applications)h(of)h(Rabin's)f(\014ngerprin)o(ting)
h(metho)q(d.)29 b(In)226 765 y(Renato)14 b(Cap)q(o)q(celli,)f(Alfredo)h
(De)g(San)o(tis,)g(and)f(Ugo)h(V)m(accaro,)g(editors,)g
Fd(Se)n(quenc)n(es)226 815 y(II:)19 b(Metho)n(ds)g(in)g(Communic)n
(ations,)h(Se)n(curity,)g(and)g(Computer)e(Scienc)n(e)p
Fl(,)i(pages)226 865 y(143{152.)12 b(Springer-V)m(erlag,)h(1993.)162
948 y([4])19 b(Marc)12 b(H.)g(Bro)o(wn)g(and)f(James)g(R.)g(Meehan)h
(\(editors\).)j(VBTkit)d(reference)i(man)o(ual.)226 998
y(Researc)o(h)f(rep)q(ort,)f(Digital)d(Equipmen)o(t)h(Corp)q(oration)g
(Systems)h(Researc)o(h)h(Cen)o(ter.)226 1048 y(T)m(o)h(app)q(ear.)162
1132 y([5])19 b(Marc)j(H.)f(Bro)o(wn)h(and)f(James)g(R.)f(Meehan.)42
b(F)m(ormsVBT)20 b(reference)k(man)o(ual.)226 1182 y(Researc)o(h)13
b(rep)q(ort,)f(Digital)d(Equipmen)o(t)h(Corp)q(oration)g(Systems)h
(Researc)o(h)h(Cen)o(ter.)226 1231 y(T)m(o)h(app)q(ear.)162
1315 y([6])19 b(Da)o(vid)12 b(M.)h(Ga)o(y)m(.)i(Correctly)f(rounded)g
(binary-decimal)d(and)i(decimal-binary)e(con-)226 1365
y(v)o(ersions.)21 b(Numerical)14 b(Analysis)g(Man)o(uscript)h(90-10,)e
(A)m(T&T)i(Bell)f(Lab)q(oratories,)226 1415 y(No)o(v)o(em)o(b)q(er)f
(30)h(1990.)162 1499 y([7])19 b(C.)i(A.)h(R.)e(Hoare.)42
b(Monitors:)33 b(An)22 b(op)q(erating)f(system)h(structuring)g
(concept.)226 1548 y Fd(Communic)n(ations)16 b(of)e(the)h(A)o(CM)p
Fl(,)e(17\(10\),)g(Octob)q(er)i(1974.)162 1632 y([8])k(IEEE)k(T)m(ec)o
(hnical)g(Comm)o(ittee)e(on)h(Op)q(erating)h(Systems.)43
b Fd(Standar)n(d)23 b(Portable)226 1682 y(Op)n(er)n(ating)g(System)h
(Interfac)n(e)f(for)g(Computer)g(Envir)n(onments)p Fl(.)46
b(IEEE,)24 b(1988.)226 1732 y(Standard)14 b(1003.1-1988.)162
1815 y([9])19 b(Donald)g(E.)g(Kn)o(uth.)35 b Fd(Seminumeric)n(al)20
b(A)o(lgorithms)p Fl(.)34 b(Addison)19 b(W)m(esley)m(,)h(second)226
1865 y(edition,)13 b(1981.)141 1949 y([10])19 b(Butler)d(W.)f(Lampson)e
(and)i(Da)o(vid)f(D.)g(Redell.)22 b(Exp)q(erience)17
b(with)d(pro)q(cesses)k(and)226 1999 y(monitors)13 b(in)g(Mesa.)19
b Fd(Communic)n(ations)c(of)g(the)g(A)o(CM)p Fl(,)e(23\(2\),)g(F)m
(ebruary)h(1980.)141 2082 y([11])19 b(Mark)f(S.)f(Manasse)i(and)f(Greg)
f(Nelson.)30 b(T)m(restle)19 b(reference)h(man)o(ual.)27
b(Researc)o(h)226 2132 y(Rep)q(ort)f(68,)i(Digital)c(Equipmen)o(t)h
(Corp)q(oration)g(Systems)g(Researc)o(h)i(Cen)o(ter,)226
2182 y(Decem)o(b)q(er)15 b(1991.)141 2266 y([12])k(Microsoft)h(Corp)q
(oration.)35 b Fd(Micr)n(osoft)20 b(Win32)h(Pr)n(o)n(gr)n(ammer's)e(R)n
(efer)n(enc)n(e)p Fl(.)36 b(Mi-)226 2316 y(crosoft)15
b(Press,)g(1993.)141 2399 y([13])k(Greg)c(Nelson,)g(editor.)20
b Fd(Systems)c(Pr)n(o)n(gr)n(amming)f(with)g(Mo)n(dula-3)p
Fl(.)21 b(Pren)o(tice)16 b(Hall,)226 2449 y(1991.)p eop
%%Page: 100 110
100 109 bop 318 162 a Fl(100)1084 b Fe(REFERENCES)318
307 y Fl([14])19 b(M.)d(O.)h(Rabin.)24 b(Fingerprin)o(ting)16
b(b)o(y)h(random)e(p)q(olynomial)o(s.)24 b(Rep)q(ort)16
b(TR-15-81,)403 357 y(Departmen)o(t)e(of)f(Computer)g(Science,)i(Harv)n
(ard)f(Univ)o(ersit)o(y)m(,)e(1981.)318 440 y([15])19
b(P)o(aul)h(Ro)o(vner,)h(Ro)o(y)f(Levin,)h(and)f(John)h(Wic)o(k.)37
b(On)20 b(extending)h(Mo)q(dula-2)e(for)403 490 y(building)13
b(large,)h(in)o(tegrated)h(systems.)20 b(Researc)o(h)c(Rep)q(ort)f(3,)f
(Digital)e(Equipmen)o(t)403 540 y(Corp)q(oration)i(Systems)f(Researc)o
(h)i(Cen)o(ter,)g(Jan)o(uary)f(1985.)318 623 y([16])19
b(Rob)q(ert)c(Sedgewic)o(k.)j Fd(A)o(lgorithms)p Fl(.)f(Addison-W)m
(esley)m(,)12 b(1983.)318 706 y([17])19 b(Guy)c(L.)g(Steele)h(Jr.)g
(and)f(Jon)g(L)g(White.)22 b(Ho)o(w)15 b(to)h(prin)o(t)f(\015oating-p)q
(oin)o(t)e(n)o(um)o(b)q(ers)403 756 y(accurately)m(.)47
b(In)24 b Fd(Pr)n(o)n(c)n(e)n(e)n(dings)f(of)h(the)g(A)o(CM)f(SIGPLAN)h
('90)g(Confer)n(enc)n(e)g(on)403 805 y(Pr)n(o)n(gr)n(amming)15
b(L)n(anguage)h(Design)f(and)h(Implementation)p Fl(,)d(1990.)318
888 y([18])19 b(J.)e(E.)g(Sto)o(y)f(and)h(C.)f(Strac)o(hey)m(.)28
b(OS6|an)16 b(exp)q(erimen)o(tal)g(op)q(erating)h(system)f(for)403
938 y(a)e(small)e(computer.)h(Part)i(2:)j(Input/output)c(and)g
(\014ling)f(system.)18 b Fd(The)d(Computer)403 988 y(Journal)p
Fl(,)f(15\(3\),)f(Ma)o(y)g(1972.)p eop
%%Page: 101 111
101 110 bop 141 162 a Fe(INDEX)1233 b Fl(101)141 370
y Fj(Index)141 452 y Fg(@M3nogc)12 b Fl(command-line)f(\015ag,)i(96)141
541 y(absolute)h(pathname,)e(74)224 590 y(from)g(relativ)o(e)i
(pathname,)e(78)141 640 y(abstract)j(t)o(yp)q(e,)f(1)141
690 y(abstraction,)g(1)141 740 y(alerting)f(a)h(thread,)g(8)141
790 y(aliasing)e(of)h Fg(VAR)h Fl(parameters,)f(2)141
839 y(allo)q(cator,)f(93,)h(96)141 889 y Fg(ArraySort)f
Fl(generic)j(in)o(terface,)f(40)141 939 y Fg(Atom)f Fl(in)o(terface,)h
(27)141 989 y(atomic)e(execution)224 1039 y(of)h(memory)f(op)q
(erations,)h(8)224 1089 y(of)g(pro)q(cedures)j(and)e(metho)q(ds,)f(2)
141 1138 y(atomic)f(sym)o(b)q(ol,)g(27)141 1227 y(base)i(of)g
(pathname,)e(74)141 1276 y(bit)i(sequence,)h(9)141 1326
y(bu\013ered)g(\014le)f(I/O,)g(58,)f(59)141 1376 y Fg(Bundle)g
Fl(in)o(terface,)h(38)141 1464 y(calendar)g(date,)g(62)141
1514 y(c)o(haracter)h(input)f(stream,)f(51)141 1564 y(c)o(haracter)i
(output)f(stream,)f(48)141 1614 y(c)o(hec)o(ksum,)g(42)141
1664 y(clo)q(c)o(k,)g Fd(se)n(e)k Fl(time)141 1713 y(collector,)d(94)
141 1763 y Fg(Compare)e Fl(pro)q(cedure,)k(3)141 1813
y(concurrency)m(,)f(2)141 1863 y(condition)e(v)n(ariable,)g(7)141
1913 y(creating)h(a)g(\014le,)f(79)141 2001 y Fg(Date)g
Fl(in)o(terface,)h(62)141 2051 y(deallo)q(cating)f(resources,)j(88)141
2100 y(decimal)c(con)o(v)o(ersion)224 2150 y(from)g(\015oating-p)q(oin)
o(t,)g(14)224 2200 y(to)i(\015oating-p)q(oin)o(t,)e(13)141
2250 y Fg(Default)g Fl(t)o(yp)q(e,)i(2)141 2300 y(deque:)26
b Fg(Sequence)15 b Fl(generic)j(in)o(terface,)307 2350
y(25)141 2399 y(directory)m(,)c(78)141 2449 y(domain,)d(4)930
452 y(elapsed)j(time,)e(63)930 502 y Fg(Env)h Fl(in)o(terface,)h(86)930
553 y(en)o(vironmen)o(t)f(v)n(ariables,)f(82,)h(86)930
603 y(ep)q(o)q(c)o(h,)h(61)930 653 y Fg(Equal)f Fl(pro)q(cedure,)i(3)
930 703 y(equiv)n(alence)f(relation,)f(4)930 753 y(errors,)h(op)q
(erating)g(system,)f(64)930 803 y(exp)q(onen)o(tiation,)g(9)930
853 y Fg(Extended)f Fl(in)o(terface,)i(11)930 903 y Fg(ExtendedFloat)d
Fl(in)o(terface,)j(12)930 953 y(extension)g(of)g(pathname,)e(74)930
1050 y(\014le)1013 1100 y(bu\013ered)j(I/O,)f(58,)e(59)1013
1150 y(creation,)i(79)1013 1200 y(handle,)f(64)1013 1250
y(un)o(bu\013ered)i(I/O,)e(64)930 1300 y Fg(File)g Fl(in)o(terface,)h
(64)930 1351 y Fg(FileRd)e Fl(in)o(terface,)i(59)930
1401 y Fg(FileWr)e Fl(in)o(terface,)i(58)930 1451 y Fg(Fingerprint)d
Fl(in)o(terface,)j(42)930 1501 y(\014ngerprin)o(t)g(of)f(t)o(yp)q(e,)h
(97)930 1551 y(\014xed-p)q(oin)o(t)f(notation,)g(21)930
1601 y Fg(Float)g Fl(generic)h(in)o(terface,)g(12)930
1651 y(\015oating-p)q(oin)o(t,)e(10)1013 1701 y(con)o(v)o(ersion)i
(from)e(decimal,)g(13)1013 1751 y(con)o(v)o(ersion)i(to)g(decimal,)d
(14)1013 1801 y(op)q(erations,)i(12)1013 1852 y(represen)o(tation,)i
(10)1013 1902 y(rounding,)e(16)1013 1952 y(traps)h(\(exceptions\),)h
(16)930 2002 y Fg(FloatMode)d Fl(in)o(terface,)i(15)930
2052 y Fg(Fmt)f Fl(in)o(terface,)h(20)930 2102 y(formatted)e(data)1013
2152 y(reading,)h(17)1013 2202 y(writing,)f(20)930 2252
y Fg(FS)h Fl(in)o(terface,)h(78)930 2303 y(function:)j(map,)12
b(4)930 2399 y(garbage)h(collection)1013 2449 y(con)o(trol)g(o)o(v)o
(er,)h(94)p eop
%%Page: 102 112
102 111 bop 318 162 a Fl(102)1232 b Fe(INDEX)401 307
y Fl(prop)q(erties)15 b(of,)e(95)401 357 y(w)o(eak)h(references,)i(88)
318 407 y(Green)o(wic)o(h)e(mean)f(time,)f(62)318 505
y Fg(Hash)h Fl(pro)q(cedure,)i(3)318 555 y(hashing)e(references,)k(3)
318 605 y(heap,)d(93,)f(96)318 655 y(Hoare's)h(monitors,)e(7)318
753 y(I/O)401 803 y(bu\013ered)j(streams,)f(47)401 853
y(for)g(simple)e(programs,)g(47)401 903 y(standard)i(handles,)g(82,)f
(84)401 953 y(un)o(bu\013ered,)i(64)318 1003 y(IEEE)g(\015oating-p)q
(oin)o(t,)c(10)318 1054 y Fg(init)i Fl(metho)q(d,)g(1)318
1104 y(initializing)e(an)j(ob)r(ject,)g(1)318 1154 y(input)g(stream,)f
(51)318 1204 y Fg(Integer)f Fl(in)o(terface,)i(98)318
1254 y(in)o(terrupting)g(a)g(thread,)g(8)318 1304 y(in)o(terv)n(al,)f
(4)318 1355 y Fg(IO)g Fl(in)o(terface,)h(47)318 1452
y Fg(Lex)f Fl(in)o(terface,)h(17)318 1502 y Fg(List)f
Fl(generic)i(in)o(terface,)f(28)318 1552 y Fg(ListSort)e
Fl(generic)j(in)o(terface,)f(29)318 1602 y(lo)q(cal)f(time,)f(62)318
1653 y(lo)q(c)o(k:)18 b(m)o(utex,)12 b(7)318 1703 y(logical)g(op)q
(erations,)i(9)318 1753 y Fg(LongFloat)e Fl(in)o(terface,)i(12)318
1803 y Fg(LongReal)e Fl(in)o(terface,)i(11)318 1900 y
Fg(m3bundle)e Fl(program,)g(38)318 1951 y(map,)g(4)401
2001 y(up)q(datable,)h(34,)g(37)318 2051 y(monitor,)e(7)318
2101 y(monitored)h(data)i(structure,)i(2)318 2151 y(m)o(utex,)c(7)318
2249 y(naming)g(con)o(v)o(en)o(tions)401 2299 y(destructiv)o(e)k(list)d
(op)q(erations,)h(28)401 2349 y(t)o(yp)q(es,)g(1)318
2399 y(NaN)g(\(not)g(a)f(n)o(um)o(b)q(er\),)g(13)318
2449 y(non-blo)q(c)o(king)g(read,)g(65)1107 307 y(op)q(erating)g
(system)h(errors,)h(64)1107 357 y Fg(OSError)d Fl(in)o(terface,)i(64)
1107 407 y(output)g(stream,)f(48)1107 504 y(parameters)h(of)f(a)h(pro)q
(cess,)h(82,)e(86)1107 555 y Fg(Params)f Fl(in)o(terface,)i(86)1107
605 y Fg(Pathname)e Fl(in)o(terface,)i(73)1107 655 y
Fg(Pipe)f Fl(in)o(terface,)h(66)1107 705 y(pro)q(cess)1190
755 y(en)o(vironmen)o(t)f(v)n(ariables,)f(82,)h(86)1190
805 y(iden)o(ti\014er,)g(84)1190 855 y(parameters,)g(82,)g(86)1190
905 y(standard)h(I/O)g(handles,)g(82,)e(84)1190 956 y(w)o(orking)h
(directory)m(,)g(82,)g(85)1107 1006 y Fg(Process)f Fl(in)o(terface,)i
(82)1107 1056 y(pseudo-random)f(n)o(um)o(b)q(er,)f(40)1107
1153 y(queue:)25 b Fg(Sequence)16 b Fl(generic)i(in)o(terface,)1273
1203 y(25)1107 1299 y Fg(Random)12 b Fl(in)o(terface,)i(40)1107
1350 y(range,)f(4)1107 1400 y Fg(Rd)g Fl(in)o(terface,)h(52)1107
1450 y(reader,)g(51)1107 1500 y(reading)f(formatted)g(data,)g(17)1107
1550 y Fg(Real)g Fl(in)o(terface,)h(10)1107 1600 y Fg(RealFloat)e
Fl(in)o(terface,)i(12)1107 1650 y Fg(Refany)e Fl(in)o(terface,)i(98)
1107 1701 y Fg(RegularFile)d Fl(in)o(terface,)j(70)1107
1751 y(relation,)f(4)1190 1801 y(equiv)n(alence,)g(4)1190
1851 y(total)g(order,)h(4)1107 1901 y(relativ)o(e)f(pathname,)g(74)1107
1951 y Fg(RTAllocator)e Fl(in)o(terface,)j(93)1107 2001
y Fg(RTCollector)d Fl(in)o(terface,)j(94)1107 2051 y
Fg(RTCollectorSRC)d Fl(in)o(terface,)j(96)1107 2102 y
Fg(RTHeap)e Fl(in)o(terface,)i(96)1107 2152 y Fg(RTType)e
Fl(in)o(terface,)i(92)1107 2202 y Fg(RTTypeFP)e Fl(in)o(terface,)i(97)
1107 2252 y(run)o(time)e(t)o(yp)q(e,)i(91)1107 2349 y(scien)o(ti\014c)g
(notation,)f(21)1107 2399 y(sequence,)i(4)1107 2449 y
Fg(Sequence)d Fl(generic)j(in)o(terface,)f(25)p eop
%%Page: 103 113
103 112 bop 141 162 a Fe(INDEX)1233 b Fl(103)141 307
y(set,)14 b(4)141 357 y Fg(SortedTable)e Fl(generic)i(in)o(terface,)g
(37)141 407 y(sorting,)f(4)224 457 y(arra)o(ys,)h(40)224
507 y(lists,)f(29)141 557 y(stabilit)o(y)g(of)g(sorting)h(algorithm,)c
(4)141 607 y(stac)o(k:)31 b Fg(Sequence)19 b Fl(generic)i(in)o
(terface,)307 657 y(25)141 707 y(standard)14 b(I/O)224
757 y(\014le)g(handles,)g(82,)e(84)224 807 y(streams,)h(58)141
857 y(standard)j(instances)g(of)f(generic)h(in)o(ter-)307
906 y(faces,)e(3)141 956 y Fg(Stdio)f Fl(in)o(terface,)h(58)141
1006 y(storage)g(allo)q(cator,)f(93,)g(96)141 1056 y(stream,)g(47)224
1106 y(input,)g(51)224 1156 y(output,)h(48)141 1206 y(subt)o(yp)q(e,)g
(1)141 1256 y Fg(Sx)f Fl(in)o(terface,)h(31)141 1306
y(sym)o(b)q(olic)e(expression,)j(30)224 1356 y(atom,)d(27)141
1450 y Fg(T)i Fl(t)o(yp)q(e,)g(1)141 1500 y Fg(Table)f
Fl(generic)i(in)o(terface,)f(34)141 1550 y Fg(Terminal)e
Fl(in)o(terface,)i(68)141 1600 y(terminating)e(execution,)i(84)141
1650 y Fg(Text)f Fl(in)o(terface,)h(5)141 1700 y Fg(TextRd)f
Fl(in)o(terface,)h(57)141 1750 y Fg(TextWr)f Fl(in)o(terface,)h(57)141
1800 y Fg(Thread)f Fl(in)o(terface,)h(7)141 1850 y Fg(Tick)f
Fl(in)o(terface,)h(63)141 1900 y(time)224 1950 y Fg(Date)f
Fl(in)o(terface,)h(62)224 2000 y(elapsed,)g(63)224 2050
y(Green)o(wic)o(h)g(mean)f(time,)f(62)224 2100 y(lo)q(cal,)h(62)224
2150 y(of)g(da)o(y)m(,)g(61)224 2199 y Fg(Tick)g Fl(in)o(terface,)h(63)
224 2249 y Fg(Time)f Fl(in)o(terface,)h(61)224 2299 y(timed)f(w)o(ait,)
f(8)224 2349 y(UTC)d(\(univ)o(ersal)g(co)q(ordinated)h(time\),)307
2399 y(62)224 2449 y(zone,)k(62)930 307 y Fg(Time)f Fl(in)o(terface,)h
(61)930 357 y(time)e(zone,)i(62)930 407 y(total)f(order,)h(4)930
457 y(t)o(yp)q(e)1013 506 y Fg(Default)p Fl(,)e(2)1013
556 y(\014ngerprin)o(t)i(of,)f(97)1013 606 y(naming)e(con)o(v)o(en)o
(tions)j(for,)f(1)1013 656 y(run)o(time,)f(91)1013 706
y Fg(T)p Fl(,)h(1)930 797 y(un)o(bu\013ered)i(\014le)f(I/O,)f(64)930
847 y(univ)o(ersal)g(co)q(ordinated)i(time,)d(62)930
897 y(unsigned)i(n)o(um)o(b)q(er,)f(9)930 988 y(w)o(eak)g(reference,)j
(88)930 1038 y Fg(WeakRef)c Fl(in)o(terface,)i(88)930
1088 y Fg(Word)f Fl(in)o(terface,)h(9)930 1137 y(w)o(orking)f
(directory)m(,)g(82,)g(85)930 1187 y Fg(Wr)g Fl(in)o(terface,)h(49)930
1237 y(writer,)g(48)930 1287 y(writing)f(formatted)f(data,)i(20)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
