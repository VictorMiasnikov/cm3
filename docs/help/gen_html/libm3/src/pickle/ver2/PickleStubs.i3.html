<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: libm3/src/pickle/ver2/PickleStubs.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>libm3/src/pickle/ver2/PickleStubs.i3</H2></A><HR>
<inInterface>
<PRE></PRE><P>
 * For information about this program, contact Blair MacIntyre            
 * (bm@cs.columbia.edu) or Steven Feiner (feiner@cs.columbia.edu)         
 * at the Computer Science Dept., Columbia University,                    
 * 1214 Amsterdam Ave. Mailstop 0401, New York, NY, 10027.                
 *                                                                        
 * Copyright (C) 1995, 1996 by The Trustees of Columbia University in the 
 * City of New York.  Blair MacIntyre, Computer Science Department.       
 *
 * This file is released under the same conditions as Pickle.m3. See COPYRIGHT.
 *
 

<P><PRE>INTERFACE <interface><A HREF="PickleStubs.m3.html">PickleStubs</A></interface>;

IMPORT <A HREF="../../rw/Rd.i3.html">Rd</A>, <A HREF="../../rw/Wr.i3.html">Wr</A>, <A HREF="../../../../m3core/src/thread/Common/Thread.i3.html">Thread</A>, <A HREF="Pickle2.i3.html">Pickle2</A> AS Pickle;
FROM <A HREF="../../uid/Common/Swap.i3.html">Swap</A> IMPORT Int32;

TYPE
  Byte8 = BITS 8 FOR [0..255];
</PRE> Programmers of Picklers may use these routines to read and write
   specific pieces of data in a portable fashion.
<P>
   Automatic conversion between the data representations is performed
   wherever possible.  If automatic conversion is impossible, a
   <CODE>Pickle.Error</CODE> exception is raised. 

<P>
\paragraph{Pickle Stub Procedures.}
\index{Pickle stubs}


<P><PRE>PROCEDURE <A HREF="PickleStubs.m3.html#OutRef">OutRef</A> (writer: Pickle.Writer; r: REFANY)
  RAISES {Pickle.Error, Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal the data structure reachable from <CODE>r</CODE>.  Equivalent to 
   <CODE>wr.write(r)</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InRef">InRef</A> (reader: Pickle.Reader; tc := -1): REFANY
  RAISES {Pickle.Error, Rd.EndOfFile, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a marshaled subtype of <CODE>REFANY</CODE> as pickled by <CODE>OutRef</CODE>. 
   Equivalent to <CODE>rd.read()</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutChars">OutChars</A> (writer: Pickle.Writer; READONLY chars: ARRAY OF CHAR)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a char array in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutWideChars">OutWideChars</A>(writer: Pickle.Writer; READONLY arr: ARRAY OF WIDECHAR)
    RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a wide char array in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutText">OutText</A> (writer: Pickle.Writer; t: TEXT)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a TEXT. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutBytes">OutBytes</A> (writer: Pickle.Writer; READONLY bytes: ARRAY OF Byte8)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a byte array. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutInteger">OutInteger</A> (writer: Pickle.Writer; i: INTEGER)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal an integer in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutLongint">OutLongint</A> (writer: Pickle.Writer; i: LONGINT)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal an integer in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutInt32">OutInt32</A> (writer: Pickle.Writer; i: Int32)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a 32-bit integer in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutByte">OutByte</A> (writer: Pickle.Writer; i: Byte8)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a byte. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutBoolean">OutBoolean</A> (writer: Pickle.Writer; bool: BOOLEAN)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a boolean value. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutReal">OutReal</A> (writer: Pickle.Writer; r: REAL)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a real in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutLongreal">OutLongreal</A> (writer: Pickle.Writer; card: LONGREAL)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a longreal in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutExtended">OutExtended</A> (writer: Pickle.Writer; card: EXTENDED)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal an extended in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutCardinal">OutCardinal</A> (writer: Pickle.Writer; card: CARDINAL)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a cardinal in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#OutLongcard">OutLongcard</A> (writer: Pickle.Writer; card: LONGCARD)
  RAISES {Wr.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Marshal a cardinal in native format. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InChars">InChars</A> (reader: Pickle.Reader; VAR chars: ARRAY OF CHAR)
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a char array of length <CODE>NUMBER(chars)</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InWideChars">InWideChars</A>(reader: Pickle.Reader; VAR chars: ARRAY OF WIDECHAR)
    RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a wide char array of length <CODE>NUMBER(chars)</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InText">InText</A>(reader: Pickle.Reader) : TEXT
   RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a TEXT. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InBytes">InBytes</A> (reader: Pickle.Reader; VAR bytes: ARRAY OF Byte8)
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a byte array of length <CODE>NUMBER(bytes)</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InInteger">InInteger</A> (reader: Pickle.Reader;
                     min            := FIRST(INTEGER);
                     max            := LAST(INTEGER)   ): INTEGER
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal an integer, checking that its value is in <CODE>[min..max]</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InLongint">InLongint</A> (reader: Pickle.Reader;
                     min            := FIRST(LONGINT);
                     max            := LAST(LONGINT)   ): LONGINT
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal an integer, checking that its value is in <CODE>[min..max]</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InInt32">InInt32</A> (reader: Pickle.Reader; min := FIRST(Int32);
                   max := LAST(Int32)): Int32
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a 32-bit integer, checking that its value is in <CODE>[min..max]</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InByte">InByte</A> (reader: Pickle.Reader; max := LAST(Byte8)): Byte8
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a byte, checking that its value is in <CODE>[0..max]</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InBoolean">InBoolean</A> (reader: Pickle.Reader): BOOLEAN
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a boolean value. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InReal">InReal</A> (reader: Pickle.Reader): REAL
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a real value. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InLongreal">InLongreal</A> (reader: Pickle.Reader): LONGREAL
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a longreal value. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InExtended">InExtended</A> (reader: Pickle.Reader): EXTENDED
  RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal an extended value. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InCardinal">InCardinal</A> (reader: Pickle.Reader; lim: CARDINAL := LAST(CARDINAL)):
  CARDINAL RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a cardinal, checking that its value is in <CODE>[0..lim]</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="PickleStubs.m3.html#InLongcard">InLongcard</A> (reader: Pickle.Reader; lim: LONGCARD := LAST(LONGCARD)):
  LONGCARD RAISES {Pickle.Error, Rd.Failure, Thread.Alerted};
</PRE><BLOCKQUOTE><EM> Unmarshal a cardinal, checking that its value is in <CODE>[0..lim]</CODE>. </EM></BLOCKQUOTE><PRE>

END PickleStubs.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
