<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: deckscape/src/Main.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>deckscape/src/Main.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright 1996 Digital Equipment Corporation.              
 Distributed only by permission.                            
                                                            
 Last modified on Mon Aug 19 22:13:52 PDT 1996 by mhb       

<P><PRE>MODULE <module>Main</module> EXPORTS <A HREF="../../m3core/src/main/Main.i3.html"><implements>Main</A></implements>;

IMPORT <A HREF="../../parseparams/src/ParseParams.i3.html">ParseParams</A>, <A HREF="../../libm3/src/rw/Stdio.i3.html">Stdio</A>, <A HREF="Storage.i3.html">Storage</A>, <A HREF="../../ui/src/vbt/Trestle.i3.html">Trestle</A>, <A HREF="../../ui/src/vbt/VBT.i3.html">VBT</A>, <A HREF="WorkspaceVBT.i3.html">WorkspaceVBT</A>;

&lt;* FATAL ANY *&gt;

VAR v: VBT.T;
BEGIN
  WITH pp = NEW(ParseParams.T).init(Stdio.stderr) DO
    IF pp.keywordPresent(&quot;-clean&quot;) THEN
      v := WorkspaceVBT.New()
    ELSE
      v := Storage.Restore()
    END
  END;
  Trestle.Install(v);
  Trestle.AwaitDelete(v);
  Storage.Save(v);
END Main.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
