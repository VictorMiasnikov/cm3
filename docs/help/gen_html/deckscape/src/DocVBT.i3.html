<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: deckscape/src/DocVBT.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>deckscape/src/DocVBT.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright 1996 Digital Equipment Corporation.              
 Distributed only by permission.                            
                                                            
 Last modified on Mon Aug 19 22:13:16 PDT 1996 by mhb       

<P><PRE>INTERFACE <interface><A HREF="DocVBT.m3.html">DocVBT</A></interface>;
</PRE> A DocVBT.T is a document.  Each DeckVBT contains a collection of
   DocVBTs, and each FreeDocVBT contains one DocVBT.  In turn, each DocVBT
   displays the contents of an Web page. 

<P><PRE>IMPORT <A HREF="../../formsvbt/src/FormsVBT.i3.html">FormsVBT</A>, <A HREF="../../ui/src/vbt/VBT.i3.html">VBT</A>, <A HREF="../../web/src/Web.i3.html">Web</A>;

TYPE
  <A HREF="DocVBT.m3.html#T">T</A> &lt;: FormsVBT.T;

CONST NumberOfExpansionThreads = 2;

VAR DefaultHomeURL: TEXT;
  (* Set to the contents of the environment variable WWW_HOME;
     if that is not define or is empty, then defaults to
     &quot;http://www.research.digital.com/&quot;. *)

PROCEDURE <A HREF="DocVBT.m3.html#NewFromURL">NewFromURL</A> (url: TEXT := NIL; reload := FALSE; fork := TRUE): T;
</PRE><BLOCKQUOTE><EM> Return a new <CODE>DocVBT.T</CODE> displaying the URL <CODE>url</CODE>.  (Defaults to 
   <CODE>DefaultHomeURL</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#NewFromPage">NewFromPage</A>(page: Web.Page; base: TEXT): T;
</PRE><BLOCKQUOTE><EM> Return a new <CODE>DocVBT.T</CODE> displaying the Web <CODE>page</CODE> whose
  base URL is <CODE>base</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#Search">Search</A>(doc: T; text: TEXT): BOOLEAN;
</PRE><BLOCKQUOTE><EM> Returns whether <CODE>text</CODE> is contained in <CODE>doc</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#Copy">Copy</A>(doc: T): T;
</PRE><BLOCKQUOTE><EM> Return a copy of <CODE>doc</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#Reload">Reload</A> (doc: T): T;
</PRE><BLOCKQUOTE><EM> Return a reloaded copy of <CODE>doc</CODE>, ready to be installed in a free-doc or
   a deck. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#SetOwner">SetOwner</A>(doc: T; owner: VBT.T);
</PRE><BLOCKQUOTE><EM> Must be called whenever <CODE>doc</CODE> is moved to a different deck or
   free-doc. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#GetOwner">GetOwner</A>(doc: T): VBT.T;
</PRE><BLOCKQUOTE><EM> Return <CODE>doc</CODE>'s owner, either a deck or a free-doc </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#GetTitle">GetTitle</A> (doc: T): TEXT;
</PRE><BLOCKQUOTE><EM> Return the title field of the <CODE>doc</CODE>.  Some heuristics are used to make a
   guess at the title. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#GetPage">GetPage</A>(doc: T): Web.Page;
</PRE><BLOCKQUOTE><EM> Return the Web page that is displayed by <CODE>doc</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="DocVBT.m3.html#Expand">Expand</A> (doc: T): VBT.T;
</PRE><BLOCKQUOTE><EM> Return a new deck, installed in the Workspace, with all Web pages that
   <CODE>doc</CODE> references.  When this procedure returns, the deck is empty.  A
   thread is forked to fetch all of the references.  When this thread
   completes, the banner of the deck is changed to indicate this. </EM></BLOCKQUOTE><PRE>

END DocVBT.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
