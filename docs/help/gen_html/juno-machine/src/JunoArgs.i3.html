<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: juno-machine/src/JunoArgs.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>juno-machine/src/JunoArgs.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1992, Digital Equipment Corporation                         
 All rights reserved.                                                      
 See the file COPYRIGHT for a full description.                            
                                                                           
 Last modified on Fri Jun 30 20:37:17 PDT 1995 by heydon                   
      modified on Fri Jul 17 17:20:47 PDT 1992 by myers                    

<P><PRE>INTERFACE <interface><A HREF="JunoRT.m3.html">JunoArgs</A></interface>;

IMPORT <A HREF="RTVal.i3.html">RTVal</A>, <A HREF="#x1">JunoValue</A>;
</PRE> <CODE>JunoArgs</CODE> provides an interface to the Juno runtime stack that is
   useful for implementing external Modula-3 procedures. These procedures
   allow clients to read and write a procedure's actual arguments.
<P>
   Where possible, the procedures in this interface convert between the
   <CODE>RTVal.T</CODE>'s on the machine's run-time stack and Modula-3 types like
   INTEGER, REAL, and TEXT. 

<P><PRE>PROCEDURE <A HREF="JunoRT.m3.html#ReadValue">ReadValue</A>(i: CARDINAL): RTVal.T;
</PRE><BLOCKQUOTE><EM> Return the parameter with index <CODE>-i</CODE>. Usually, the parameter is expected to
   have a particular type, in which case one of the <CODE>ReadX</CODE> procedures below
   should be used. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="JunoRT.m3.html#ReadInt">ReadInt</A>(i: CARDINAL; VAR err: BOOLEAN): INTEGER;
PROCEDURE <A HREF="JunoRT.m3.html#ReadReal">ReadReal</A>(i: CARDINAL; VAR err: BOOLEAN): JunoValue.Real;
PROCEDURE <A HREF="JunoRT.m3.html#ReadText">ReadText</A>(i: CARDINAL; VAR err: BOOLEAN): TEXT;
PROCEDURE <A HREF="JunoRT.m3.html#ReadPair">ReadPair</A>(i: CARDINAL; VAR err: BOOLEAN): RTVal.Pair;
</PRE> Read the actual parameter of the specified type with index <CODE>-i</CODE>. If the
   value at position <CODE>-i</CODE> in the stack frame is not the correct type, set
   <CODE>err</CODE> to <CODE>TRUE</CODE> and return an undefined value. Otherwise, leave <CODE>err</CODE>
   unchanged. The <CODE>ReadInt</CODE> procedure expects to find a real number, and
   returns the result of rounding that real value to the nearest integer. 

<P><PRE>PROCEDURE <A HREF="JunoRT.m3.html#WriteValue">WriteValue</A>(i: CARDINAL; val: RTVal.T);
</PRE><BLOCKQUOTE><EM> Write the value <CODE>val</CODE> as the result parameter with index <CODE>-i</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="JunoRT.m3.html#WriteInt">WriteInt</A>(i: CARDINAL; int: INTEGER);
PROCEDURE <A HREF="JunoRT.m3.html#WriteReal">WriteReal</A>(i: CARDINAL; r: JunoValue.Real);
PROCEDURE <A HREF="JunoRT.m3.html#WriteText">WriteText</A>(i: CARDINAL; t: TEXT);
</PRE><BLOCKQUOTE><EM> Equivalent to: <CODE>WriteValue(i, RTVal.FromInt(int))</CODE>, <CODE>WriteValue(i,
   RTVal.FromReal(r))</CODE>, and <CODE>WriteValue(i, RTVal.FromText(t))</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="JunoRT.m3.html#PushValue">PushValue</A>(v: RTVal.T);
</PRE><BLOCKQUOTE><EM> Push <CODE>v</CODE> onto the runtime stack. Requires <CODE>v # NIL</CODE>. </EM></BLOCKQUOTE><PRE>

END JunoArgs.
</PRE>
</inInterface>
<HR>
<A NAME="x1">interface JunoValue is in:
</A><UL>
<LI><A HREF="JunoValue.i3.html#0TOP0">juno-machine/src/JunoValue.i3</A>
<LI><A HREF="../../pkl-fonts/src/JunoValue.i3.html#0TOP0">pkl-fonts/src/JunoValue.i3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
