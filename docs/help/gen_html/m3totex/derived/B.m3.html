<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: m3totex/derived/B.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>m3totex/derived/B.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="B.i3.html">B</A></implements></module>;
</PRE><BLOCKQUOTE><EM> Generated by m3bundle; see its manpage. </EM></BLOCKQUOTE><PRE>

IMPORT <A HREF="../../libm3/src/bundleintf/Bundle.i3.html">Bundle</A>, <A HREF="../../libm3/src/bundleintf/BundleRep.i3.html">BundleRep</A>, <A HREF="../../m3core/src/text/Text.i3.html">Text</A>;

TYPE T = Bundle.T OBJECT OVERRIDES
           get      := LookUp;
           getNames := GetNames;
         END;

TYPE Texts = REF ARRAY OF TEXT;

VAR
  bundle: T     := NIL;
  names : Texts := NIL;

PROCEDURE <A NAME="Get"><procedure>Get</procedure></A>(): Bundle.T =
  BEGIN
    IF (bundle = NIL) THEN bundle := NEW (T) END;
    RETURN bundle;
  END Get;

PROCEDURE <A NAME="GetNames"><procedure>GetNames</procedure></A> (&lt;*UNUSED*&gt; self: T): Texts =
  BEGIN
    IF names = NIL THEN
      names := NEW (Texts, NUMBER (Names));
      names^ := Names;
    END;
    RETURN names;
  END GetNames;

PROCEDURE <A NAME="LookUp"><procedure>LookUp</procedure></A> (&lt;*UNUSED*&gt; self: T;  element: TEXT): TEXT =
  BEGIN
    FOR i := 0 TO LAST (Names)-1 DO
      IF Text.Equal (Names[i], element) THEN
        RETURN Elements[i];
      END;
    END;
    RETURN NIL;
  END LookUp;

CONST Names = ARRAY [0..4] OF TEXT {
  &quot;tex&quot;,
  &quot;xmpl&quot;,
  &quot;make&quot;,
  &quot;header&quot;,
  NIL
};

CONST Elements = ARRAY [0..4] OF TEXT {
  E0,
  E1,
  E2,
  E3,
  NIL
};

CONST E0 =
   &quot;%\n% Copyright (C) 1992, Digital Equipment Corporation \n% All rights r&quot;
 &amp; &quot;eserved.\n% See the file COPYRIGHT for a full description.\n%\n% Last m&quot;
 &amp; &quot;odified on Thu Jan  7 10:55:10 PST 1993 by muller                     .&quot;
 &amp; &quot;\n%\n\\documentstyle{article}\n\n\\begin{document}\n\n\\section{Example&quot;
 &amp; &quot; interface}\n\n\\input{Example.i.tex}\n\n\\end{document}\n&quot;;

CONST E1 =
   &quot;(* Copyright (C) 1992, Digital Equipment Corporation                   &quot;
 &amp; &quot;      *)\n(* All rights reserved.                                      &quot;
 &amp; &quot;                *)\n(* See the file COPYRIGHT for a full description.  &quot;
 &amp; &quot;                          *)\n(*                                       &quot;
 &amp; &quot;                                    *)\n(* Last modified on Thu Jan  7 &quot;
 &amp; &quot;10:54:49 PST 1993 by muller                   *)\n(*                   &quot;
 &amp; &quot;                                                        *)\n(* The abov&quot;
 &amp; &quot;e lines, and this line, and all lines up \n   to the first blank line, &quot;
 &amp; &quot;will be skipped by M3ToTex *)\n\n(* The \&quot;Example\&quot; interface shows how&quot;
 &amp; &quot; to use \&quot;m3totex\&quot;. *)\n\nINTERFACE Example;\n\nTYPE T &lt;: ROOT;\n\n(* &quot;
 &amp; &quot;An \&quot;Example.T\&quot; is an opaque object type. *)\n\nPROCEDURE P(t: T; VAR &quot;
 &amp; &quot;(*OUT*) n: INTEGER);\n(* Replace \&quot;t\&quot; by its hyperbolic completion and&quot;
 &amp; &quot;\n   store its specular index in \&quot;n\&quot;. *)\n\n(* Comments that do not s&quot;
 &amp; &quot;tart in the first column are\n   typeset like program text (for example&quot;
 &amp; &quot;, the comment\n   \&quot;OUT\&quot; in the signature of \&quot;P\&quot;).\n\n   Comments th&quot;
 &amp; &quot;at start in the first column and are not\n   preceded by a blank line a&quot;
 &amp; &quot;re indented and slanted.\n   They are intended to be used for short sum&quot;
 &amp; &quot;mary procedure\n   specifications, like the one following the declarati&quot;
 &amp; &quot;on\n   of \&quot;P\&quot;.\n\n   Comments that start in the first column and are\n&quot;
 &amp; &quot;   preceded by a blank line are typeset in ordinary\n   roman text, exc&quot;
 &amp; &quot;ept that quoted words are typeset\n   like program text (for example, \&quot;&quot;
 &amp; &quot;Example.T\&quot;). \n\n   If you want to include some verbatim material in a&quot;
 &amp; &quot; comment, precede\n   each verbatim line by a vertical-bar and a space.&quot;
 &amp; &quot;  For example,\n\n| VAR t := NEW(t); n: INTEGER; BEGIN\t\n|   WHILE n #&quot;
 &amp; &quot; 0 DO \n|     P(t, n);\n|     `reduce the specular index of \&quot;t\&quot;`.\n| &quot;
 &amp; &quot;  END\n| END\n\nNotice that you can escape into roman type by using \nb&quot;
 &amp; &quot;ack-quotes. *)\n\nEND Example.\n&quot;;

CONST E2 =
   &quot;# Copyright (C) 1992, Digital Equipment Corporation \n# All rights rese&quot;
 &amp; &quot;rved.\n# See the file COPYRIGHT for a full description.\n#\n# Last modi&quot;
 &amp; &quot;fied on Thu Jan  7 10:55:33 PST 1993 by muller                     .\n\n&quot;
 &amp; &quot;\nTEXFILES = Example.i.tex\nDOCNAME = Example\n\n# TEXFILES should be a&quot;
 &amp; &quot; list of names of the tex files that\n# are generated by m3totex\n\n# D&quot;
 &amp; &quot;OCNAME should be the name of the document\n\n# make DOCNAME.dvi will ma&quot;
 &amp; &quot;ke TeX\'s dvi (device independent file)\n\n# make proof will make DOCNA&quot;
 &amp; &quot;ME.ps (a postscript file) which can\n# be viewed with psview\n\n# make &quot;
 &amp; &quot;print will print the document.\n\nall: $(TEXFILES) $(DOCNAME).dvi\n\n$(&quot;
 &amp; &quot;DOCNAME).dvi: $(DOCNAME).tex $(TEXFILES)\n\tlatex $(DOCNAME).tex\n\npri&quot;
 &amp; &quot;nt: $(DOCNAME).dvi\n\tdvips $(DOCNAME).dvi\n\nproof: $(DOCNAME).dvi\n\t&quot;
 &amp; &quot;dvips -o $(DOCNAME).ps $(DOCNAME).dvi\n\tpsview $(DOCNAME).ps\n\n.SUFFI&quot;
 &amp; &quot;XES: .i3 .i.tex .m3 .m.tex\n\n.i3.i.tex: \n\tm3totex $*.i3\n\n.m3.m.tex&quot;
 &amp; &quot;: \n\tm3totex $*.m3\n\n\n&quot;;

CONST E3 =
   &quot;% Copyright (C) 1992, Digital Equipment Corporation\n% All rights reser&quot;
 &amp; &quot;ved.\n% See the file COPYRIGHT for a full description.\n%\n% Last modif&quot;
 &amp; &quot;ied on Thu Jan  7 10:51:40 PST 1993 by muller\n%\n\\font\\ttslant=cmslt&quot;
 &amp; &quot;t10\n\\font\\ttstraight=cmtt10\n\\font\\rmslant=cmsl10\n\\def\\tt{\\tts&quot;
 &amp; &quot;traight}\n\\def\\indentation{24pt}\n\\def\\tab{$ $\\hbox to \\indentati&quot;
 &amp; &quot;on{\\hss}}\n\\long\\def\\procspec#1{{\\advance\\leftskip by \\indentati&quot;
 &amp; &quot;on\n  \\noindent\\rightskip = 0pt plus2em\\rmslant\\def\\tt{\\ttslant}\\&quot;
 &amp; &quot;ignorerm#1}}\n\\def\\ignorerm\\rm{}\n\\def\\display{\\tab\\parskip=0pt\\&quot;
 &amp; &quot;advance\\baselineskip by -0.5pt\\tt }\n\\def\\progmode{\\advance\\basel&quot;
 &amp; &quot;ineskip by -0.5pt}\n&quot;;

BEGIN
END B.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
