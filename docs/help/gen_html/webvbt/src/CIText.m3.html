<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: webvbt/src/CIText.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>webvbt/src/CIText.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright (C) 1995, Digital Equipment Corporation                         
 All rights reserved.                                                      
 See the file COPYRIGHT for a full description.                            
                                                                           
 Last modified on Tue Jul  4 09:59:11 PDT 1995 by mhb                      

<P><PRE>MODULE <module><implements><A HREF="CIText.i3.html">CIText</A></implements></module>;

IMPORT <A HREF="../../libm3/src/types/ASCII.i3.html">ASCII</A>, <A HREF="../../m3core/src/text/Text.i3.html">Text</A>, <A HREF="../../m3core/src/text/Text8.i3.html">Text8</A>, <A HREF="../../m3core/src/word/Word.i3.html">Word</A>;

PROCEDURE <A NAME="Equal"><procedure>Equal</procedure></A>(t, u: T): BOOLEAN =
  VAR
    lt: CARDINAL := Text.Length(t);
    lu: CARDINAL := Text.Length(u);
    i: CARDINAL := 0;
  BEGIN
    IF lt = lu THEN
      WHILE i&lt;lt DO
        IF ASCII.Upper[Text.GetChar(t, i)] #
           ASCII.Upper[Text.GetChar(u, i)] THEN
          RETURN FALSE
        ELSE INC(i)
        END;
      END;
      RETURN TRUE;
    ELSE RETURN FALSE
    END;
  END Equal;

PROCEDURE <A NAME="Hash"><procedure>Hash</procedure></A> (t: T): Word.T =
  VAR
    len := Text.Length(t);
    u   := Text8.Create(len);
  BEGIN
    u.contents[len] := '\000';
    FOR i := 0 TO Text.Length(t) - 1 DO
      u.contents[i] := ASCII.Upper[Text.GetChar(t, i)]
    END;
    RETURN Text.Hash(u);
  END Hash;

BEGIN
END CIText.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
