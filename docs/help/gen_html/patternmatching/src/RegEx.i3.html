<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: patternmatching/src/RegEx.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>patternmatching/src/RegEx.i3</H2></A><HR>
<inInterface>
<PRE></PRE><P>
<P>
  RegEx.i3 - regex(3) style regular expressions
<P>
  This module implements regex(3) style regular expressions safe for
  multiple threads.  See <CODE>man regex</CODE> for a description of a regex
  expression.
<P>
  Edit History:
   Jan 30 1992		Schilit		Created.
   Feb 9  1993		Schilit		Update for release.
<P>


<P> Copyright (c) 1991, 1992 Xerox Corporation.  All rights reserved.
<P>
   Use and copying of this software and preparation of derivative works
   based upon this software are permitted.  Any distribution of this
   software or derivative works must comply with all applicable United
   States export control laws.  This software is made available AS IS, and
   Xerox Corporation makes no warranty about the software, its performance
   or its conformity to any specification. 

<P><PRE>INTERFACE <interface><A HREF="#x1">RegEx</A></interface>;

EXCEPTION Error(TEXT);

TYPE <A HREF="#x2">Pattern</A> &lt;: ROOT;

CONST MEM_SIZE = 9;

TYPE
  Memory = ARRAY [1 .. MEM_SIZE] OF
             RECORD
               start: INTEGER;
               stop : INTEGER;
             END; (* record *)
</PRE> The Memory array stores the positions where \(pat\) pairs occured or -1
   if none. 

<P><PRE>PROCEDURE <A HREF="#x3">Compile</A> (pat: TEXT): Pattern RAISES {Error};
</PRE><BLOCKQUOTE><EM> Compile the regex(3) style regular expression in pat and returns a
   Pattern for later use. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x4">Decompile</A> (READONLY pat: Pattern): TEXT;
</PRE><BLOCKQUOTE><EM> Decompile the Pattern 'pat' into a regular expression TEXT and
   return. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x5">Dump</A> (READONLY pat: Pattern): TEXT;
</PRE><BLOCKQUOTE><EM> Dump the Pattern 'pat' into raw bytes formatted as a TEXT (for
   debugging). </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x6">Execute</A> (READONLY pat  : Pattern;
                            data : TEXT;
                            start: CARDINAL := 0;
                            len  : CARDINAL := LAST(CARDINAL);
                            mem  : REF Memory := NIL           ): INTEGER;
</PRE> Compare the regular expression 'pat' against the text data returning the
   starting position in 'data' if there was a match, -1 otherwise.  If
   optional parameter 'start' and 'len' are specified then consider only
   Text.Sub(data,start,len) portion of 'data.' If optional parameter mem is
   specified then return indices for \(..\) sequences. 

<P><PRE>END RegEx.
</PRE>
</inInterface>
<HR>
<A NAME="x1">RegEx's implementation  is in:
</A><UL>
<LI><A HREF="RegEx.m3.html#0TOP0">patternmatching/src/RegEx.m3</A>
<LI><A HREF="../../suplib/src/RegEx.m3.html#0TOP0">suplib/src/RegEx.m3</A>
</UL>
<P>
<HR>
<A NAME="x2">opaque type RegEx.Pattern is in:
</A><UL>
<LI><A HREF="RegEx.m3.html#Pattern">patternmatching/src/RegEx.m3</A>
<LI><A HREF="../../suplib/src/RegEx.m3.html#Pattern">suplib/src/RegEx.m3</A>
</UL>
<P>
<HR>
<A NAME="x3">procedure RegEx.Compile is in:
</A><UL>
<LI><A HREF="RegEx.m3.html#Compile">patternmatching/src/RegEx.m3</A>
<LI><A HREF="../../suplib/src/RegEx.m3.html#Compile">suplib/src/RegEx.m3</A>
</UL>
<P>
<HR>
<A NAME="x4">procedure RegEx.Decompile is in:
</A><UL>
<LI><A HREF="RegEx.m3.html#Decompile">patternmatching/src/RegEx.m3</A>
<LI><A HREF="../../suplib/src/RegEx.m3.html#Decompile">suplib/src/RegEx.m3</A>
</UL>
<P>
<HR>
<A NAME="x5">procedure RegEx.Dump is in:
</A><UL>
<LI><A HREF="RegEx.m3.html#Dump">patternmatching/src/RegEx.m3</A>
<LI><A HREF="../../suplib/src/RegEx.m3.html#Dump">suplib/src/RegEx.m3</A>
</UL>
<P>
<HR>
<A NAME="x6">procedure RegEx.Execute is in:
</A><UL>
<LI><A HREF="RegEx.m3.html#Execute">patternmatching/src/RegEx.m3</A>
<LI><A HREF="../../suplib/src/RegEx.m3.html#Execute">suplib/src/RegEx.m3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
