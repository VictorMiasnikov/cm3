<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: http/src/HTTPProxy.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>http/src/HTTPProxy.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1995, Digital Equipment Corporation. 
 All rights reserved. 
 Last modified on Sun Dec 29 15:46:24 PST 1996 by steveg 

<P><PRE>INTERFACE <interface><A HREF="HTTPProxy.m3.html">HTTPProxy</A></interface>;

IMPORT <A HREF="App.i3.html">App</A>, <A HREF="HTTP.i3.html">HTTP</A>, <A HREF="HTTPApp.i3.html">HTTPApp</A>, <A HREF="../../libm3/src/rw/Rd.i3.html">Rd</A>, <A HREF="../../libm3/src/rw/Wr.i3.html">Wr</A>;
</PRE> An HTTPApp module that handles proxying. 

<P><PRE>TYPE
  <A HREF="HTTPProxy.m3.html#RequestHandler">RequestHandler</A> &lt;: RequestHandlerPublic;
  RequestHandlerPublic = HTTPApp.RequestHandler OBJECT
    service: INTEGER;
    (* the service number given to the &quot;HTTPApp.Server&quot; call *)
    logRequest, logReply: BOOLEAN := FALSE;
    (* if &quot;logRequest&quot; = TRUE, then the body of the request is
       copied to &quot;log&quot;.  if &quot;logReply&quot; = TRUE, then the body
       of the reply is logged. *)
  METHODS
    replyHandlerGenerator(request: HTTP.Request;
                          serverData, acceptState: REFANY;
            rd: Rd.T; wr: Wr.T; log: App.Log): HTTPApp.ReplyHandler;
  END;

  <A HREF="HTTPProxy.m3.html#ReplyHandler">ReplyHandler</A> &lt;: HTTPApp.ReplyHandler;

  (* The default request handler, copies the
     request through to the request destination.

     The default reply handler, copies the reply
     back to the request source.
  *)

END HTTPProxy.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
