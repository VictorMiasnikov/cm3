<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: unittest/src/class/UnitTest.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>unittest/src/class/UnitTest.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="UnitTest.i3.html">UnitTest</A></implements></module>;

IMPORT <A HREF="../terminal/UnitTestTerminal.i3.html">UnitTestTerminal</A>;
IMPORT <A HREF="../../../libm3/src/fmtlex/Fmt.i3.html">Fmt</A>;

PROCEDURE <A NAME="Run"><procedure>Run</procedure></A> (test: T; terminal: UnitTestTerminal.T; ) =
  VAR
    report := test.run(terminal);
    hr     := &quot;------\n&quot;;
  BEGIN
    IF report.numErrors = 0 THEN
      terminal.put(hr &amp; Fmt.F(&quot;%4s tests ran successfully.\n&quot;,
                              Fmt.Int(report.numTests)));
    ELSE
      terminal.put(
        hr &amp; Fmt.F(
               &quot;%4s executed tests\n&quot; &amp; &quot;%4s failed tests\n&quot;
                 &amp; &quot;%4s single errors\n&quot;, Fmt.Int(report.numTests),
               Fmt.Int(report.numFailedTests), Fmt.Int(report.numErrors)));
      &lt;* ASSERT FALSE *&gt;
    END;
  END Run;

BEGIN
END UnitTest.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
