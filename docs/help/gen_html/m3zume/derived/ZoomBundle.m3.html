<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: m3zume/derived/ZoomBundle.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>m3zume/derived/ZoomBundle.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="ZoomBundle.i3.html">ZoomBundle</A></implements></module>;
</PRE><BLOCKQUOTE><EM> Generated by m3bundle; see its manpage. </EM></BLOCKQUOTE><PRE>

IMPORT <A HREF="../../libm3/src/bundleintf/Bundle.i3.html">Bundle</A>, <A HREF="../../libm3/src/bundleintf/BundleRep.i3.html">BundleRep</A>, <A HREF="../../m3core/src/text/Text.i3.html">Text</A>;
IMPORT <A HREF="../../m3core/src/thread/Common/Thread.i3.html">Thread</A>, <A HREF="../../libm3/src/rw/Wr.i3.html">Wr</A>, <A HREF="../../libm3/src/rw/TextWr.i3.html">TextWr</A>;

TYPE T = Bundle.T OBJECT OVERRIDES
           get      := LookUp;
           getNames := GetNames;
         END;

TYPE Texts = REF ARRAY OF TEXT;

VAR
  bundle: T     := NIL;
  names : Texts := NIL;

PROCEDURE <A NAME="Get"><procedure>Get</procedure></A>(): Bundle.T =
  BEGIN
    IF (bundle = NIL) THEN bundle := NEW (T) END;
    RETURN bundle;
  END Get;

PROCEDURE <A NAME="GetNames"><procedure>GetNames</procedure></A> (&lt;*UNUSED*&gt; self: T): Texts =
  BEGIN
    IF names = NIL THEN
      names := NEW (Texts, NUMBER (Names));
      names^ := Names;
    END;
    RETURN names;
  END GetNames;

PROCEDURE <A NAME="LookUp"><procedure>LookUp</procedure></A> (&lt;*UNUSED*&gt; self: T;  element: TEXT): TEXT =
  BEGIN
    FOR i := 0 TO LAST (Names)-1 DO
      IF Text.Equal (Names[i], element) THEN
        IF Elements[i] = NIL THEN Elements[i] := GetElt (i) END;
        RETURN Elements[i];
      END;
    END;
    RETURN NIL;
  END LookUp;

CONST Names = ARRAY [0..24] OF TEXT {
  &quot;ViewClass.i3&quot;,
  &quot;EventData.fv&quot;,
  &quot;ViewClass3D.m3&quot;,
  &quot;TranscriptView.fv&quot;,
  &quot;Obliq3DView.i3&quot;,
  &quot;AlgClass.m3&quot;,
  &quot;IE3D.i3&quot;,
  &quot;GEFView.m3&quot;,
  &quot;JunoView.m3&quot;,
  &quot;TranscriptView.m3&quot;,
  &quot;DataView.m3&quot;,
  &quot;ViewClass3D.i3&quot;,
  &quot;IE.m3&quot;,
  &quot;ObliqView.m3&quot;,
  &quot;AlgClass.i3&quot;,
  &quot;ViewClass.m3&quot;,
  &quot;GEFView.i3&quot;,
  &quot;JunoView.i3&quot;,
  &quot;TranscriptView.i3&quot;,
  &quot;Obliq3DView.m3&quot;,
  &quot;DataView.i3&quot;,
  &quot;IE3D.m3&quot;,
  &quot;IE.i3&quot;,
  &quot;ObliqView.i3&quot;,
  NIL
};

VAR Elements := ARRAY [0..24] OF TEXT {
  E0,
  E1,
  E2,
  E3,
  E4,
  NIL (* E5 .. E5_2 *),
  E6,
  NIL (* E7 .. E7_0 *),
  NIL (* E8 .. E8_1 *),
  NIL (* E9 .. E9_1 *),
  E10,
  E11,
  NIL (* E12 .. E12_0 *),
  NIL (* E13 .. E13_2 *),
  E14,
  E15,
  E16,
  E17,
  E18,
  NIL (* E19 .. E19_1 *),
  E20,
  NIL (* E21 .. E21_1 *),
  E22,
  E23,
  NIL
};

PROCEDURE <A NAME="GetElt"><procedure>GetElt</procedure></A> (n: INTEGER): TEXT =
  &lt;*FATAL Thread.Alerted, Wr.Failure *&gt;
  VAR wr := TextWr.New ();
  BEGIN
    CASE n OF
    | 5 =&gt;
        Wr.PutText (wr, E5);
        Wr.PutText (wr, E5_0);
        Wr.PutText (wr, E5_1);
        Wr.PutText (wr, E5_2);
    | 7 =&gt;
        Wr.PutText (wr, E7);
        Wr.PutText (wr, E7_0);
    | 8 =&gt;
        Wr.PutText (wr, E8);
        Wr.PutText (wr, E8_0);
        Wr.PutText (wr, E8_1);
    | 9 =&gt;
        Wr.PutText (wr, E9);
        Wr.PutText (wr, E9_0);
        Wr.PutText (wr, E9_1);
    | 12 =&gt;
        Wr.PutText (wr, E12);
        Wr.PutText (wr, E12_0);
    | 13 =&gt;
        Wr.PutText (wr, E13);
        Wr.PutText (wr, E13_0);
        Wr.PutText (wr, E13_1);
        Wr.PutText (wr, E13_2);
    | 19 =&gt;
        Wr.PutText (wr, E19);
        Wr.PutText (wr, E19_0);
        Wr.PutText (wr, E19_1);
    | 21 =&gt;
        Wr.PutText (wr, E21);
        Wr.PutText (wr, E21_0);
        Wr.PutText (wr, E21_1);
    ELSE (*skip*)
    END;
    RETURN TextWr.ToText (wr);
  END GetElt;

CONST E0 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:56:28 PST 1995 by kalsow  *)\n(*      modified on Wed Feb 17 17:0&quot;
 &amp; &quot;4:21 PST 1993 by johnh   *)\n(*      modified on Tue Jun  9 00:35:21 19&quot;
 &amp; &quot;92 by mhb         *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\n&lt;* PR&quot;
 &amp; &quot;AGMA LL *&gt;\n\nINTERFACE #(_ALGNAME_)ViewClass;\n\n$Thread\n$View\n#(_IM&quot;
 &amp; &quot;PORTS_)\n\nTYPE\n  T &lt;: Public;\n  Public = View.T OBJECT\n      METHOD&quot;
 &amp; &quot;S\n      &lt;*LL = {} *&gt;\n#{_OUTPUT\n        oe#(_EVENT_) (#(_ARGSTR_)) RA&quot;
 &amp; &quot;ISES {Thread.Alerted};\n#}\n      &lt;*LL = VBT.mu *&gt;\n#{_UPDATE\n        &quot;
 &amp; &quot;ue#(_EVENT_) (#(_ARGSTR_)) RAISES {Thread.Alerted};\n#}\n      END;\n\n&quot;
 &amp; &quot;END #(_ALGNAME_)ViewClass.\n&quot;;

CONST E1 =
   &quot;; Copyright (C) 1995, Digital Equipment Corporation.\n; All rights rese&quot;
 &amp; &quot;rved.\n; See the file COPYRIGHT for a full description.\n;\n; Last modi&quot;
 &amp; &quot;fied on Wed Feb  8 15:29:09 PST 1995 by kalsow\n\n;********************&quot;
 &amp; &quot;************************************************\n;  NOTE: This file is&quot;
 &amp; &quot; generated automatically from the event \n;        definition file #(_A&quot;
 &amp; &quot;LGNAME_).evt.\n;*******************************************************&quot;
 &amp; &quot;*************\n\n(VBox\n  (Border (Pen 1)\n    (Shape\n      (Height 75&quot;
 &amp; &quot; - 25 + Inf)\n      (Viewport\n        (HBox\n          (Glue 4 + Inf)\n&quot;
 &amp; &quot;          (VBox\n            (Glue 6)\n            (Shape (Height 16 + &quot;
 &amp; &quot;0)\n              (HBox Fill (Shape (Width + 0) (Height + 0) \n        &quot;
 &amp; &quot;                        \&quot;Code View events:   Stop? \&quot;) \n             &quot;
 &amp; &quot;       (Boolean %stopatCodeEvents =TRUE \&quot;\&quot;)\n                    (Glu&quot;
 &amp; &quot;e 10)\n                    (Shape (Width + 0) (Height + 0) \&quot;Weight: \&quot;&quot;
 &amp; &quot;)\n                    (Shape (Width 80) (Numeric %waitatCodeEvents =1 &quot;
 &amp; &quot;\n                                               (Min 0) (Max 100)))))\n&quot;
 &amp; &quot;            (Glue 6)\n#{_OUTPUT\n            (Shape (Height 16 + 0)\n  &quot;
 &amp; &quot;            (HBox Fill (Shape (Width + 0) (Height + 0) \n              &quot;
 &amp; &quot;                  \&quot;#(_EVENT_):   Stop? \&quot;) \n                    (Bool&quot;
 &amp; &quot;ean %stopAt#(_EVENT_) =TRUE \&quot;\&quot;)\n                    (Glue 10)\n     &quot;
 &amp; &quot;               (Shape (Width + 0) (Height + 0) \&quot;Weight: \&quot;)\n         &quot;
 &amp; &quot;           (Shape (Width 80) (Numeric %waitAt#(_EVENT_) =1 \n          &quot;
 &amp; &quot;                                     (Min 0) (Max 100)))))\n           &quot;
 &amp; &quot; (Glue 6)\n#}\n          )\n          (Glue 4)\n          (VBox\n      &quot;
 &amp; &quot;      (Glue 5)\n            (Shape (Width + 0) (Height 16 + 0) \&quot;Cts:\&quot;&quot;
 &amp; &quot;)\n            (Button %eventCounts\n              (VBox\n#{_OUTPUT\n  &quot;
 &amp; &quot;              (Glue 6)\n                (HBox Fill (Shape (Width + 0) (&quot;
 &amp; &quot;Height 16 + 0) \n                                  (Text %ctOf#(_EVENT_&quot;
 &amp; &quot;) \&quot;0\&quot;)))\n#}\n                (Glue 3))))\n          Fill\n          &quot;
 &amp; &quot;(Glue 4 + Inf)\n        )\n      )\n    )\n  )\n)\n&quot;;

CONST E2 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:57:32 PST 1995 by kalsow  *)\n(*      modified on Sun Nov 28 23:0&quot;
 &amp; &quot;8:58 PST 1993 by najork  *)\n\n(***************************************&quot;
 &amp; &quot;******************************\n|*  NOTE: This file is generated automa&quot;
 &amp; &quot;tically from the event\n|*        definition file #(_ALGNAME_).evt.\n|*&quot;
 &amp; &quot;********************************************************************)\n&quot;
 &amp; &quot;\n&lt;* PRAGMA LL *&gt;\n\nMODULE #(_ALGNAME_)3DViewClass;\n\n$View3D\n$ViewC&quot;
 &amp; &quot;lass\n$ZeusClass\n$#(_ALGNAME_)AlgClass\n#(_IMPORTS_)\n\nREVEAL\n  T = &quot;
 &amp; &quot;Public BRANDED OBJECT\n      OVERRIDES\n       isCompat := IsCompat;\n &quot;
 &amp; &quot;     &lt;*LL = {} *&gt;\n#{_OUTPUT\n        oe#(_EVENT_) := #(_EVENT_);\n#}\n&quot;
 &amp; &quot;      &lt;*LL = VBT.mu *&gt;\n#{_UPDATE\n        ue#(_EVENT_) := #(_EVENT_);\n&quot;
 &amp; &quot;#}\n      END;\n\nPROCEDURE IsCompat (v: T; alg: ZeusClass.T): BOOLEAN &quot;
 &amp; &quot;=\n  BEGIN\n    RETURN ISTYPE(alg, #(_ALGNAME_)AlgClass.T) AND View3D.T&quot;
 &amp; &quot;.isCompat (v, alg);\n  END IsCompat;\n\n#{_OUTPUT\nPROCEDURE #(_EVENT_)&quot;
 &amp; &quot; (view: T\n#{\n    ; &lt;*UNUSED*&gt; #(_ARGMODE_)#(_ARGNAME_): #(_ARGTYPE_)\n&quot;
 &amp; &quot;#}\n) =\n  &lt;*LL = {} *&gt;\n  BEGIN\n    view.evtHandled := FALSE;\n  END &quot;
 &amp; &quot;#(_EVENT_);\n\n#}\n\n#{_UPDATE\nPROCEDURE #(_EVENT_) (view: T\n#{\n    &quot;
 &amp; &quot;; &lt;*UNUSED*&gt; #(_ARGMODE_)#(_ARGNAME_): #(_ARGTYPE_)\n#}\n) =\n  &lt;*LL = &quot;
 &amp; &quot;VBT.mu *&gt;\n  BEGIN\n    view.evtHandled := FALSE;\n  END #(_EVENT_);\n\n&quot;
 &amp; &quot;#}\n\nBEGIN\nEND #(_ALGNAME_)3DViewClass.\n&quot;;

CONST E3 =
   &quot;; Copyright (C) 1995, Digital Equipment Corporation.\n; All rights rese&quot;
 &amp; &quot;rved.\n; See the file COPYRIGHT for a full description.\n;\n; Last modi&quot;
 &amp; &quot;fied on Wed Feb  8 15:37:06 PST 1995 by kalsow\n\n;********************&quot;
 &amp; &quot;************************************************\n;  NOTE: This file is&quot;
 &amp; &quot; generated automatically from the event \n;        definition file #(_A&quot;
 &amp; &quot;LGNAME_).evt.\n;*******************************************************&quot;
 &amp; &quot;*************\n\n(VBox\n  (Rim\n    (Pen 2)\n    (HBox\n      (VBox (Gl&quot;
 &amp; &quot;ue 4) (Shape (Height + Inf) (Button %clear \&quot;CLEAR\&quot;)) (Glue 4))\n     &quot;
 &amp; &quot; (Glue 4)\n      (VBox\n        (Boolean =TRUE %alg (Text LeftAlign \&quot;A&quot;
 &amp; &quot;lgorithm events\&quot;))\n        (Boolean =FALSE %zeus (Text LeftAlign \&quot;Ze&quot;
 &amp; &quot;us events\&quot;))\n        (Boolean =TRUE %args (Text LeftAlign \&quot;Display a&quot;
 &amp; &quot;rgs to events\&quot;)))\n      Fill))\n  (Bar 1)\n  (Shape (ShadowSize 0) (H&quot;
 &amp; &quot;eight 200 + INF) (TextEdit ReadOnly %transcript)))\n&quot;;

CONST E4 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Wed Feb &quot;
 &amp; &quot; 8 15:34:46 PST 1995 by kalsow  *)\n(*      modified on Mon Jan 24 10:0&quot;
 &amp; &quot;0:27 PST 1994 by najork  *)\n(*      modified on Sat Jul 17 10:55:21 PD&quot;
 &amp; &quot;T 1993 by mhb     *)\n(*      modified on Wed Feb 17 16:47:18 PST 1993 &quot;
 &amp; &quot;by johnh   *)\n\n(*****************************************************&quot;
 &amp; &quot;****************\n|*  NOTE: This file is generated automatically from t&quot;
 &amp; &quot;he event\n|*        definition file #(_ALGNAME_).evt.\n|***************&quot;
 &amp; &quot;******************************************************)\n\nINTERFACE #(&quot;
 &amp; &quot;_ALGNAME_)#(_VIEWNAME_)Obliq3DView;\nEND #(_ALGNAME_)#(_VIEWNAME_)Obliq&quot;
 &amp; &quot;3DView.\n\n&quot;;

CONST E5 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:48:22 PST 1995 by kalsow  *)\n(*      modified on Wed Feb 17 16:4&quot;
 &amp; &quot;6:18 PST 1993 by johnh   *)\n(*      modified on Thu Sep 24 10:59:20 PD&quot;
 &amp; &quot;T 1992 by mhb     *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\nMODUL&quot;
 &amp; &quot;E #(_ALGNAME_)AlgClass;\n\n$Algorithm\n$Fmt\n$FormsVBT\n$Rd\n$Text\n$VB&quot;
 &amp; &quot;T\n$Wr\n$ZeusClass\n$ZeusPanel\n$ZeusUtil\n#(_IMPORTS_)\n\n&lt;* PRAGMA LL&quot;
 &amp; &quot; *&gt;\n\n(* Fix any FormsVBT errors; don\'t handle exceptions for them. *&quot;
 &amp; &quot;)\n&lt;* FATAL FormsVBT.Error, FormsVBT.Unimplemented *&gt;\n\n\nREVEAL\n  T &quot;
 &amp; &quot;= Public BRANDED OBJECT\n      OVERRIDES\n        &lt;* LL = VBT.mu *&gt;\n  &quot;
 &amp; &quot;      init := #(_ALGNAME_)DefaultInit;\n        snapshot := #(_ALGNAME_&quot;
 &amp; &quot;)DefaultSnapshot;\n        restore := #(_ALGNAME_)DefaultRestore;\n    &quot;
 &amp; &quot;    updateEventCounts := #(_ALGNAME_)DefaultUpdateCts;\n#{_FEEDBACK\n  &quot;
 &amp; &quot;      fe#(_EVENT_) := #(_EVENT_);\n#}\n      END;\n\nPROCEDURE #(_ALGNA&quot;
 &amp; &quot;ME_)DefaultInit (v: T): Algorithm.T =\n  &lt;* LL = VBT.mu *&gt;\n  PROCEDURE&quot;
 &amp; &quot; Attach (id: TEXT; proc: FormsVBT.Proc) =\n    BEGIN\n      FormsVBT.At&quot;
 &amp; &quot;tachProc(v.eventData, id, proc, v);\n    END Attach;\n  BEGIN\n    v.ev&quot;
 &amp; &quot;entData := ZeusPanel.NewForm(\&quot;#(_ALGNAME_)EventData.fv\&quot;);\n    Attach&quot;
 &amp; &quot;(\&quot;stopatCodeEvents\&quot;, #(_ALGNAME_)DoIt);\n    Attach(\&quot;waitatCodeEvent&quot;
 &amp; &quot;s\&quot;, #(_ALGNAME_)DoIt);\n    Attach(\&quot;eventCounts\&quot;, #(_ALGNAME_)Refres&quot;
 &amp; &quot;hCts);\n#{_OUTPUT\n    Attach(\&quot;stopAt#(_EVENT_)\&quot;, #(_ALGNAME_)DoIt);\n&quot;
 &amp; &quot;    Attach(\&quot;waitAt#(_EVENT_)\&quot;, #(_ALGNAME_)DoIt);\n#}\n    FromFV (v.&quot;
 &amp; &quot;eventData, v);    (* Get FV and internal data in sync *)\n    RETURN Al&quot;
 &amp; &quot;gorithm.T.init(v);\n  END #(_ALGNAME_)DefaultInit;\n\nPROCEDURE #(_ALGN&quot;
 &amp; &quot;AME_)DoIt (       &quot;;

CONST E5_0 =
   &quot;    fv : FormsVBT.T;\n                           e  : TEXT;\n          &quot;
 &amp; &quot;                 arg: REFANY;\n                &lt;*UNUSED*&gt; t  : VBT.Time&quot;
 &amp; &quot;Stamp) =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    IF Text.Equal(e, \&quot;stopatCo&quot;
 &amp; &quot;deEvents\&quot;) THEN\n      NARROW(arg, T).stopatCodeEvents :=\n          F&quot;
 &amp; &quot;ormsVBT.GetBoolean(fv, \&quot;stopatCodeEvents\&quot;);\n    END;\n    IF Text.Eq&quot;
 &amp; &quot;ual(e, \&quot;waitatCodeEvents\&quot;) THEN\n      NARROW(arg, T).waitatCodeEvent&quot;
 &amp; &quot;s :=\n          FormsVBT.GetInteger(fv, \&quot;waitatCodeEvents\&quot;);\n    END&quot;
 &amp; &quot;;\n#{_OUTPUT\n    IF Text.Equal(e, \&quot;stopAt#(_EVENT_)\&quot;) THEN\n      NA&quot;
 &amp; &quot;RROW(arg, T).eventDataRec.stopAt#(_EVENT_) :=\n          FormsVBT.GetBo&quot;
 &amp; &quot;olean(fv, \&quot;stopAt#(_EVENT_)\&quot;);\n    END;\n    IF Text.Equal(e, \&quot;wait&quot;
 &amp; &quot;At#(_EVENT_)\&quot;) THEN\n      NARROW(arg, T).eventDataRec.waitAt#(_EVENT_&quot;
 &amp; &quot;) :=\n          FormsVBT.GetInteger(fv, \&quot;waitAt#(_EVENT_)\&quot;);\n    END&quot;
 &amp; &quot;;\n#}\n  END #(_ALGNAME_)DoIt;\n\nPROCEDURE #(_ALGNAME_)RefreshCts (\n &quot;
 &amp; &quot;               &lt;*UNUSED*&gt; fv  : FormsVBT.T;\n                &lt;*UNUSED*&gt;&quot;
 &amp; &quot; e   : TEXT;\n                           arg : REFANY;\n               &quot;
 &amp; &quot; &lt;*UNUSED*&gt; t   : VBT.TimeStamp) =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    N&quot;
 &amp; &quot;ARROW(arg, T).updateEventCounts(FALSE);\n  END #(_ALGNAME_)RefreshCts;\n&quot;
 &amp; &quot;\nPROCEDURE FromFV (fv : FormsVBT.T; alg: T) =\n  &lt;* LL = VBT.mu *&gt;\n  &quot;
 &amp; &quot;BEGIN\n    alg.stopatCodeEvents :=\n        FormsVBT.GetBoolean(fv, \&quot;s&quot;
 &amp; &quot;topatCodeEvents\&quot;);\n    alg.waitatCodeEvents :=\n        FormsVBT.GetI&quot;
 &amp; &quot;nteger(fv, \&quot;waitatCodeEvents\&quot;);\n#{_OUTPUT\n    alg.eventDataRec.stop&quot;
 &amp; &quot;At#(_EVENT_) :=\n        FormsVBT.GetBoolean(fv, \&quot;stopAt#(_EVENT_)\&quot;);&quot;
 &amp; &quot;\n    alg.eventDataRec.waitAt#(_EVENT_) :=\n        FormsVBT.GetInteger&quot;
 &amp; &quot;(fv, \&quot;waitAt#(_EVENT_)\&quot;);\n#}\n  END FromFV;\n\n&lt;*UNUSED*&gt;\nPROCEDURE&quot;
 &amp; &quot; ToFV (fv : FormsVBT.T; alg: T) =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    Fo&quot;
 &amp; &quot;rmsVBT.PutBoolean(fv, \&quot;stopatCodeEvents\&quot;, alg.stopatCodeEvents);\n   &quot;
 &amp; &quot; FormsVBT.PutInteger(fv, \&quot;waitatCodeEvents\&quot;, alg.waitatCodeEvents);\n&quot;
 &amp; &quot;#{_OUTPUT\n    FormsVBT.PutBoolean(fv, \&quot;stopAt#(_EVENT_)\&quot;,\n         &quot;
 &amp; &quot;               alg.eventDataRec.stopAt#(_EVENT_));\n    FormsVBT.PutInt&quot;
 &amp; &quot;eger(fv, \&quot;waitAt#(_EVENT_)\&quot;,\n &quot;;

CONST E5_1 =
   &quot;                       alg.eventDataRec.waitAt#(_EVENT_));\n#}\n    Cou&quot;
 &amp; &quot;ntsToFV (fv, alg);\n  END ToFV;\n\nPROCEDURE CountsToFV (fv : FormsVBT.&quot;
 &amp; &quot;T; alg: T) =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n#{_OUTPUT\n    FormsVBT.Put&quot;
 &amp; &quot;Text(fv, \&quot;ctOf#(_EVENT_)\&quot;,\n                        Fmt.Int(alg.event&quot;
 &amp; &quot;DataRec.ctOf#(_EVENT_)));\n#}\n  END CountsToFV;\n\nPROCEDURE #(_ALGNAM&quot;
 &amp; &quot;E_)DefaultUpdateCts ( v: T; reset: BOOLEAN) =\n  &lt;* LL = VBT.mu *&gt;\n  B&quot;
 &amp; &quot;EGIN\n    IF reset THEN\n#{_OUTPUT\n      v.eventDataRec.ctOf#(_EVENT_)&quot;
 &amp; &quot; := 0;\n#}\n    END;\n    CountsToFV (v.eventData, v);\n  END #(_ALGNAM&quot;
 &amp; &quot;E_)DefaultUpdateCts;\n\n\nPROCEDURE #(_ALGNAME_)DefaultSnapshot (v: T; &quot;
 &amp; &quot;wr: Wr.T)\n  RAISES {ZeusClass.Error} =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n&quot;
 &amp; &quot;    TRY\n      Wr.PutChar(wr, \'(\')\n    EXCEPT\n    ELSE\n      RAISE&quot;
 &amp; &quot; ZeusClass.Error(\n          \&quot;#(_ALGNAME_)AlgClass.#(_ALGNAME_)Default&quot;
 &amp; &quot;Snapshot write error\&quot;);\n    END;\n    IF v.eventData = NIL THEN\n    &quot;
 &amp; &quot;  RAISE ZeusClass.Error(\n          \&quot;#(_ALGNAME_)AlgClass.#(_ALGNAME_)&quot;
 &amp; &quot;DefaultSnapshot: \&quot; &amp;\n          \&quot;eventData not set!\&quot;);\n    END;\n  &quot;
 &amp; &quot;  TRY\n      v.eventData.snapshot(wr)\n    EXCEPT\n      FormsVBT.Error&quot;
 &amp; &quot; (msg) =&gt;\n        RAISE ZeusClass.Error(\n          \&quot;#(_ALGNAME_)AlgC&quot;
 &amp; &quot;lass.#(_ALGNAME_)DefaultSnapshot FV error: \&quot;\n          &amp; msg);\n    E&quot;
 &amp; &quot;LSE\n      RAISE ZeusClass.Error(\n        \&quot;#(_ALGNAME_)AlgClass.#(_AL&quot;
 &amp; &quot;GNAME_)DefaultSnapshot error\&quot;);\n    END;\n    Algorithm.T.snapshot(v,&quot;
 &amp; &quot; wr);\n    TRY\n      Wr.PutChar(wr, \')\')\n    EXCEPT\n    ELSE\n    &quot;
 &amp; &quot;  RAISE ZeusClass.Error(\n          \&quot;#(_ALGNAME_)AlgClass.#(_ALGNAME_)&quot;
 &amp; &quot;DefaultSnapshot write error\&quot;);\n    END;\n  END #(_ALGNAME_)DefaultSna&quot;
 &amp; &quot;pshot;\n\n\nPROCEDURE #(_ALGNAME_)DefaultRestore (v: T; rd: Rd.T)\n  RA&quot;
 &amp; &quot;ISES {ZeusClass.Error} =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    IF rd = NIL&quot;
 &amp; &quot; THEN RETURN END;\n    IF NOT ZeusUtil.EatChar(rd, \'(\') THEN\n      R&quot;
 &amp; &quot;AISE ZeusClass.Error(\n          \&quot;#(_ALGNAME_)AlgClass.#(_ALGNAME_)Def&quot;
 &amp; &quot;aultRestore read error\&quot;);\n    END;\n    IF v.eventData = NIL THEN\n  &quot;
 &amp; &quot;    RAISE ZeusClass.Error(\n          \&quot;#(_ALGNAME_)AlgClass.#(_ALGNAME&quot;
 &amp; &quot;_)DefaultRestore: \&quot; &amp;\n          \&quot;eventD&quot;;

CONST E5_2 =
   &quot;ata not set!\&quot;);\n    END;\n    TRY\n      v.eventData.restore(rd);\n  &quot;
 &amp; &quot;    v.updateEventCounts(FALSE);\n      FromFV(v.eventData, v);\n    EXC&quot;
 &amp; &quot;EPT\n    ELSE\n      RAISE ZeusClass.Error(\n          \&quot;#(_ALGNAME_)Al&quot;
 &amp; &quot;gClass.#(_ALGNAME_)DefaultRestore error\&quot;);\n    END;\n    Algorithm.T.&quot;
 &amp; &quot;restore(v, rd);\n    IF NOT ZeusUtil.EatChar(rd, \')\') THEN\n      RAI&quot;
 &amp; &quot;SE ZeusClass.Error(\n          \&quot;#(_ALGNAME_)AlgClass.#(_ALGNAME_)Defau&quot;
 &amp; &quot;ltRestore read error\&quot;);\n    END;\n  END #(_ALGNAME_)DefaultRestore;\n&quot;
 &amp; &quot;\n#{_FEEDBACK\nPROCEDURE #(_EVENT_) (self: T\n#{\n    ; &lt;*UNUSED*&gt; #(_A&quot;
 &amp; &quot;RGMODE_)#(_ARGNAME_): #(_ARGTYPE_)\n#}\n) =\n  &lt;* LL = VBT.mu *&gt;\n  BEG&quot;
 &amp; &quot;IN\n    self.evtHandled := FALSE;\n  END #(_EVENT_);\n\n#}\n\nBEGIN\nEN&quot;
 &amp; &quot;D #(_ALGNAME_)AlgClass.\n&quot;;

CONST E6 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:51:16 PST 1995 by kalsow  *)\n(* Last modified on Wed Feb 17 16:4&quot;
 &amp; &quot;6:35 PST 1993 by johnh   *)\n\n(***************************************&quot;
 &amp; &quot;******************************\n|*  NOTE: This file is generated automa&quot;
 &amp; &quot;tically from the event\n|*        definition file #(_ALGNAME_).evt.\n|*&quot;
 &amp; &quot;********************************************************************)\n&quot;
 &amp; &quot;\n&lt;* PRAGMA LL *&gt;\n\nINTERFACE #(_ALGNAME_)IE;\n\n$Algorithm\n$Thread\n&quot;
 &amp; &quot;$View\n#(_IMPORTS_)\n\n(* call the following to generate an event: *)\n&quot;
 &amp; &quot;\n#{_OUTPUT\nPROCEDURE #(_EVENT_) (\n      initiator: Algorithm.T;\n   &quot;
 &amp; &quot;   #(_ARGSTR_)\n    ) RAISES {Thread.Alerted};\n    &lt;* LL = {} *&gt;\n\n#}&quot;
 &amp; &quot;\n#{_FEEDBACK\nPROCEDURE #(_EVENT_) (\n      initiator: View.T;\n      &quot;
 &amp; &quot;#(_ARGSTR_)\n    ) RAISES {Thread.Alerted};\n    &lt;* LL = VBT.mu *&gt;\n\n#&quot;
 &amp; &quot;}\n#{_UPDATE\nPROCEDURE #(_EVENT_) (\n      initiator: Algorithm.T;\n  &quot;
 &amp; &quot;    #(_ARGSTR_)\n    ) RAISES {Thread.Alerted};\n    &lt;* LL = VBT.mu *&gt;\n&quot;
 &amp; &quot;\n#}\n\nEND #(_ALGNAME_)IE.\n&quot;;

CONST E7 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 09:01:09 PST 1995 by kalsow  *)\n(* Last modified on Sat Jul 17 14:2&quot;
 &amp; &quot;8:37 PDT 1993 by mhb     *)\n(*      modified on Thu Jul 15 14:12:41 PD&quot;
 &amp; &quot;T 1993 by steveg  *)\n(*      modified on Tue Feb 16 16:31:40 PST 1993 &quot;
 &amp; &quot;by johnh   *)\n\n(*****************************************************&quot;
 &amp; &quot;****************\n|*  NOTE: This file is generated automatically from t&quot;
 &amp; &quot;he event\n|*        definition file #(_ALGNAME_).evt.\n|***************&quot;
 &amp; &quot;******************************************************)\n\n&lt;* PRAGMA LL&quot;
 &amp; &quot; *&gt;\n\nMODULE #(_ALGNAME_)#(_VIEWNAME_)GEFView;\n\n$Filter\n$Fmt\n$GEF\n&quot;
 &amp; &quot;$GEFError\n$GEFViewClass\n$GraphVBT\n$Rd\n$Rsrc\n$SLisp\n$Thread\n$VBT\n&quot;
 &amp; &quot;$View\n$ViewClass\n$ZeusClass\n$ZeusPanel\n$#(_ALGNAME_)AlgClass\n$#(_A&quot;
 &amp; &quot;LGNAME_)ViewClass\n#(_IMPORTS_)\n\nTYPE\n  T = #(_ALGNAME_)ViewClass.T &quot;
 &amp; &quot;BRANDED OBJECT\n        name := \&quot;#(_VIEWNAME_).gef\&quot;;\n      OVERRIDES&quot;
 &amp; &quot;\n        &lt;* LL = VBT.mu *&gt;\n        install  := Install;\n        star&quot;
 &amp; &quot;trun := Startrun;\n        &lt;* LL = 0 *&gt;\n#{_OUTPUT\n        oe#(_EVENT_&quot;
 &amp; &quot;) := #(_EVENT_);\n#}\n      END;\n\nPROCEDURE Install (v: T) =\n  &lt;* FA&quot;
 &amp; &quot;TAL SLisp.Error *&gt;\n  VAR\n    interp := NEW(GEFViewClass.Interp).init(&quot;
 &amp; &quot;);\n    gef    := NEW(GEF.T).init(interp);\n  BEGIN\n    EVAL Filter.Re&quot;
 &amp; &quot;place (v, gef);\n    #(_ALGNAME_)ViewClass.T.install(v)\n  END Install;&quot;
 &amp; &quot;\n\nPROCEDURE Startrun(v: T) =\n  BEGIN\n    TRY\n      GEF.InitFromRsr&quot;
 &amp; &quot;c(Filter.Child(v), v.name, ZeusPanel.GetPath());\n    EXCEPT\n    | Thr&quot;
 &amp; &quot;ead.Alerted =&gt;\n    | Rsrc.NotFound =&gt;\n        ZeusPanel.ReportError(\n&quot;
 &amp; &quot;          Fmt.F(\&quot;GEF View error: Could not find file: %s\&quot;, v.name));\n&quot;
 &amp; &quot;    | Rd.Failure =&gt;\n        ZeusPanel.ReportError(\n          Fmt.F(\&quot;&quot;
 &amp; &quot;GEF View error finding or parsing file: %s\&quot;, v.name));\n    | GEFError&quot;
 &amp; &quot;.T (msg) =&gt;\n        ZeusPanel.ReportError(\n          Fmt.F(\&quot;GEF View&quot;
 &amp; &quot; error (%s) parsin&quot;;

CONST E7_0 =
   &quot;g file: %s\&quot;, msg, v.name));\n    END;\n  END Startrun;\n\nPROCEDURE Ne&quot;
 &amp; &quot;w (): View.T =\n  VAR g := NEW(GraphVBT.T).init();\n  BEGIN\n    RETURN&quot;
 &amp; &quot; NEW(T).init(g)\n  END New;\n\n(* event handling methods: *)\n\n#{_OUTP&quot;
 &amp; &quot;UT\nPROCEDURE #(_EVENT_) (view: T; #(_ARGSTR_)) =\n  &lt;* LL = {} *&gt;\n  V&quot;
 &amp; &quot;AR gef: GEF.T := Filter.Child(view);\n  BEGIN\n    TRY\n      GEF.Invok&quot;
 &amp; &quot;eEvent (gef, \&quot;#(_EVENT_)\&quot;, GEF.EventData(\n#{\n      #(_ARGFMT_)(#(_A&quot;
 &amp; &quot;RGNAME_))\n#|\n      ,\n#}\n      ));\n      gef.redisplay();\n      ge&quot;
 &amp; &quot;f.animate(0.0, 1.0);\n    EXCEPT\n    | Thread.Alerted =&gt;\n    | GEFErr&quot;
 &amp; &quot;or.T (msg) =&gt;\n        ZeusPanel.ReportError(\n          Fmt.F(\&quot;GEF Vi&quot;
 &amp; &quot;ew error (%s) parsing file: %s\&quot;, msg, view.name));\n    END;\n  END #(&quot;
 &amp; &quot;_EVENT_);\n\n#}\n\nBEGIN\n  ZeusPanel.RegisterView(New, \&quot;#(_VIEWNAME_)&quot;
 &amp; &quot;.gef\&quot;, \&quot;#(_ALGNAME_)\&quot;);\nEND #(_ALGNAME_)#(_VIEWNAME_)GEFView.\n&quot;;

CONST E8 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:59:04 PST 1995 by kalsow  *)\n(*      modified on Mon Jun  6 03:1&quot;
 &amp; &quot;6:18 PDT 1994 by mhb     *)\n(*      modified on Sun Jun  5 16:47:33 PD&quot;
 &amp; &quot;T 1994 by heydon  *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\n&lt;* PR&quot;
 &amp; &quot;AGMA LL *&gt;\n\nMODULE #(_ALGNAME_)#(_VIEWNAME_)JunoView;\n\n$Atom\n$Atom&quot;
 &amp; &quot;List\n$Fmt\n$NetObj\n$Thread\n$VBT\n$Wr\n$Rd\n$ZFmt\n$ZeusPanel\n$Remot&quot;
 &amp; &quot;eView\n$View\n$#(_ALGNAME_)ViewClass\n#(_IMPORTS_)\n\nTYPE\n  T = #(_AL&quot;
 &amp; &quot;GNAME_)ViewClass.T BRANDED OBJECT\n         jz: RemoteView.T := NIL;\n &quot;
 &amp; &quot;     OVERRIDES\n        &lt;* LL.sup &lt; VBT.mu *&gt;\n        startrun := Star&quot;
 &amp; &quot;trun;\n        endrun := Endrun;\n        &lt;* LL.sup &lt; VBT.mu *&gt;\n#{_OUT&quot;
 &amp; &quot;PUT\n        oe#(_EVENT_) := #(_EVENT_);\n#}\n        &lt;* LL.sup = VBT.m&quot;
 &amp; &quot;u *&gt;\n#{_UPDATE\n        ue#(_EVENT_) := #(_EVENT_);\n#}\n        &lt;* LL&quot;
 &amp; &quot;.sup = VBT.mu *&gt;\n        install := NoargNoop;\n        delete := Noar&quot;
 &amp; &quot;gNoop;\n        snapshot := SnapshotNoop;\n        restore := RestoreNo&quot;
 &amp; &quot;op;\n        reactivity := ReactivityNoop\n      END;\n\n(* STARTRUN an&quot;
 &amp; &quot;d ENDRUN methods: *)\n\nPROCEDURE Startrun(view: T) =\n  &lt;* LL.sup &lt; VB&quot;
 &amp; &quot;T.mu *&gt;\n  BEGIN\n    IF view.jz = NIL THEN RETURN END;\n    TRY view.j&quot;
 &amp; &quot;z.startrun() EXCEPT\n      NetObj.Error (err) =&gt; ZeusPanel.ReportError(&quot;
 &amp; &quot;NetObjError(err))\n    | Thread.Alerted =&gt; ZeusPanel.ReportError(\&quot;NetO&quot;
 &amp; &quot;bj call alerted\&quot;)\n    END\n  END Startrun;\n\nPROCEDURE Endrun(view: &quot;
 &amp; &quot;T) =\n  &lt;* LL.sup &lt; VBT.mu *&gt;\n  BEGIN\n    IF view.jz = NIL THEN RETUR&quot;
 &amp; &quot;N END;\n    TRY view.jz.endrun() EXCEPT\n      NetObj.Error (err) =&gt; Ze&quot;
 &amp; &quot;usPanel.ReportError(NetObjError(err))\n    | Thread.Alerted =&gt; ZeusPane&quot;
 &amp; &quot;l.ReportError(\&quot;N&quot;;

CONST E8_0 =
   &quot;etObj call alerted\&quot;)\n    END\n  END Endrun;\n\n(* OUTPUT and UPDATE e&quot;
 &amp; &quot;vent handling methods: *)\n\n#{_OUTPUT\nPROCEDURE #(_EVENT_) (view: T; &quot;
 &amp; &quot;#(_ARGSTR_)) =\n  &lt;* LL.sup &lt; VBT.mu *&gt;\n  CONST EventName = \&quot;#(_EVENT&quot;
 &amp; &quot;_)\&quot;;\n  VAR tfactor: REAL; BEGIN\n    IF view.jz = NIL THEN RETURN END&quot;
 &amp; &quot;;\n    LOCK VBT.mu DO\n      tfactor := ZeusPanel.GetAnimationTime()\n &quot;
 &amp; &quot;   END;\n    TRY\n      view.jz.event (tfactor, EventName, \&quot;(\&quot;\n#{\n &quot;
 &amp; &quot;     &amp; #(_ARGFMT_)(#(_ARGNAME_))\n#|\n      &amp; \&quot; \&quot;\n#}\n      &amp; \&quot;)\&quot;)&quot;
 &amp; &quot;\n    EXCEPT\n      RemoteView.Error (txt) =&gt; ReportError(EventName, tx&quot;
 &amp; &quot;t)\n    | NetObj.Error (err) =&gt; ReportError(EventName, NetObjError(err)&quot;
 &amp; &quot;)\n    | Thread.Alerted =&gt; ReportError(EventName, \&quot;NetObj call alerted&quot;
 &amp; &quot;\&quot;)\n    END\n  END #(_EVENT_);\n\n#}\n#{_UPDATE\nPROCEDURE #(_EVENT_) &quot;
 &amp; &quot;(view: T; #(_ARGSTR_)) =\n  &lt;* LL.sup = VBT.mu *&gt;\n  CONST EventName = &quot;
 &amp; &quot;\&quot;#(_EVENT_)\&quot;;\n  VAR tfactor: REAL; BEGIN\n    IF view.jz = NIL THEN &quot;
 &amp; &quot;RETURN END;\n    tfactor := ZeusPanel.GetAnimationTime();\n    TRY\n   &quot;
 &amp; &quot;   view.jz.event (tfactor, EventName, \&quot;(\&quot;\n#{\n      &amp; #(_ARGFMT_)(#(&quot;
 &amp; &quot;_ARGNAME_))\n#|\n      &amp; \&quot; \&quot;\n#}\n      &amp; \&quot;)\&quot;)\n    EXCEPT\n      R&quot;
 &amp; &quot;emoteView.Error (txt) =&gt; ReportError(EventName, txt)\n    | NetObj.Erro&quot;
 &amp; &quot;r (err) =&gt; ReportError(EventName, NetObjError(err))\n    | Thread.Alert&quot;
 &amp; &quot;ed =&gt; ReportError(EventName, \&quot;NetObj call alerted\&quot;)\n    END\n  END #&quot;
 &amp; &quot;(_EVENT_);\n\n#}\nPROCEDURE NoargNoop(&lt;*UNUSED*&gt; v: T) =\n  BEGIN END N&quot;
 &amp; &quot;oargNoop;\n\nPROCEDURE SnapshotNoop(&lt;*UNUSED*&gt; v: T; &lt;*UNUSED*&gt; wr: Wr.&quot;
 &amp; &quot;T) =\n  BEGIN END SnapshotNoop;\n\nPROCEDURE RestoreNoop(&lt;*UNUSED*&gt; v: &quot;
 &amp; &quot;T; &lt;*UNUSED*&gt; rd: Rd.T) =\n  BEGIN END RestoreNoop;\n\nPROCEDURE Reacti&quot;
 &amp; &quot;vityNoop(&lt;*UNUSED*&gt; v: T; &lt;*UNUSED*&gt; on: BOOLEAN) =\n  BEGIN END Reacti&quot;
 &amp; &quot;vityNoop;\n\nPROCEDURE New (): View.T =\n  VAR\n    res: T := NEW(T).in&quot;
 &amp; &quot;it(NIL);\n    jz: NetObj.T;\n    errMsg: TEXT := NIL;\n  BEGIN\n    TRY&quot;
 &amp; &quot;\n      jz := NetObj.Import(\&quot;JunoZeus\&quot;);\n      IF jz = NIL THEN\n   &quot;
 &amp; &quot; \terrMsg := \&quot;NetObj Error: Can\'t find JunoZeus object\&quot;\n      ELSIF&quot;
 &amp; &quot; NOT ISTYPE(jz, RemoteView.T) THEN\n    \terrMsg := \&quot;NetObj Error: Typ&quot;
 &amp; &quot;e mismatch between Juno and Zeus\&quot;\n      ELSE\n  &quot;;

CONST E8_1 =
   &quot;  \tres.jz := jz;\n    \tRETURN res\n      END\n    EXCEPT\n      NetOb&quot;
 &amp; &quot;j.Error (err) =&gt; errMsg := NetObjError(err)\n    | Thread.Alerted =&gt;   &quot;
 &amp; &quot;  errMsg := \&quot;NetObj Import alerted\&quot;\n    END;\n    ZeusPanel.ReportEr&quot;
 &amp; &quot;ror(errMsg);\n    RETURN NIL\n  END New;\n\nPROCEDURE NetObjError(err: &quot;
 &amp; &quot;AtomList.T): TEXT =\n  VAR res := \&quot;NetObj Error: \&quot;; BEGIN\n    WHILE &quot;
 &amp; &quot;err # NIL DO\n      res := res &amp; Atom.ToText(err.head);\n      err := e&quot;
 &amp; &quot;rr.tail;\n      IF err # NIL THEN res := res &amp; \&quot;; \&quot; END\n    END;\n  &quot;
 &amp; &quot;  RETURN res\n  END NetObjError;\n\nPROCEDURE ReportError(nm, msg: TEXT&quot;
 &amp; &quot;) =\n  BEGIN\n    ZeusPanel.ReportError(\&quot;\\\&quot;\&quot; &amp; nm &amp; \&quot;\\\&quot; event er&quot;
 &amp; &quot;ror: \&quot; &amp; msg)\n  END ReportError;\n\nPROCEDURE RegisterView () =\n  BE&quot;
 &amp; &quot;GIN\n    ZeusPanel.RegisterView(New, \&quot;#(_VIEWNAME_)\&quot;, \&quot;#(_ALGNAME_)\&quot;&quot;
 &amp; &quot;)\n  END RegisterView;\n\nBEGIN\n  RegisterView ();\nEND #(_ALGNAME_)#(&quot;
 &amp; &quot;_VIEWNAME_)JunoView.\n&quot;;

CONST E9 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:56:02 PST 1995 by kalsow  *)\n(*      modified on Mon Jun  6 03:1&quot;
 &amp; &quot;8:55 PDT 1994 by mhb   *)\n(*      modified on Tue Feb 16 16:31:40 PST &quot;
 &amp; &quot;1993 by johnh *)\n\n(**************************************************&quot;
 &amp; &quot;*******************\n|*  NOTE: This file is generated automatically fro&quot;
 &amp; &quot;m the event\n|*        definition file #(_ALGNAME_).evt.\n|************&quot;
 &amp; &quot;*********************************************************)\n\n&lt;* PRAGMA&quot;
 &amp; &quot; LL *&gt;\n\nMODULE #(_ALGNAME_)TranscriptView;\n\n$ZFmt\n$Fmt\n$FormsVBT\n&quot;
 &amp; &quot;$Rd\n$Filter\n$TextEditVBT\n$TextPort\n$VBT\n$View\n$Wr\n$ZeusClass\n$Z&quot;
 &amp; &quot;eusPanel\n$#(_ALGNAME_)ViewClass\n#(_IMPORTS_)\n\n&lt;* FATAL FormsVBT.Err&quot;
 &amp; &quot;or, FormsVBT.Unimplemented *&gt;\n\nREVEAL\n  T = Public BRANDED OBJECT\n &quot;
 &amp; &quot;   fv: FormsVBT.T := NIL;\n    te: TextEditVBT.T := NIL;\n  OVERRIDES\n&quot;
 &amp; &quot;    init       := TViewInit;\n    install    := TViewInstall;\n    dele&quot;
 &amp; &quot;te     := TViewDelete;\n    snapshot   := TViewSnapshot;\n    restore  &quot;
 &amp; &quot;  := TViewRestore;\n    config     := TViewConfig;\n    reactivity := T&quot;
 &amp; &quot;ViewReactivity;\n    startrun   := TViewStartrun;\n    endrun     := TV&quot;
 &amp; &quot;iewEndrun;\n#{_OUTPUT\n    oe#(_EVENT_) := #(_EVENT_);\n#}\n#{_UPDATE\n&quot;
 &amp; &quot;    ue#(_EVENT_) := #(_EVENT_);\n#}\n  END;\n\nPROCEDURE TViewInit (vie&quot;
 &amp; &quot;w: T): T =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    TViewZTrace (view, \&quot;init&quot;
 &amp; &quot;\&quot;);\n    RETURN #(_ALGNAME_)ViewClass.T.init (view, NIL);\n  END TView&quot;
 &amp; &quot;Init;\n\nPROCEDURE Clear (&lt;* UNUSED *&gt; fv  : FormsVBT.T;\n             &quot;
 &amp; &quot;    &lt;* UNUSED *&gt; name: TEXT;\n                              cl  : REFAN&quot;
 &amp; &quot;Y;\n                 &lt;* UNUSED *&gt; time: VBT.TimeStamp) =\n  BEGIN\n    &quot;
 &amp; &quot;TextPort.SetText(NARROW(cl, T).te.tp, \&quot;\&quot;)\n  END Clear;\n\nPROCEDURE &quot;
 &amp; &quot;TViewInstall (view: T) =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    view.fv := &quot;
 &amp; &quot;ZeusPanel.NewForm(\&quot;#(_ALGNAME_)TranscriptView.fv\&quot;);\n    view.te := F&quot;
 &amp; &quot;ormsVBT.GetVBT(view.f&quot;;

CONST E9_0 =
   &quot;v, \&quot;transcript\&quot;);\n    TViewZTrace (view, \&quot;install\&quot;);\n    FormsVBT&quot;
 &amp; &quot;.AttachProc(view.fv, \&quot;clear\&quot;, Clear, view);\n    EVAL Filter.Replace &quot;
 &amp; &quot;(view, view.fv);\n    #(_ALGNAME_)ViewClass.T.install (view);\n  END TV&quot;
 &amp; &quot;iewInstall;\n\nPROCEDURE TViewDelete (view: T) =\n  &lt;* LL = VBT.mu *&gt;\n&quot;
 &amp; &quot;  BEGIN\n    TViewZTrace (view, \&quot;delete\&quot;);\n    #(_ALGNAME_)ViewClass&quot;
 &amp; &quot;.T.delete (view);\n   END TViewDelete;\n\nPROCEDURE TViewSnapshot (view&quot;
 &amp; &quot;: T; wr: Wr.T) RAISES {ZeusClass.Error} =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN&quot;
 &amp; &quot;\n    TViewZTrace (view, \&quot;snapshot\&quot;);\n    #(_ALGNAME_)ViewClass.T.sn&quot;
 &amp; &quot;apshot (view, wr);\n   END TViewSnapshot;\n\nPROCEDURE TViewRestore (vi&quot;
 &amp; &quot;ew: T; rd: Rd.T) RAISES {ZeusClass.Error} =\n  &lt;* LL = VBT.mu *&gt;\n  BEG&quot;
 &amp; &quot;IN\n    TViewZTrace (view, \&quot;restore\&quot;);\n    #(_ALGNAME_)ViewClass.T.r&quot;
 &amp; &quot;estore (view, rd);\n   END TViewRestore;\n\nPROCEDURE TViewConfig (\n  &quot;
 &amp; &quot;  view: T;\n    state: ZeusClass.StateChange;\n    o: ZeusClass.T) =\n &quot;
 &amp; &quot; &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    TViewZTrace (view, \&quot;config\&quot;);\n    #&quot;
 &amp; &quot;(_ALGNAME_)ViewClass.T.config (view, state, o);\n   END TViewConfig;\n\n&quot;
 &amp; &quot;PROCEDURE TViewReactivity (view: T; &lt;*UNUSED*&gt; on: BOOLEAN) =\n  &lt;* LL &quot;
 &amp; &quot;= VBT.mu *&gt;\n  BEGIN\n    TViewZTrace(view, \&quot;reactivity\&quot;);\n    #(_AL&quot;
 &amp; &quot;GNAME_)ViewClass.T.reactivity (view, TRUE);\n  END TViewReactivity;\n\n&quot;
 &amp; &quot;PROCEDURE TViewStartrun (view: T) =\n  &lt;* LL = {} *&gt;\n  BEGIN\n    TVie&quot;
 &amp; &quot;wZTrace (view, \&quot;startrun\&quot;);\n    #(_ALGNAME_)ViewClass.T.startrun (vi&quot;
 &amp; &quot;ew);\n   END TViewStartrun;\n\nPROCEDURE TViewEndrun (view: T) =\n  &lt;* &quot;
 &amp; &quot;LL = {} *&gt;\n  BEGIN\n    TViewZTrace (view, \&quot;endrun\&quot;);\n    #(_ALGNAM&quot;
 &amp; &quot;E_)ViewClass.T.endrun (view);\n  END TViewEndrun;\n\n\n(* event handlin&quot;
 &amp; &quot;g methods: *)\n\n#{_OUTPUT\nPROCEDURE #(_EVENT_) (view: T; #(_ARGSTR_))&quot;
 &amp; &quot; =\n  &lt;* LL = {} *&gt;\n  BEGIN\n    LOCK VBT.mu DO\n    IF FormsVBT.GetBo&quot;
 &amp; &quot;olean(view.fv, \&quot;alg\&quot;) THEN\n       IF NOT FormsVBT.GetBoolean(view.fv&quot;
 &amp; &quot;, \&quot;args\&quot;) THEN\n          TViewTrace (view, \&quot;#(_EVENT_) ...\&quot;)\n    &quot;
 &amp; &quot;   ELSE\n          TViewTrace (view, \&quot;#(_EVENT_) \&quot;\n#{\n          &amp; #&quot;
 &amp; &quot;(_ARGFMT_)(#(_ARGNAME_))\n#|\n          &amp; \&quot; \&quot;\n#}\n          )\n     &quot;
 &amp; &quot;  END\n    END\n    END\n  END #(_EVENT_);\n\n#}\n\n\n#{&quot;;

CONST E9_1 =
   &quot;_UPDATE\nPROCEDURE #(_EVENT_) (view: T; #(_ARGSTR_)) =\n  &lt;* LL = VBT.m&quot;
 &amp; &quot;u *&gt;\n  BEGIN\n    IF FormsVBT.GetBoolean(view.fv, \&quot;alg\&quot;) THEN\n     &quot;
 &amp; &quot;  IF NOT FormsVBT.GetBoolean(view.fv, \&quot;args\&quot;) THEN\n          TViewTr&quot;
 &amp; &quot;ace (view, \&quot;#(_EVENT_) ...\&quot;)\n       ELSE\n          TViewTrace (view&quot;
 &amp; &quot;, \&quot;#(_EVENT_) \&quot;\n#{\n            &amp; #(_ARGFMT_)(#(_ARGNAME_))\n#|\n   &quot;
 &amp; &quot;         &amp; \&quot; \&quot;\n#}\n            )\n       END\n   END\n  END #(_EVENT&quot;
 &amp; &quot;_);\n\n#}\n\n\nPROCEDURE TViewZTrace (view: T; t: TEXT) =\n  BEGIN\n   &quot;
 &amp; &quot; IF view.fv # NIL THEN\n      IF FormsVBT.GetBoolean(view.fv, \&quot;zeus\&quot;)&quot;
 &amp; &quot; THEN\n        TextPort.PutText(view.te.tp, \&quot;**zeus:  \&quot; &amp; t &amp; \&quot;\\n\&quot;&quot;
 &amp; &quot;);\n        TextPort.Normalize(view.te.tp, LAST(INTEGER))\n      END\n &quot;
 &amp; &quot;   END\n  END TViewZTrace;\n\nPROCEDURE TViewTrace (view: T; t: TEXT) =&quot;
 &amp; &quot;\n  BEGIN\n    TextPort.PutText(view.te.tp, \&quot;--event: \&quot; &amp; t &amp; \&quot;\\n\&quot;&quot;
 &amp; &quot;);\n    TextPort.Normalize(view.te.tp, LAST(INTEGER))\n  END TViewTrace&quot;
 &amp; &quot;;\n\n\nPROCEDURE TViewNew (): View.T =\n  BEGIN\n    RETURN NEW(T).init&quot;
 &amp; &quot;()\n  END TViewNew;\n\n\nBEGIN\n  ZeusPanel.RegisterView\n      (TViewN&quot;
 &amp; &quot;ew, \&quot;#(_ALGNAME_) Transcript View\&quot;, \&quot;#(_ALGNAME_)\&quot;);\nEND #(_ALGNAM&quot;
 &amp; &quot;E_)TranscriptView.\n&quot;;

CONST E10 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:54:53 PST 1995 by kalsow  *)\n(*      modified on Tue Jul 13 10:4&quot;
 &amp; &quot;0:26 PDT 1993 by mhb     *)\n\n(***************************************&quot;
 &amp; &quot;******************************\n|*  NOTE: This file is generated automa&quot;
 &amp; &quot;tically from the event\n|*        definition file #(_ALGNAME_).evt.\n|*&quot;
 &amp; &quot;********************************************************************)\n&quot;
 &amp; &quot;\nMODULE #(_ALGNAME_)DataView;\n\nIMPORT ZeusDataView, ZeusPanel;\n\nBE&quot;
 &amp; &quot;GIN\n  ZeusPanel.RegisterView (\n    ZeusDataView.New,\n    \&quot;#(_ALGNAM&quot;
 &amp; &quot;E_) Data View\&quot;,\n    \&quot;#(_ALGNAME_)\&quot;);\nEND #(_ALGNAME_)DataView.\n&quot;;

CONST E11 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:57:10 PST 1995 by kalsow  *)\n(*      modified on Sun Nov 28 23:0&quot;
 &amp; &quot;9:13 PST 1993 by najork  *)\n\n(***************************************&quot;
 &amp; &quot;******************************\n|*  NOTE: This file is generated automa&quot;
 &amp; &quot;tically from the event\n|*        definition file #(_ALGNAME_).evt.\n|*&quot;
 &amp; &quot;********************************************************************)\n&quot;
 &amp; &quot;\n&lt;* PRAGMA LL *&gt;\n\nINTERFACE #(_ALGNAME_)3DViewClass;\n\n$Thread\n$Vi&quot;
 &amp; &quot;ew3D\n#(_IMPORTS_)\n\nTYPE\n  T &lt;: Public;\n  Public = View3D.T OBJECT\n&quot;
 &amp; &quot;      METHODS\n      &lt;*LL = {} *&gt;\n#{_OUTPUT\n        oe#(_EVENT_) (#(_&quot;
 &amp; &quot;ARGSTR_)) RAISES {Thread.Alerted};\n#}\n      &lt;*LL = VBT.mu *&gt;\n#{_UPDA&quot;
 &amp; &quot;TE\n        ue#(_EVENT_) (#(_ARGSTR_)) RAISES {Thread.Alerted};\n#}\n  &quot;
 &amp; &quot;    END;\n\nEND #(_ALGNAME_)3DViewClass.\n&quot;;

CONST E12 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:50:48 PST 1995 by kalsow  *)\n(*      modified on Sun Jun  5 21:5&quot;
 &amp; &quot;9:57 PDT 1994 by mhb     *)\n(*      modified on Wed Feb 17 16:46:47 PS&quot;
 &amp; &quot;T 1993 by johnh   *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\n&lt;* PR&quot;
 &amp; &quot;AGMA LL *&gt;\n\nMODULE #(_ALGNAME_)IE;\n\n$Algorithm\n$AlgorithmClass\n$T&quot;
 &amp; &quot;hread\n$View\n$Zeus\n$ZeusClass\n$#(_ALGNAME_)AlgClass\n$#(_ALGNAME_)Vi&quot;
 &amp; &quot;ewClass\n#(_IMPORTS_)\n\n&lt;* FATAL Zeus.Error, Zeus.Locked *&gt;\n(* If you&quot;
 &amp; &quot; get either of these errors, contact a Zeus implementor. *)\n\nTYPE\n#{&quot;
 &amp; &quot;\n  #(_EVENT_)Args = BRANDED REF RECORD\n#{\n    #(_ARGNAME_): #(_ARGTY&quot;
 &amp; &quot;PE_);\n#}\n  END;\n\n#}\n\n(*  Zeus calls the following to invoke vbt v&quot;
 &amp; &quot;\'s event handler: *)\n\n&lt;*NOWARN*&gt; PROCEDURE OEDispatcher(v: ZeusClass&quot;
 &amp; &quot;.T; evt: REFANY) RAISES {Thread.Alerted} =\n  &lt;* LL &lt;= VBT.mu *&gt;\n  (* &quot;
 &amp; &quot;LL = {} if event style is output, LL = VBT.mu if event style is update.&quot;
 &amp; &quot; *)\n  BEGIN\n    TYPECASE v OF\n    | #(_ALGNAME_)ViewClass.T (view) =&quot;
 &amp; &quot;&gt; &lt;*NOWARN*&gt;\n      TYPECASE evt OF\n#{_OUTPUT\n      | #(_EVENT_)Args(&quot;
 &amp; &quot;var#(_EVENT_)Args) =&gt; &lt;*NOWARN*&gt;\n          view.oe#(_EVENT_) (\n#{\n  &quot;
 &amp; &quot;            var#(_EVENT_)Args.#(_ARGNAME_)\n#|\n                ,\n#}\n&quot;
 &amp; &quot;              )\n#}\n#{_UPDATE\n      | #(_EVENT_)Args(var#(_EVENT_)Arg&quot;
 &amp; &quot;s) =&gt; &lt;*NOWARN*&gt;\n          view.ue#(_EVENT_) (\n#{\n              var#&quot;
 &amp; &quot;(_EVENT_)Args.#(_ARGNAME_)\n#|\n                ,\n#}\n              )\n&quot;
 &amp; &quot;#}\n      ELSE &lt;* ASSERT FALSE *&gt;\n      END;\n    ELSE (* this view is&quot;
 &amp; &quot;n\'t a #(_ALGNAME_)ViewClass, so just ignore *)\n    END\n  END OEDispa&quot;
 &amp; &quot;tcher;\n\n&lt;*NOWARN*&gt; PROCEDURE FEDispatcher(v: ZeusClass.T; evt: REFANY&quot;
 &amp; &quot;) =\n  &lt;* LL = VBT&quot;;

CONST E12_0 =
   &quot;.mu *&gt;\n  BEGIN\n    TYPECASE v OF\n    | #(_ALGNAME_)AlgClass.T (alg) &quot;
 &amp; &quot;=&gt; &lt;*NOWARN*&gt;\n      TYPECASE evt OF\n#{_FEEDBACK\n      | #(_EVENT_)Ar&quot;
 &amp; &quot;gs(var#(_EVENT_)Args) =&gt; &lt;*NOWARN*&gt;\n          alg.fe#(_EVENT_) (\n#{\n&quot;
 &amp; &quot;              var#(_EVENT_)Args.#(_ARGNAME_)\n#|\n                ,\n#}&quot;
 &amp; &quot;\n              )\n#}\n      ELSE &lt;* ASSERT FALSE *&gt;\n      END;\n    E&quot;
 &amp; &quot;LSE (* this alg isn\'t a #(_ALGNAME_)AlgClass, so just ignore *)\n    E&quot;
 &amp; &quot;ND\n  END FEDispatcher;\n\n\n#{_OUTPUT\nPROCEDURE #(_EVENT_) (\n      i&quot;
 &amp; &quot;nitiator: Algorithm.T;\n      #(_ARGSTR_)\n    ) RAISES {Thread.Alerted&quot;
 &amp; &quot;} =\n  &lt;* LL = {} *&gt;\n  VAR zumeArgRec := NEW(#(_EVENT_)Args\n#{\n     &quot;
 &amp; &quot;          , #(_ARGNAME_) := #(_ARGNAME_)\n#}\n      );\n      alg := NA&quot;
 &amp; &quot;RROW(initiator, #(_ALGNAME_)AlgClass.T);\n  BEGIN\n    LOCK alg.evtMu D&quot;
 &amp; &quot;O\n      INC(alg.eventDataRec.ctOf#(_EVENT_));\n      alg.stopAtEvent :&quot;
 &amp; &quot;= alg.eventDataRec.stopAt#(_EVENT_);\n      alg.waitAtEvent := alg.even&quot;
 &amp; &quot;tDataRec.waitAt#(_EVENT_);\n      Zeus.Dispatch(initiator, Zeus.EventSt&quot;
 &amp; &quot;yle.Output, #(_EVENTPRIO_),\n                    \&quot;#(_EVENT_)\&quot;, OEDisp&quot;
 &amp; &quot;atcher, zumeArgRec);\n    END;\n  END #(_EVENT_);\n\n#}\n#{_UPDATE\nPRO&quot;
 &amp; &quot;CEDURE #(_EVENT_) (\n      initiator: Algorithm.T;\n      #(_ARGSTR_)\n&quot;
 &amp; &quot;    ) RAISES {Thread.Alerted} =\n  &lt;* LL = VBT.mu *&gt;\n  VAR zumeArgRec &quot;
 &amp; &quot;:= NEW(#(_EVENT_)Args\n#{\n               , #(_ARGNAME_) := #(_ARGNAME_&quot;
 &amp; &quot;)\n#}\n      );\n  BEGIN\n    Zeus.Dispatch(initiator, Zeus.EventStyle.&quot;
 &amp; &quot;Update, #(_EVENTPRIO_),\n                  \&quot;#(_EVENT_)\&quot;, OEDispatcher&quot;
 &amp; &quot;, zumeArgRec);\n  END #(_EVENT_);\n\n#}\n\n#{_FEEDBACK\nPROCEDURE #(_EV&quot;
 &amp; &quot;ENT_) (\n      initiator: View.T;\n      #(_ARGSTR_)\n    ) RAISES {Thr&quot;
 &amp; &quot;ead.Alerted} =\n  &lt;* LL = VBT.mu *&gt;\n  VAR zumeArgRec := NEW(#(_EVENT_)&quot;
 &amp; &quot;Args\n#{\n               , #(_ARGNAME_) := #(_ARGNAME_)\n#}\n      );\n&quot;
 &amp; &quot;  BEGIN\n    Zeus.Dispatch(initiator, Zeus.EventStyle.Notify, #(_EVENTP&quot;
 &amp; &quot;RIO_),\n                  \&quot;#(_EVENT_)\&quot;, FEDispatcher, zumeArgRec);\n &quot;
 &amp; &quot; END #(_EVENT_);\n\n#}\n\nBEGIN\nEND #(_ALGNAME_)IE.\n&quot;;

CONST E13 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Fri Sep &quot;
 &amp; &quot; 8 15:48:12 PDT 1995 by najork  *)\n(*      modified on Thu Feb  9 08:5&quot;
 &amp; &quot;4:15 PST 1995 by kalsow  *)\n(* Last modified on Fri Dec  9 15:00:46 PS&quot;
 &amp; &quot;T 1994 by mhb     *)\n(*      modified on Sat Jun  4 16:24:49 1994 by h&quot;
 &amp; &quot;eydon      *)\n(*      modified on Tue Feb 16 16:31:40 PST 1993 by john&quot;
 &amp; &quot;h   *)\n\n(************************************************************&quot;
 &amp; &quot;*********\n|*  NOTE: This file is generated automatically from the even&quot;
 &amp; &quot;t\n|*        definition file #(_ALGNAME_).evt.\n|**********************&quot;
 &amp; &quot;***********************************************)\n\n&lt;* PRAGMA LL *&gt;\n\n&quot;
 &amp; &quot;MODULE #(_ALGNAME_)#(_VIEWNAME_)ObliqView;\n\n$Filter\n$Fmt\n$Obliq\n$O&quot;
 &amp; &quot;bliqParser\n$ObLibAnim\n$ObLibM3\n$ObLibUI\n$ObValue\n$Rd\n$Rsrc\n$SynW&quot;
 &amp; &quot;r\n$TextRd\n$TextWr\n$Thread\n$VBT\n$View\n$ZeusPanel\n$ZFmt\n$#(_ALGNA&quot;
 &amp; &quot;ME_)ViewClass\n#(_IMPORTS_)\n\nCONST\n  ViewName =  \&quot;#(_VIEWNAME_).obl&quot;
 &amp; &quot;\&quot;;\n\nTYPE\n  T = #(_ALGNAME_)ViewClass.T BRANDED OBJECT\n        obje&quot;
 &amp; &quot;ct  : Obliq.Val;\n        env     : Obliq.Env;\n        wr      : TextW&quot;
 &amp; &quot;r.T;\n        swr     : SynWr.T;\n        parser  : ObliqParser.T;\n   &quot;
 &amp; &quot;   OVERRIDES\n        &lt;* LL.sup &lt; VBT.mu *&gt;\n        startrun := Startr&quot;
 &amp; &quot;un;\n        &lt;* LL.sup &lt; VBT.mu *&gt;\n#{_OUTPUT\n        oe#(_EVENT_) := &quot;
 &amp; &quot;#(_EVENT_);\n#}\n        &lt;* LL.sup = VBT.mu *&gt;\n#{_UPDATE\n        ue#(&quot;
 &amp; &quot;_EVENT_) := #(_EVENT_);\n#}\n      END;\n\n(* OUTPUT and UPDATE event h&quot;
 &amp; &quot;andling methods: *)\n\n#{_OUTPUT\nPROCEDURE #(_EVENT_) (view: T; #(_ARG&quot;
 &amp; &quot;STR_)) =\n  &lt;* LL.sup &lt; VBT.mu *&gt;\n  BEGIN\n    IF FieldDefined(view.ob&quot;
 &amp; &quot;ject, \&quot;#(_EVENT_)\&quot;) THEN\n      Invoke (view, \&quot;#(_EVENT_)\&quot;, \&quot;\&quot;\n#&quot;
 &amp; &quot;{\n      &amp; #(_ARGFMT_)(#(_ARGNAME_))\n#|\n      &amp; \&quot;,\&quot;\n#}\n      )\n &quot;
 &amp; &quot;   END\n  END #(_EVENT_);\n#}\n\n#{_UPDATE\nPROCEDURE #(_EVENT_) (view:&quot;
 &amp; &quot; T; #(_ARGSTR_)) =\n  &lt;* LL = VBT.mu *&gt;\n  BEGIN\n    IF FieldDefined(v&quot;
 &amp; &quot;iew.object, \&quot;#(_EVENT_)\&quot;) THEN\n     &quot;;

CONST E13_0 =
   &quot; Invoke (view, \&quot;#(_EVENT_)\&quot;, \&quot;\&quot;\n#{\n      &amp; #(_ARGFMT_)(#(_ARGNAME&quot;
 &amp; &quot;_))\n#|\n      &amp; \&quot;,\&quot;\n#}\n      )\n    END\n  END #(_EVENT_);\n#}\n\n&quot;
 &amp; &quot;PROCEDURE RegisterView () =\n  BEGIN\n    ZeusPanel.RegisterView(New, \&quot;&quot;
 &amp; &quot;#(_VIEWNAME_).obl\&quot;, \&quot;#(_ALGNAME_)\&quot;)\n  END RegisterView;\n\nPROCEDUR&quot;
 &amp; &quot;E New (): View.T =\n  BEGIN\n    RETURN NEW(T).init(NIL)\n  END New;\n\n&quot;
 &amp; &quot;CONST\n  ObliqStackSizeMultiplier = 8;\n\nTYPE\n  Closure = Thread.Size&quot;
 &amp; &quot;dClosure OBJECT\n              view: T;\n            OVERRIDES\n       &quot;
 &amp; &quot;       apply := ForkedStartrun;\n            END;\n\nPROCEDURE Startrun&quot;
 &amp; &quot; (view: T) =\n  &lt;* LL.sup &lt; VBT.mu *&gt;\n  BEGIN\n    EVAL\n      Thread.&quot;
 &amp; &quot;Join(\n        Thread.Fork(\n          NEW(Closure, view := view,\n    &quot;
 &amp; &quot;          stackSize := ObliqStackSizeMultiplier * Thread.GetDefaultStac&quot;
 &amp; &quot;kSize())));\n  END Startrun;\n\nPROCEDURE ForkedStartrun (cl: Closure):&quot;
 &amp; &quot; REFANY =\n  VAR rd: Rd.T; view := cl.view;\n  BEGIN\n    IF view.parse&quot;
 &amp; &quot;r = NIL THEN\n      view.wr := TextWr.New();\n      view.swr := SynWr.N&quot;
 &amp; &quot;ew(view.wr);\n      view.parser := ObliqParser.New(view.swr);\n    END;&quot;
 &amp; &quot;\n    view.object := NIL;\n    TRY\n      rd := Rsrc.Open(ViewName, Zeu&quot;
 &amp; &quot;sPanel.GetPath());\n      view.env := ParseRd(view.parser, ViewName, rd&quot;
 &amp; &quot;);\n      WITH obj = Obliq.Lookup(\&quot;view\&quot;, view.env) DO\n        IF NO&quot;
 &amp; &quot;T ISTYPE(obj, ObValue.ValObj) THEN\n          ZeusPanel.ReportError(\n &quot;
 &amp; &quot;           \&quot;not an Obliq object in \'\&quot; &amp; ViewName &amp; \&quot;\'\&quot;)\n        &quot;
 &amp; &quot;ELSIF FieldDefined (obj, \&quot;graphvbt\&quot;) THEN\n          WITH graphvbt =\n&quot;
 &amp; &quot;            NARROW(Obliq.ObjectSelect(obj, \&quot;graphvbt\&quot;),\n            &quot;
 &amp; &quot;       ObLibAnim.ValGraph).vbt DO\n            LOCK VBT.mu DO\n        &quot;
 &amp; &quot;      EVAL Filter.Replace(view, graphvbt)\n            END\n          E&quot;
 &amp; &quot;ND;\n          view.object := obj;\n        ELSIF FieldDefined (obj, \&quot;&quot;
 &amp; &quot;rectsvbt\&quot;) THEN\n          WITH rectsvbt =\n            NARROW(Obliq.O&quot;
 &amp; &quot;bjectSelect(obj, \&quot;rectsvbt\&quot;),\n                   ObLibAnim.ValRects)&quot;
 &amp; &quot;.vbt DO\n            LOCK VBT.mu DO\n              EVAL Filter.Replace(&quot;
 &amp; &quot;view, rectsvbt)\n            END\n          END;\n          view.object&quot;
 &amp; &quot; := obj;\n        ELSIF FieldDefined (o&quot;;

CONST E13_1 =
   &quot;bj, \&quot;formsvbt\&quot;) THEN\n          WITH formsvbt =\n            NARROW(O&quot;
 &amp; &quot;bliq.ObjectSelect(obj, \&quot;formsvbt\&quot;),\n                   ObLibUI.ValFo&quot;
 &amp; &quot;rm).vbt DO\n            LOCK VBT.mu DO\n              EVAL Filter.Repla&quot;
 &amp; &quot;ce(view, formsvbt)\n            END\n          END;\n          view.obj&quot;
 &amp; &quot;ect := obj;\n        ELSE\n          ZeusPanel.ReportError(\n          &quot;
 &amp; &quot;  \&quot;cannot find \'graphvbt\', \'rectsvbt\', or \'formsvbt\' in \'\&quot; &amp; V&quot;
 &amp; &quot;iewName &amp; \&quot;\'\&quot;)\n        END\n      END\n    EXCEPT\n    | Rsrc.NotFo&quot;
 &amp; &quot;und =&gt;\n        ZeusPanel.ReportError(\&quot;cannot find \'\&quot; &amp; ViewName &amp; \&quot;&quot;
 &amp; &quot;\'\&quot;)\n    | ObValue.Error (packet) =&gt; OblError(view, packet)\n    | Ob&quot;
 &amp; &quot;Value.Exception (packet) =&gt; OblException(view, packet)\n    END;\n    R&quot;
 &amp; &quot;ETURN NIL;\n  END ForkedStartrun;\n\nPROCEDURE ParseRd (p: ObliqParser.&quot;
 &amp; &quot;T; name: TEXT; rd: Rd.T):\n  Obliq.Env RAISES {ObValue.Error, ObValue.E&quot;
 &amp; &quot;xception} =\n  VAR env := Obliq.EmptyEnv();\n  BEGIN\n    ObliqParser.R&quot;
 &amp; &quot;eadFrom(p, name, rd, TRUE);\n    TRY\n      LOOP\n        EVAL ObliqPar&quot;
 &amp; &quot;ser.EvalPhrase(p, ObliqParser.ParsePhrase(p), env)\n      END\n    EXCE&quot;
 &amp; &quot;PT\n      ObliqParser.Eof =&gt; (* clean exit of loop *)\n    END;\n    RE&quot;
 &amp; &quot;TURN env\n  END ParseRd;\n\nPROCEDURE Invoke (view: T; event, args: TEX&quot;
 &amp; &quot;T) =\n  VAR\n    exp    := \&quot;view.\&quot; &amp; event &amp; \&quot;(\&quot; &amp; args &amp; \&quot;);\&quot;;\n&quot;
 &amp; &quot;    name   := \&quot;Zeus Event &lt;\&quot; &amp; event &amp; \&quot;&gt;\&quot;;\n  BEGIN\n    ObliqPars&quot;
 &amp; &quot;er.ReadFrom (view.parser, name, TextRd.New(exp), FALSE);\n    TRY\n    &quot;
 &amp; &quot;  EVAL Obliq.EvalTerm(ObliqParser.ParseTerm(view.parser), view.env)\n  &quot;
 &amp; &quot;  EXCEPT\n    | ObliqParser.Eof =&gt; &lt;* ASSERT FALSE *&gt;\n    | ObValue.Er&quot;
 &amp; &quot;ror (packet) =&gt; OblError(view, packet)\n    | ObValue.Exception (packet&quot;
 &amp; &quot;) =&gt; OblException(view, packet)\n    END\n  END Invoke;\n\nPROCEDURE Fi&quot;
 &amp; &quot;eldDefined (object: Obliq.Val; event: TEXT): BOOLEAN =\n  BEGIN\n    TR&quot;
 &amp; &quot;Y\n      RETURN object # NIL AND Obliq.ObjectHas(object, event)\n    EX&quot;
 &amp; &quot;CEPT\n    | ObValue.Error =&gt;\n    | ObValue.Exception =&gt;\n    END;\n   &quot;
 &amp; &quot; RETURN FALSE\n  END FieldDefined;\n\nPROCEDURE OblError (view: T; pack&quot;
 &amp; &quot;et: ObValue.ErrorPacket) =\n  BEGIN\n    Obliq.ReportError(view.swr, pa&quot;
 &amp; &quot;cket);\n    ZeusPanel.ReportError(\n    &quot;;

CONST E13_2 =
   &quot;  \&quot;Obliq error: \&quot; &amp; TextWr.ToText(view.wr))\n  END OblError;\n\nPROCE&quot;
 &amp; &quot;DURE OblException (view: T; packet: ObValue.ExceptionPacket) =\n  BEGIN&quot;
 &amp; &quot;\n    Obliq.ReportException(view.swr, packet);\n    ZeusPanel.ReportErr&quot;
 &amp; &quot;or(\n      \&quot;Obliq exception: \&quot; &amp; TextWr.ToText(view.wr))\n  END OblEx&quot;
 &amp; &quot;ception;\n\nBEGIN\n  SynWr.Setup();\n  ObliqParser.PackageSetup();\n  O&quot;
 &amp; &quot;bLibM3.PackageSetup();\n  ObLibUI.PackageSetup();\n  ObLibAnim.PackageS&quot;
 &amp; &quot;etup();\n  RegisterView ();\nEND #(_ALGNAME_)#(_VIEWNAME_)ObliqView.\n&quot;;

CONST E14 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:47:37 PST 1995 by kalsow  *)\n(* Last modified on Wed Feb 17 16:4&quot;
 &amp; &quot;4:58 PST 1993 by johnh   *)\n(*      modified on Tue Jun  9 00:35:07 19&quot;
 &amp; &quot;92 by mhb         *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\nINTER&quot;
 &amp; &quot;FACE #(_ALGNAME_)AlgClass;\n\n$Algorithm\n$AlgorithmClass\n#(_IMPORTS_)&quot;
 &amp; &quot;\n\n&lt;* PRAGMA LL *&gt;\n\nTYPE\n  EventDataRec = RECORD\n#{_OUTPUT\n    st&quot;
 &amp; &quot;opAt#(_EVENT_): BOOLEAN := TRUE;\n    waitAt#(_EVENT_): CARDINAL := 1;\n&quot;
 &amp; &quot;    ctOf#(_EVENT_): CARDINAL := 0;\n#}\n  END;\n\n  T &lt;: Public;\n  Pub&quot;
 &amp; &quot;lic = Algorithm.T OBJECT\n      eventDataRec: EventDataRec;\n#(_ALGDATA&quot;
 &amp; &quot;_)\n      METHODS\n#{_FEEDBACK\n        fe#(_EVENT_) (#(_ARGSTR_));    &quot;
 &amp; &quot;&lt;* LL = VBT.mu *&gt;\n#}\n      END;\n\nREVEAL\n  Algorithm.T &lt;: Algorithm&quot;
 &amp; &quot;Class.T;\n\nEND #(_ALGNAME_)AlgClass.\n&quot;;

CONST E15 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:56:54 PST 1995 by kalsow  *)\n(*      modified on Sat Jun  4 16:2&quot;
 &amp; &quot;3:08 1994 by heydon      *)\n(*      modified on Wed Feb 17 17:04:32 PS&quot;
 &amp; &quot;T 1993 by johnh   *)\n(*      modified on Tue Jun  9 00:35:35 1992 by m&quot;
 &amp; &quot;hb         *)\n\n(*****************************************************&quot;
 &amp; &quot;****************\n|*  NOTE: This file is generated automatically from t&quot;
 &amp; &quot;he event\n|*        definition file #(_ALGNAME_).evt.\n|***************&quot;
 &amp; &quot;******************************************************)\n\n&lt;* PRAGMA LL&quot;
 &amp; &quot; *&gt;\n\nMODULE #(_ALGNAME_)ViewClass;\n\n$ViewClass\n$ZeusClass\n$#(_ALG&quot;
 &amp; &quot;NAME_)AlgClass\n#(_IMPORTS_)\n\nREVEAL\n  T = Public BRANDED OBJECT\n  &quot;
 &amp; &quot;    OVERRIDES\n        &lt;* LL.sup = VBT.mu *&gt;\n        isCompat := IsCom&quot;
 &amp; &quot;pat;\n        &lt;* LL.sup &lt; VBT.mu *&gt;\n#{_OUTPUT\n        oe#(_EVENT_) :=&quot;
 &amp; &quot; #(_EVENT_);\n#}\n        &lt;* LL.sup = VBT.mu *&gt;\n#{_UPDATE\n        ue#&quot;
 &amp; &quot;(_EVENT_) := #(_EVENT_);\n#}\n      END;\n\nPROCEDURE IsCompat(&lt;*UNUSED&quot;
 &amp; &quot;*&gt; v: T; alg: ZeusClass.T): BOOLEAN =\n  &lt;* LL.sup = VBT.mu *&gt;\n  BEGIN&quot;
 &amp; &quot;\n    RETURN ISTYPE(alg, #(_ALGNAME_)AlgClass.T)\n  END IsCompat;\n\n#{&quot;
 &amp; &quot;_OUTPUT\nPROCEDURE #(_EVENT_) (view: T\n#{\n    ; &lt;*UNUSED*&gt; #(_ARGMODE&quot;
 &amp; &quot;_)#(_ARGNAME_): #(_ARGTYPE_)\n#}\n) =\n  &lt;* LL.sup &lt; VBT.mu *&gt;\n  BEGIN&quot;
 &amp; &quot;\n    view.evtHandled := FALSE;\n  END #(_EVENT_);\n#}\n\n#{_UPDATE\nPR&quot;
 &amp; &quot;OCEDURE #(_EVENT_) (view: T\n#{\n    ; &lt;*UNUSED*&gt; #(_ARGMODE_)#(_ARGNAM&quot;
 &amp; &quot;E_): #(_ARGTYPE_)\n#}\n) =\n  &lt;* LL.sup = VBT.mu *&gt;\n  BEGIN\n    view.&quot;
 &amp; &quot;evtHandled := FALSE;\n  END #(_EVENT_);\n#}\n\nBEGIN\nEND #(_ALGNAME_)V&quot;
 &amp; &quot;iewClass.\n&quot;;

CONST E16 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Wed Feb &quot;
 &amp; &quot; 8 15:29:45 PST 1995 by kalsow  *)\n(*      modified on Sat Jul 17 10:5&quot;
 &amp; &quot;5:43 PDT 1993 by mhb     *)\n(*      modified on Thu Jul 15 13:53:13 PD&quot;
 &amp; &quot;T 1993 by steveg  *)\n(*      modified on Wed Feb 17 16:47:18 PST 1993 &quot;
 &amp; &quot;by johnh   *)\n\n(*****************************************************&quot;
 &amp; &quot;****************\n|*  NOTE: This file is generated automatically from t&quot;
 &amp; &quot;he event\n|*        definition file #(_ALGNAME_).evt.\n|***************&quot;
 &amp; &quot;******************************************************)\n\nINTERFACE #(&quot;
 &amp; &quot;_ALGNAME_)#(_VIEWNAME_)GEFView;\nEND #(_ALGNAME_)#(_VIEWNAME_)GEFView.\n&quot;
 &amp; &quot;\n&quot;;

CONST E17 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Wed Feb &quot;
 &amp; &quot; 8 15:33:55 PST 1995 by kalsow  *)\n(*      modified on Wed Jun  1 23:5&quot;
 &amp; &quot;8:34 PDT 1994 by mhb     *)\n\n(***************************************&quot;
 &amp; &quot;******************************\n|*  NOTE: This file is generated automa&quot;
 &amp; &quot;tically from the event\n|*        definition file #(_ALGNAME_).evt.\n|*&quot;
 &amp; &quot;********************************************************************)\n&quot;
 &amp; &quot;\nINTERFACE #(_ALGNAME_)#(_VIEWNAME_)JunoView;\nEND #(_ALGNAME_)#(_VIEW&quot;
 &amp; &quot;NAME_)JunoView.\n\n&quot;;

CONST E18 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Wed Feb &quot;
 &amp; &quot; 8 15:42:11 PST 1995 by kalsow  *)\n(*      modified on Wed Feb 17 16:4&quot;
 &amp; &quot;7:18 PST 1993 by johnh   *)\n(*      modified on Tue Jun  9 00:43:17 19&quot;
 &amp; &quot;92 by mhb         *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\n&lt;* PR&quot;
 &amp; &quot;AGMA LL *&gt;\n\nINTERFACE #(_ALGNAME_)TranscriptView;\n\nIMPORT #(_ALGNAM&quot;
 &amp; &quot;E_)ViewClass;\n\nTYPE\n  T &lt;: Public;\n  Public = #(_ALGNAME_)ViewClass&quot;
 &amp; &quot;.T OBJECT\n      METHODS\n        &lt;* LL = VBT.mu *&gt;\n        init(): T;&quot;
 &amp; &quot;\n      END;\n\nEND #(_ALGNAME_)TranscriptView.\n&quot;;

CONST E19 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Mon Jul &quot;
 &amp; &quot;10 15:31:57 PDT 1995 by najork  *)\n(*      modified on Thu Feb  9 08:5&quot;
 &amp; &quot;3:09 PST 1995 by kalsow  *)\n(*      modified on Mon Jun  6 03:20:38 PD&quot;
 &amp; &quot;T 1994 by mhb     *)\n(*      modified on Sat Jun  4 16:22:04 1994 by h&quot;
 &amp; &quot;eydon      *)\n(*      modified on Tue Feb 16 16:31:40 PST 1993 by john&quot;
 &amp; &quot;h   *)\n\n(************************************************************&quot;
 &amp; &quot;*********\n|*  NOTE: This file is generated automatically from the even&quot;
 &amp; &quot;t\n|*        definition file #(_ALGNAME_).evt.\n|**********************&quot;
 &amp; &quot;***********************************************)\n\n&lt;* PRAGMA LL *&gt;\n\n&quot;
 &amp; &quot;MODULE #(_ALGNAME_)#(_VIEWNAME_)Obliq3DView;\n\n$Fmt\n$ZFmt\n$Obliq\n$O&quot;
 &amp; &quot;bliqParser\n$ObLib3D\n$ObLibAnim\n$ObLibM3\n$ObLibUI\n$ObValue\n$ObView&quot;
 &amp; &quot;3D\n$ObZeus3D\n$Rd\n$Rsrc\n$SynWr\n$TextRd\n$TextWr\n$Thread\n$View\n$V&quot;
 &amp; &quot;iew3DProxy\n$ZeusPanel\n$SynLocation\n$SynParse\n$MetaParser\n$ObliqPri&quot;
 &amp; &quot;nter\n$ObLibOnline\n$#(_ALGNAME_)3DViewClass\n#(_IMPORTS_)\n\nCONST\n  &quot;
 &amp; &quot;ViewName =  \&quot;#(_VIEWNAME_).obl\&quot;;\n\nTYPE\n  T = #(_ALGNAME_)3DViewCla&quot;
 &amp; &quot;ss.T BRANDED OBJECT\n        env     : Obliq.Env;\n        wr      : Te&quot;
 &amp; &quot;xtWr.T;\n        swr     : SynWr.T;\n        parser  : ObliqParser.T;\n&quot;
 &amp; &quot;      OVERRIDES\n        &lt;* LL.sup &lt; VBT.mu *&gt;\n        startrun := Sta&quot;
 &amp; &quot;rtrun;\n        &lt;* LL.sup &lt; VBT.mu *&gt;\n#{_OUTPUT\n        oe#(_EVENT_) &quot;
 &amp; &quot;:= #(_EVENT_);\n#}\n        &lt;* LL.sup = VBT.mu *&gt;\n#{_UPDATE\n        u&quot;
 &amp; &quot;e#(_EVENT_) := #(_EVENT_);\n#}\n      END;\n\n(* OUTPUT and UPDATE even&quot;
 &amp; &quot;t handling methods: *)\n\n#{_OUTPUT\nPROCEDURE #(_EVENT_) (view: T; #(_&quot;
 &amp; &quot;ARGSTR_)) =\n  &lt;* LL.sup &lt; VBT.mu *&gt;\n  BEGIN\n      Invoke (view, \&quot;#(&quot;
 &amp; &quot;_EVENT_)\&quot;, \&quot;\&quot;\n#{\n      &amp; #(_ARGFMT_)(#(_ARGNAME_))\n#|\n      &amp; \&quot;&quot;
 &amp; &quot;,\&quot;\n#}\n      )\n  END #(_EVENT_);\n\n#}\n\n#{_UPDATE\nPROCEDURE #(_EV&quot;
 &amp; &quot;ENT_) (view: T; #(_ARGSTR_)) =\n  &lt;* LL.sup = VBT.mu *&gt;\n  BEGIN\n     &quot;
 &amp; &quot; Invoke (view, \&quot;#(_EVENT_)\&quot;, \&quot;\&quot;\n#{\n    &quot;;

CONST E19_0 =
   &quot;  &amp; #(_ARGFMT_)(#(_ARGNAME_))\n#|\n      &amp; \&quot;,\&quot;\n#}\n      )\n  END #(&quot;
 &amp; &quot;_EVENT_);\n#}\n\nTYPE\n  Closure = Thread.SizedClosure BRANDED OBJECT\n&quot;
 &amp; &quot;    view : T;\n  OVERRIDES\n    apply := Apply;\n  END;\n\n\nPROCEDURE &quot;
 &amp; &quot;Apply (self : Closure) : REFANY =\n\n  PROCEDURE ParseRd (p: ObliqParse&quot;
 &amp; &quot;r.T; name: TEXT; rd: Rd.T) : Obliq.Env\n      RAISES {ObValue.Error, Ob&quot;
 &amp; &quot;Value.Exception} =\n    VAR\n      env := Obliq.EmptyEnv ();\n    BEGIN&quot;
 &amp; &quot;\n      ObliqParser.ReadFrom (p, name, rd, TRUE);\n      TRY\n        L&quot;
 &amp; &quot;OOP\n          EVAL ObliqParser.EvalPhrase (p, ObliqParser.ParsePhrase &quot;
 &amp; &quot;(p), env)\n        END\n      EXCEPT\n        ObliqParser.Eof =&gt; (* cle&quot;
 &amp; &quot;an exit of loop *)\n      END;\n      RETURN env\n    END ParseRd;\n\n &quot;
 &amp; &quot; BEGIN\n    WITH view = self.view DO\n      (*** Parse the .obl file **&quot;
 &amp; &quot;*)\n      TRY\n        WITH rd = Rsrc.Open (ViewName, ZeusPanel.GetPath&quot;
 &amp; &quot; ()) DO\n          view.env := ParseRd (view.parser, ViewName, rd);\n  &quot;
 &amp; &quot;      END;\n        WITH obj = Obliq.Lookup (\&quot;view\&quot;, view.env) DO\n  &quot;
 &amp; &quot;        ObView3D.PairUp (view, obj);\n        END;\n      EXCEPT\n     &quot;
 &amp; &quot; | Rsrc.NotFound =&gt;\n        ZeusPanel.ReportError(\&quot;cannot find \'\&quot; &amp;&quot;
 &amp; &quot; ViewName &amp; \&quot;\'\&quot;);\n      | ObValue.Error (packet) =&gt;\n        OblErr&quot;
 &amp; &quot;or(view, packet);\n      | ObValue.Exception (packet) =&gt;\n        OblEx&quot;
 &amp; &quot;ception(view, packet);\n      END;\n\n      RETURN NIL;\n    END;\n  EN&quot;
 &amp; &quot;D Apply;\n\n\nPROCEDURE New (): View.T =\n  VAR\n    view : T;\n  BEGIN&quot;
 &amp; &quot;\n    (*** Create a View3D.T ***)\n    view := NEW (T).init (\&quot;Obliq3D &quot;
 &amp; &quot;View\&quot;);\n\n    (*** Create a new Obliq parser ***)\n    view.wr     :=&quot;
 &amp; &quot; TextWr.New ();\n    view.swr    := SynWr.New (view.wr);\n    view.pars&quot;
 &amp; &quot;er := ObliqParser.New (view.swr);\n\n    (*** Load the .obl file ***)\n&quot;
 &amp; &quot;    WITH thread = Thread.Fork (NEW (Closure, view := view)) DO\n      E&quot;
 &amp; &quot;VAL Thread.Join (thread);\n    END;\n\n    (*** invoke the New method o&quot;
 &amp; &quot;f the Obliq object \&quot;view\&quot; ***)\n    Invoke (view, \&quot;New\&quot;, \&quot;\&quot;);\n\n&quot;
 &amp; &quot;    (*** Return the new view ***)\n    RETURN view;\n  END New;\n\n\nPR&quot;
 &amp; &quot;OCEDURE Startrun (view: T) =\n  &lt;* LL.sup &lt; VBT.mu *&gt;\n  BEGIN\n    (**&quot;
 &amp; &quot;* Reload the .obl file ***)\n    WITH thread =&quot;;

CONST E19_1 =
   &quot; Thread.Fork (\n                      NEW (Closure,\n                  &quot;
 &amp; &quot;         stackSize := 2 * Thread.GetDefaultStackSize (),\n             &quot;
 &amp; &quot;              view := view)) DO\n      EVAL Thread.Join (thread);\n    &quot;
 &amp; &quot;END;\n  END Startrun;\n\n\nPROCEDURE Invoke (view: T; event, args: TEXT&quot;
 &amp; &quot;) =\n  VAR\n    exp    := \&quot;view.\&quot; &amp; event &amp; \&quot;(\&quot; &amp; args &amp; \&quot;);\&quot;;\n &quot;
 &amp; &quot;   name   := \&quot;Zeus Event &lt;\&quot; &amp; event &amp; \&quot;&gt;\&quot;;\n    proxy  := ObView3D.&quot;
 &amp; &quot;M3ToObliq (view);\n  BEGIN\n    TRY\n      IF proxy # NIL AND Obliq.Obj&quot;
 &amp; &quot;ectHas (proxy, event) THEN\n        ObliqParser.ReadFrom (view.parser, &quot;
 &amp; &quot;name, TextRd.New(exp), FALSE);\n        EVAL Obliq.EvalTerm (ObliqParse&quot;
 &amp; &quot;r.ParseTerm (view.parser), view.env);\n      END;\n    EXCEPT\n    | Ob&quot;
 &amp; &quot;liqParser.Eof =&gt; &lt;* ASSERT FALSE *&gt;\n    | ObValue.Error (packet) =&gt; Ob&quot;
 &amp; &quot;lError(view, packet)\n    | ObValue.Exception (packet) =&gt; OblException(&quot;
 &amp; &quot;view, packet)\n    END;\n  END Invoke;\n\n\nPROCEDURE OblError (view: T&quot;
 &amp; &quot;; packet: ObValue.ErrorPacket) =\n  BEGIN\n    Obliq.ReportError(view.s&quot;
 &amp; &quot;wr, packet);\n    ZeusPanel.ReportError(\&quot;Obliq error: \&quot; &amp; TextWr.ToTe&quot;
 &amp; &quot;xt(view.wr))\n  END OblError;\n\n\nPROCEDURE OblException (view: T; pac&quot;
 &amp; &quot;ket: ObValue.ExceptionPacket) =\n  BEGIN\n    Obliq.ReportException(vie&quot;
 &amp; &quot;w.swr, packet);\n    ZeusPanel.ReportError(\n      \&quot;Obliq exception: \&quot;&quot;
 &amp; &quot; &amp; TextWr.ToText(view.wr))\n  END OblException;\n\n\nBEGIN\n  SynWr.Set&quot;
 &amp; &quot;up();\n  SynLocation.PackageSetup();\n  SynParse.PackageSetup();\n  Met&quot;
 &amp; &quot;aParser.PackageSetup(); &lt;* NOWARN *&gt;\n  Obliq.PackageSetup();\n  ObliqP&quot;
 &amp; &quot;arser.PackageSetup();\n  ObliqPrinter.PackageSetup();\n  ObLibOnline.Se&quot;
 &amp; &quot;tup();             (* really needed! *)\n\n  ObLibM3.PackageSetup();\n &quot;
 &amp; &quot; ObLibUI.PackageSetup();\n  ObLibAnim.PackageSetup();\n  ObLib3D.Packag&quot;
 &amp; &quot;eSetup();\n  ObZeus3D.PackageSetup();\n\n  ZeusPanel.RegisterView (New,&quot;
 &amp; &quot;\n                          \&quot;#(_VIEWNAME_).obl\&quot;,\n                   &quot;
 &amp; &quot;       \&quot;#(_ALGNAME_)\&quot;,\n                          sample := NEW(T));\n&quot;
 &amp; &quot;END #(_ALGNAME_)#(_VIEWNAME_)Obliq3DView.\n&quot;;

CONST E20 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Wed Feb &quot;
 &amp; &quot; 8 15:27:36 PST 1995 by kalsow  *)\n(*       modified on Mon Jul 12 22:&quot;
 &amp; &quot;36:53 PDT 1993 by mhb    *)\n\nINTERFACE #(_ALGNAME_)DataView;\n\nEND #&quot;
 &amp; &quot;(_ALGNAME_)DataView.\n&quot;;

CONST E21 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 09:00:07 PST 1995 by kalsow  *)\n(*      modified on Mon Nov 29 08:0&quot;
 &amp; &quot;7:34 PST 1993 by najork  *)\n(*      modified on Wed Feb 17 16:46:47 PS&quot;
 &amp; &quot;T 1993 by johnh   *)\n(*      modified on Tue Jun  9 00:41:25 1992 by m&quot;
 &amp; &quot;hb         *)\n\n(*****************************************************&quot;
 &amp; &quot;****************\n|*  NOTE: This file is generated automatically from t&quot;
 &amp; &quot;he event\n|*        definition file #(_ALGNAME_).evt.\n|***************&quot;
 &amp; &quot;******************************************************)\n\n&lt;* PRAGMA LL&quot;
 &amp; &quot; *&gt;\n\nMODULE #(_ALGNAME_)IE;\n\n$Algorithm\n$AlgorithmClass\n$Thread\n&quot;
 &amp; &quot;$View\n$Zeus\n$ZeusClass\n$#(_ALGNAME_)AlgClass\n$#(_ALGNAME_)ViewClass&quot;
 &amp; &quot;\n$#(_ALGNAME_)3DViewClass\n#(_IMPORTS_)\n\n&lt;* FATAL Zeus.Error, Zeus.L&quot;
 &amp; &quot;ocked *&gt;\n(* If you get either of these errors, contact a Zeus implemen&quot;
 &amp; &quot;tor. *)\n\nTYPE\n#{\n  #(_EVENT_)Args = BRANDED REF RECORD\n#{\n    #(_&quot;
 &amp; &quot;ARGNAME_): #(_ARGTYPE_);\n#}\n  END;\n\n#}\n\n(*  Zeus calls the follow&quot;
 &amp; &quot;ing to invoke vbt v\'s event handler: *)\n\nPROCEDURE OEDispatcher(v: Z&quot;
 &amp; &quot;eusClass.T; evt: REFANY) RAISES {Thread.Alerted} =\n  &lt;* LL &lt;= VBT.mu *&quot;
 &amp; &quot;&gt;\n  (* LL = {} if event style is output, LL = VBT.mu if event style is&quot;
 &amp; &quot; update. *)\n  BEGIN\n    TYPECASE v OF\n    | #(_ALGNAME_)ViewClass.T &quot;
 &amp; &quot;(view) =&gt;\n      TYPECASE evt OF\n#{_OUTPUT\n      | #(_EVENT_)Args(var&quot;
 &amp; &quot;#(_EVENT_)Args) =&gt;\n          view.oe#(_EVENT_) (\n#{\n              va&quot;
 &amp; &quot;r#(_EVENT_)Args.#(_ARGNAME_)\n#|\n                ,\n#}\n              &quot;
 &amp; &quot;)\n#}\n#{_UPDATE\n      | #(_EVENT_)Args(var#(_EVENT_)Args) =&gt;\n       &quot;
 &amp; &quot;   view.ue#(_EVENT_) (\n#{\n              var#(_EVENT_)Args.#(_ARGNAME_&quot;
 &amp; &quot;)\n#|\n                ,\n#}\n              )\n#}\n      ELSE &lt;* ASSERT&quot;
 &amp; &quot; FALSE *&gt;\n      END;\n    | #(_ALGNAME_)3DViewClass.T (view) =&gt;\n     &quot;
 &amp; &quot; TYPECASE evt OF\n#{_OUTPUT\n      | #(_EVENT_)Args(var#(_EVENT_)Args) &quot;
 &amp; &quot;=&gt;\n          view.&quot;;

CONST E21_0 =
   &quot;oe#(_EVENT_) (\n#{\n              var#(_EVENT_)Args.#(_ARGNAME_)\n#|\n &quot;
 &amp; &quot;               ,\n#}\n              )\n#}\n#{_UPDATE\n      | #(_EVENT_&quot;
 &amp; &quot;)Args(var#(_EVENT_)Args) =&gt;\n          view.ue#(_EVENT_) (\n#{\n       &quot;
 &amp; &quot;       var#(_EVENT_)Args.#(_ARGNAME_)\n#|\n                ,\n#}\n     &quot;
 &amp; &quot;         )\n#}\n      ELSE &lt;* ASSERT FALSE *&gt;\n      END;\n    ELSE (* &quot;
 &amp; &quot;this view isn\'t a #(_ALGNAME_)3DViewClass or\n            a #(_ALGNAME&quot;
 &amp; &quot;_)3DViewClass, so just ignore *)\n    END\n  END OEDispatcher;\n\nPROCE&quot;
 &amp; &quot;DURE FEDispatcher(v: ZeusClass.T; evt: REFANY) =\n  &lt;* LL = VBT.mu *&gt;\n&quot;
 &amp; &quot;  BEGIN\n    TYPECASE v OF\n    | #(_ALGNAME_)AlgClass.T (alg) =&gt;\n    &quot;
 &amp; &quot;  TYPECASE evt OF\n#{_FEEDBACK\n      | #(_EVENT_)Args(var#(_EVENT_)Arg&quot;
 &amp; &quot;s) =&gt;\n          alg.fe#(_EVENT_) (\n#{\n              var#(_EVENT_)Arg&quot;
 &amp; &quot;s.#(_ARGNAME_)\n#|\n                ,\n#}\n              )\n#}\n      E&quot;
 &amp; &quot;LSE &lt;* ASSERT FALSE *&gt;\n      END;\n    ELSE (* this alg isn\'t a #(_AL&quot;
 &amp; &quot;GNAME_)AlgClass, so just ignore *)\n    END\n  END FEDispatcher;\n\n\n#&quot;
 &amp; &quot;{_OUTPUT\nPROCEDURE #(_EVENT_) (\n      initiator: Algorithm.T;\n      &quot;
 &amp; &quot;#(_ARGSTR_)\n    ) RAISES {Thread.Alerted} =\n  &lt;* LL = {} *&gt;\n  VAR zu&quot;
 &amp; &quot;meArgRec := NEW(#(_EVENT_)Args\n#{\n               , #(_ARGNAME_) := #(&quot;
 &amp; &quot;_ARGNAME_)\n#}\n      );\n      alg := NARROW(initiator, #(_ALGNAME_)Al&quot;
 &amp; &quot;gClass.T);\n  BEGIN\n    LOCK alg.evtMu DO\n      INC(alg.eventDataRec.&quot;
 &amp; &quot;ctOf#(_EVENT_));\n      alg.stopAtEvent := alg.eventDataRec.stopAt#(_EV&quot;
 &amp; &quot;ENT_);\n      alg.waitAtEvent := alg.eventDataRec.waitAt#(_EVENT_);\n  &quot;
 &amp; &quot;    Zeus.Dispatch(initiator, Zeus.EventStyle.Output, #(_EVENTPRIO_),\n &quot;
 &amp; &quot;                   \&quot;#(_EVENT_)\&quot;, OEDispatcher, zumeArgRec);\n    END;&quot;
 &amp; &quot;\n  END #(_EVENT_);\n\n#}\n#{_UPDATE\nPROCEDURE #(_EVENT_) (\n      ini&quot;
 &amp; &quot;tiator: Algorithm.T;\n      #(_ARGSTR_)\n    ) RAISES {Thread.Alerted} &quot;
 &amp; &quot;=\n  &lt;* LL = VBT.mu *&gt;\n  VAR zumeArgRec := NEW(#(_EVENT_)Args\n#{\n   &quot;
 &amp; &quot;            , #(_ARGNAME_) := #(_ARGNAME_)\n#}\n      );\n  BEGIN\n    &quot;
 &amp; &quot;Zeus.Dispatch(initiator, Zeus.EventStyle.Update, #(_EVENTPRIO_),\n     &quot;
 &amp; &quot;             \&quot;#(_EVENT_)\&quot;, OEDispatcher, zumeArgRec);\n  END #(_EVENT&quot;
 &amp; &quot;_);\n\n#}\n\n#{_FEEDBACK\nPROCEDURE #&quot;;

CONST E21_1 =
   &quot;(_EVENT_) (\n      initiator: View.T;\n      #(_ARGSTR_)\n    ) RAISES &quot;
 &amp; &quot;{Thread.Alerted} =\n  &lt;* LL = VBT.mu *&gt;\n  VAR zumeArgRec := NEW(#(_EVE&quot;
 &amp; &quot;NT_)Args\n#{\n               , #(_ARGNAME_) := #(_ARGNAME_)\n#}\n      &quot;
 &amp; &quot;);\n  BEGIN\n    Zeus.Dispatch(initiator, Zeus.EventStyle.Notify, #(_EV&quot;
 &amp; &quot;ENTPRIO_),\n                  \&quot;#(_EVENT_)\&quot;, FEDispatcher, zumeArgRec)&quot;
 &amp; &quot;;\n  END #(_EVENT_);\n\n#}\n\nBEGIN\nEND #(_ALGNAME_)IE.\n&quot;;

CONST E22 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Thu Feb &quot;
 &amp; &quot; 9 08:50:12 PST 1995 by kalsow  *)\n(*      modified on Sun Jun  5 21:5&quot;
 &amp; &quot;8:07 PDT 1994 by mhb     *)\n(*      modified on Wed Feb 17 16:46:35 PS&quot;
 &amp; &quot;T 1993 by johnh   *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\n&lt;* PR&quot;
 &amp; &quot;AGMA LL *&gt;\n\nINTERFACE #(_ALGNAME_)IE;\n\n$Algorithm\n$Thread\n$View\n&quot;
 &amp; &quot;#(_IMPORTS_)\n\n\n(* call the following to generate an event: *)\n\n#{_&quot;
 &amp; &quot;OUTPUT\nPROCEDURE #(_EVENT_) (\n      initiator: Algorithm.T;\n      #(&quot;
 &amp; &quot;_ARGSTR_)\n    ) RAISES {Thread.Alerted};\n    &lt;* LL = {} *&gt;\n\n#}\n#{_&quot;
 &amp; &quot;FEEDBACK\nPROCEDURE #(_EVENT_) (\n      initiator: View.T;\n      #(_AR&quot;
 &amp; &quot;GSTR_)\n    ) RAISES {Thread.Alerted};\n    &lt;* LL = VBT.mu *&gt;\n\n#}\n#{&quot;
 &amp; &quot;_UPDATE\nPROCEDURE #(_EVENT_) (\n      initiator: Algorithm.T;\n      #&quot;
 &amp; &quot;(_ARGSTR_)\n    ) RAISES {Thread.Alerted};\n    &lt;* LL = VBT.mu *&gt;\n\n#}&quot;
 &amp; &quot;\n\nEND #(_ALGNAME_)IE.\n&quot;;

CONST E23 =
   &quot;(* Copyright (C) 1995, Digital Equipment Corporation.       *)\n(* All &quot;
 &amp; &quot;rights reserved.                                     *)\n(* See the fil&quot;
 &amp; &quot;e COPYRIGHT for a full description.           *)\n(*                   &quot;
 &amp; &quot;                                       *)\n(* Last modified on Wed Feb &quot;
 &amp; &quot; 8 15:36:04 PST 1995 by kalsow  *)\n(*      modified on Sat Jul 17 10:5&quot;
 &amp; &quot;5:21 PDT 1993 by mhb     *)\n(*      modified on Wed Feb 17 16:47:18 PS&quot;
 &amp; &quot;T 1993 by johnh   *)\n\n(**********************************************&quot;
 &amp; &quot;***********************\n|*  NOTE: This file is generated automatically&quot;
 &amp; &quot; from the event\n|*        definition file #(_ALGNAME_).evt.\n|********&quot;
 &amp; &quot;*************************************************************)\n\nINTER&quot;
 &amp; &quot;FACE #(_ALGNAME_)#(_VIEWNAME_)ObliqView;\nEND #(_ALGNAME_)#(_VIEWNAME_)&quot;
 &amp; &quot;ObliqView.\n\n&quot;;

BEGIN
END ZoomBundle.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
