<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: obliqrt/src/ObValueNotify.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>obliqrt/src/ObValueNotify.i3</H2></A><HR>
<inInterface>
<PRE></PRE>                            -*- Mode: Modula-3 -*- 
 * 
 * For information about this program, contact Blair MacIntyre            
 * (bm@cs.columbia.edu) or Steven Feiner (feiner@cs.columbia.edu)         
 * at the Computer Science Dept., Columbia University,                    
 * 1214 Amsterdam Ave. Mailstop 0401, New York, NY, 10027.                
 *                                                                        
 * Copyright (C) 1995, 1996 by The Trustees of Columbia University in the 
 * City of New York.  Blair MacIntyre, Computer Science Department.       
 * 
 * Author          : Blair MacIntyre
 * Created On      : Tue Oct 22 15:02:43 1996
 * Last Modified By: Blair MacIntyre
 * Last Modified On: Wed Oct 23 20:14:30 1996
 * Update Count    : 11
 * 
 * $Source: /opt/cvs/cm3/doc/help/gen_html/obliqrt/src/ObValueNotify.i3.html,v $
 * $Date: 2010-04-29 17:19:38 $
 * $Author: wagner $
 * $Revision: 1.5 $
 * 
 * $Log: not supported by cvs2svn $
 * Revision 1.4.2.1  2010-04-15 21:00:15  wagner
 * update generated HTML doc to RC5
 *
 * Revision 1.1.1.1  2001/01/24 21:52:39  wagner
 * import of Critical Mass sources of release 5.1
 *
 * Revision 1.1  1996/11/28 15:48:13  bm
 * New files needed for Obliq*
 *
 * 
 * HISTORY
 

<P><PRE>INTERFACE <interface><A HREF="ObValueNotify.m3.html">ObValueNotify</A></interface>;
IMPORT <A HREF="ObValue.i3.html">ObValue</A>, <A HREF="../../synloc/src/SynLocation.i3.html">SynLocation</A>;

TYPE
  <A HREF="ObValueNotify.m3.html#ValObjCB">ValObjCB</A> &lt;: ObjCBPublic;
  ObjCBPublic = ObValue.ValAnything OBJECT
    obj: ObValue.ValReplObj;
    notifier: ObValue.ValSimpleObj;
  METHODS
    cancel();
  END;

PROCEDURE <A HREF="ObValueNotify.m3.html#New">New</A>(valObj: ObValue.ValReplObj;
              notifyObj: ObValue.ValSimpleObj;
              loc : SynLocation.T := NIL): ObValue.Val
  RAISES {ObValue.Exception};
  (* Create a new callback notification object that causes updates
     arriving for &quot;valObj&quot; to trigger appropriate methods in
     &quot;notifyObj&quot;.

     If a update method &quot;valObj.meth&quot; is called at any replica of
     &quot;valObj&quot;, then
     -&gt; the method &quot;pre`meth&quot; will be called before the update is
        applied locally.
     -&gt; the method &quot;post`meth&quot; will be called after the update is
        applied locally.
     The methods take the argument list &quot;(valObj, arg1, arg2, ...)&quot;
     where &quot;arg1&quot;, &quot;arg2&quot;, etc. are the args to &quot;valObj.meth&quot;.

     If a field &quot;valObj.field&quot; is updated from outside an update
     method at any replica of &quot;valObj&quot;, then
     -&gt; the method &quot;pre`field&quot; will be called before the update is
        applied locally.
     -&gt; the method &quot;post`field&quot; will be called after the update is
        applied locally.
     The methods take the argument list &quot;(valObj, val)&quot;
     where &quot;val&quot; is the value assigned to &quot;valObj.field&quot;.

     If an update method of &quot;valObj&quot; is called from within another
     update method, or a field is assigned from within an update
     method, no callback will be called.

     The various methods of &quot;notifyObj&quot; should return a boolean,
     indicating if the handled the notification.  If the return value
     is false, or the method does not exist, a method &quot;pre`anyChange&quot;
     will be called for the &quot;pre`&quot; methods (and &quot;post`anyChange&quot; will
     be called for the &quot;post`&quot; methods) with the argument list
     &quot;(valObj)&quot;.   This return value of this method is ignored.

     The various methods of &quot;notifyObj&quot; should not raise any
     exceptions.  All exceptions will be ignored.

     The &quot;cancel&quot; method is used to cancel the notification object, in
     the case where the programmer does not wish to wait until an
     unreferenced cancelation object is garbage collected.

  *)

END ObValueNotify.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
