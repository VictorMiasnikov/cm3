<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: test/derived/CalcLexStd.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>test/derived/CalcLexStd.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="CalcLexStd.i3.html">CalcLexStd</A></implements></module>;
</PRE><BLOCKQUOTE><EM> generated by kext </EM></BLOCKQUOTE><PRE>
IMPORT <A HREF="CalcLex.i3.html">CalcLex</A>;
IMPORT <A HREF="../../m3core/src/text/Text.i3.html">Text</A>;

REVEAL
  <A NAME="T">T</A> = Public BRANDED &quot;CalcLexStd&quot; OBJECT
    allocate_DIGIT: Allocator := NIL;
    allocate_LETTER: Allocator := NIL;
  OVERRIDES
    purge := Proc_Purge;
    DIGIT := Proc_DIGIT;
    LETTER := Proc_LETTER;
  END;

PROCEDURE <A NAME="Proc_Purge"><procedure>Proc_Purge</procedure></A>(self: T): INTEGER =
  BEGIN
    RETURN CalcLex.T.purge(self)
      + Purge(self.allocate_DIGIT)
      + Purge(self.allocate_LETTER);
  END Proc_Purge;
</PRE> expression procedures 
<PRE>PROCEDURE <A NAME="Proc_LETTER"><procedure>Proc_LETTER</procedure></A>(self: T): Token =
  BEGIN (* user code *)
   VAR result:LETTER:=NewPT(self.allocate_LETTER,TYPECODE(LETTER));BEGIN BEGIN
    result.val := Text.GetChar(self.getText(),0)
   END;RETURN result;END
  END Proc_LETTER;

PROCEDURE <A NAME="Proc_DIGIT"><procedure>Proc_DIGIT</procedure></A>(self: T): Token =
  BEGIN (* user code *)
   VAR result:DIGIT:=NewPT(self.allocate_DIGIT,TYPECODE(DIGIT));BEGIN BEGIN
    result.val := ORD(Text.GetChar(self.getText(),0)) - ORD('0')
   END;RETURN result;END
  END Proc_DIGIT;

BEGIN
END CalcLexStd.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
