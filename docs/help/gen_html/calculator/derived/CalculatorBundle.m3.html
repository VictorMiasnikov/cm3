<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: calculator/derived/CalculatorBundle.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>calculator/derived/CalculatorBundle.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="CalculatorBundle.i3.html">CalculatorBundle</A></implements></module>;
</PRE><BLOCKQUOTE><EM> Generated by m3bundle; see its manpage. </EM></BLOCKQUOTE><PRE>

IMPORT <A HREF="../../libm3/src/bundleintf/Bundle.i3.html">Bundle</A>, <A HREF="../../libm3/src/bundleintf/BundleRep.i3.html">BundleRep</A>, <A HREF="../../m3core/src/text/Text.i3.html">Text</A>;

TYPE T = Bundle.T OBJECT OVERRIDES
           get      := LookUp;
           getNames := GetNames;
         END;

TYPE Texts = REF ARRAY OF TEXT;

VAR
  bundle: T     := NIL;
  names : Texts := NIL;

PROCEDURE <A NAME="Get"><procedure>Get</procedure></A>(): Bundle.T =
  BEGIN
    IF (bundle = NIL) THEN bundle := NEW (T) END;
    RETURN bundle;
  END Get;

PROCEDURE <A NAME="GetNames"><procedure>GetNames</procedure></A> (&lt;*UNUSED*&gt; self: T): Texts =
  BEGIN
    IF names = NIL THEN
      names := NEW (Texts, NUMBER (Names));
      names^ := Names;
    END;
    RETURN names;
  END GetNames;

PROCEDURE <A NAME="LookUp"><procedure>LookUp</procedure></A> (&lt;*UNUSED*&gt; self: T;  element: TEXT): TEXT =
  BEGIN
    FOR i := 0 TO LAST (Names)-1 DO
      IF Text.Equal (Names[i], element) THEN
        RETURN Elements[i];
      END;
    END;
    RETURN NIL;
  END LookUp;

CONST Names = ARRAY [0..1] OF TEXT {
  &quot;Calculator.fv&quot;,
  NIL
};

CONST Elements = ARRAY [0..1] OF TEXT {
  E0,
  NIL
};

CONST E0 =
   &quot;(Rim (Pen 15)\n  (Macro Key BOA (name text)\n    `(Rim (Pen 1) \n      &quot;
 &amp; &quot; (Shape (Width 20) (Height 20) (Button (Name ,name) (Text ,text)))))\n &quot;
 &amp; &quot; (VBox\n    (Frame Lowered (TypeIn (BgColor \&quot;White\&quot;) %display))\n    &quot;
 &amp; &quot;(Glue 8)\n    (HBox\n      (Font \&quot;vtboldp\&quot;)\n      (VBox\n        (HB&quot;
 &amp; &quot;ox (Key b1 \&quot;1\&quot;) (Key b2 \&quot;2\&quot;) (Key b3 \&quot;3\&quot;))\n        (HBox (Key b4&quot;
 &amp; &quot; \&quot;4\&quot;) (Key b5 \&quot;5\&quot;) (Key b6 \&quot;6\&quot;))\n        (HBox (Key b7 \&quot;7\&quot;) (K&quot;
 &amp; &quot;ey b8 \&quot;8\&quot;) (Key b9 \&quot;9\&quot;))\n        (HBox Fill (Key b0 \&quot;0\&quot;) Fill))\n&quot;
 &amp; &quot;      (Glue 16)\n      (VBox\n        Fill\n        (HBox (Key bAdd \&quot;+&quot;
 &amp; &quot;\&quot;) (Key bSub \&quot;-\&quot;))\n        (HBox (Key bMult \&quot;*\&quot;) (Key bDiv \&quot;/\&quot;)&quot;
 &amp; &quot;)\n        (Glue 8)\n        (Key bEquals \&quot;=\&quot;)\n        Fill))\n     &quot;
 &amp; &quot;(Glue 16)\n     (Guard (Button %quit \&quot;QUIT\&quot;) )\n  ))\n&quot;;

BEGIN
END CalculatorBundle.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
