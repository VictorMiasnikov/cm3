<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: cm3ide/src/misc/LineWr.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>cm3ide/src/misc/LineWr.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright 1996, Critical Mass, Inc.   All rights reserved. 

<P> A <CODE>LineWr.T</CODE>, or line writer, is a writer that passes its
   buffer, a line at a time, to a user supplied procedure.
   Line writers are unbuffered, unseekable, and never raise
   <CODE>Failure</CODE> or <CODE>Alerted</CODE>. 

<P><PRE>INTERFACE <interface><A HREF="LineWr.m3.html">LineWr</A></interface>;

IMPORT <A HREF="../../../libm3/src/rw/Wr.i3.html">Wr</A>, <A HREF="../../../m3core/src/thread/Common/Thread.i3.html">Thread</A>;

TYPE
  <A HREF="LineWr.m3.html#T">T</A> &lt;: Public;
  Public = Wr.T OBJECT METHODS
    init (proc: CallBack;  ref: REFANY): T;
  END;

  CallBack = PROCEDURE (ref: REFANY;  line: TEXT)
               RAISES {Wr.Failure, Thread.Alerted};
</PRE> The call <CODE>wr.init(p,r)</CODE> initializes <CODE>wr</CODE> to be a line writer with
   an empty buffer that will call <CODE>p(r,buf)</CODE> for each line of data
   put into the buffer.  Carriage return and linefeed characters
   will be stripped from the data passed to <CODE>p</CODE>. 

<P><PRE>PROCEDURE <A HREF="LineWr.m3.html#New">New</A> (proc: CallBack;  ref: REFANY): T;
</PRE><BLOCKQUOTE><EM> Equivalent to <CODE>NEW(T).init(proc,ref)</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="LineWr.m3.html#Clear">Clear</A> (t: T);
</PRE><BLOCKQUOTE><EM> == Wr.Flush (t) without raising exceptions </EM></BLOCKQUOTE><PRE>

END LineWr.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
