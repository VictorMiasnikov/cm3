<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: cm3/src/Utils.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>cm3/src/Utils.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1994, Digital Equipment Corporation           
 All rights reserved.                                        
 See the file COPYRIGHT for a full description.              
                                                             
 Last modified on Fri Jan 27 15:42:58 PST 1995 by kalsow     

<P><PRE>INTERFACE <interface><A HREF="#x1">Utils</A></interface>;

IMPORT <A HREF="../../libm3/src/os/Common/File.i3.html">File</A>, <A HREF="../../libm3/src/rw/Wr.i3.html">Wr</A>, <A HREF="Arg.i3.html">Arg</A>, <A HREF="../../m3core/src/thread/Common/Thread.i3.html">Thread</A>;
FROM <A HREF="../../m3core/src/C/Common/Ctypes.i3.html">Ctypes</A> IMPORT const_char_star, int;

PROCEDURE <A HREF="Utils.m3.html#OpenWriter">OpenWriter</A>   (name: TEXT;  fatal: BOOLEAN): Wr.T;
PROCEDURE <A HREF="Utils.m3.html#AppendWriter">AppendWriter</A> (name: TEXT;  fatal: BOOLEAN): Wr.T;
PROCEDURE <A HREF="Utils.m3.html#FlushWriter">FlushWriter</A>  (wr: Wr.T;  name: TEXT);
PROCEDURE <A HREF="Utils.m3.html#CloseWriter">CloseWriter</A>  (wr: Wr.T;  name: TEXT);

PROCEDURE <A HREF="Utils.m3.html#WriteFile">WriteFile</A>    (file: TEXT;  proc: Emitter;  append := FALSE);
TYPE Emitter = PROCEDURE (wr: Wr.T) RAISES {Wr.Failure, Thread.Alerted};

PROCEDURE <A HREF="Utils.m3.html#OpenReader">OpenReader</A>   (name: TEXT;  fatal: BOOLEAN): File.T;
PROCEDURE <A HREF="Utils.m3.html#CloseReader">CloseReader</A>  (rd: File.T;  name: TEXT);
PROCEDURE <A HREF="Utils.m3.html#RewindReader">RewindReader</A> (rd: File.T;  name: TEXT);

PROCEDURE <A HREF="Utils.m3.html#OpenTempFile">OpenTempFile</A> (root: TEXT;  VAR(*OUT*) file: TEXT): Wr.T;
PROCEDURE <A HREF="Utils.m3.html#NoteTempFile">NoteTempFile</A> (name: TEXT);
PROCEDURE <A HREF="Utils.m3.html#RemoveTempFiles">RemoveTempFiles</A> ();

PROCEDURE <A HREF="Utils.m3.html#Remove">Remove</A> (file: TEXT);
PROCEDURE <A HREF="Utils.m3.html#Copy">Copy</A> (old_file, new_file: TEXT);
PROCEDURE <A HREF="Utils.m3.html#CopyText">CopyText</A> (old_file, new_file: TEXT);
PROCEDURE <A HREF="Utils.m3.html#IsEqual">IsEqual</A> (a, b: TEXT): BOOLEAN;
PROCEDURE <A HREF="UtilsPosix.m3.html#SymbolicLinkFile">SymbolicLinkFile</A> (from, to: TEXT);
PROCEDURE <A HREF="UtilsPosix.m3.html#HardLinkFile">HardLinkFile</A> (from, to: TEXT);
PROCEDURE <A HREF="Utils.m3.html#IsFile">IsFile</A> (file: TEXT): BOOLEAN;
PROCEDURE <A HREF="Utils.m3.html#IsDir">IsDir</A> (file: TEXT): BOOLEAN;

PROCEDURE <A HREF="Utils.m3.html#NoteLocalFileTimes">NoteLocalFileTimes</A> ();
PROCEDURE <A HREF="Utils.m3.html#LocalModTime">LocalModTime</A>     (file: TEXT): INTEGER;
PROCEDURE <A HREF="Utils.m3.html#ModificationTime">ModificationTime</A> (file: TEXT): INTEGER;
PROCEDURE <A HREF="Utils.m3.html#NoteModification">NoteModification</A> (file: TEXT): INTEGER;
PROCEDURE <A HREF="Utils.m3.html#NoteNewFile">NoteNewFile</A>      (file: TEXT);

CONST NO_TIME = 0;

PROCEDURE <A HREF="Utils.m3.html#PrepArgs">PrepArgs</A> (program: TEXT;  args: Arg.List): REF ARRAY OF TEXT;
PROCEDURE <A HREF="Utils.m3.html#Execute">Execute</A>  (program: TEXT;  args: Arg.List;
                     stdout: TEXT;  fatal: BOOLEAN): INTEGER;

PROCEDURE <A HREF="Utils.m3.html#MakeRelative">MakeRelative</A> (VAR from: TEXT;  to: TEXT);
PROCEDURE <A HREF="Utils.m3.html#SymbolicOrHardLink">SymbolicOrHardLink</A> (link: PROCEDURE(name1, name2: const_char_star):int; s_for_sym, from, to: TEXT);
</PRE><BLOCKQUOTE><EM>bootstrap hack</EM></BLOCKQUOTE><PRE>
&lt;*EXTERNAL Utils__link*&gt; PROCEDURE link (name1, name2: const_char_star): int;

END Utils.
</PRE>
</inInterface>
<HR>
<A NAME="x1">Utils's implementation  is in:
</A><UL>
<LI><A HREF="Utils.m3.html#0TOP0">cm3/src/Utils.m3</A>
<LI><A HREF="UtilsPosix.m3.html#0TOP0">cm3/src/UtilsPosix.m3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
