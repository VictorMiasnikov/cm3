<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: dcpane/src/TextSubsPaneUpdater.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>dcpane/src/TextSubsPaneUpdater.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright (c) 2000 California Institute of Technology 
 All rights reserved. See the file COPYRIGHT for a full description. 
 $Id: TextSubsPaneUpdater.m3.html,v 1.3 2010-04-29 17:18:09 wagner Exp $ 

<P><PRE>MODULE <module><implements><A HREF="TextSubsPaneUpdater.i3.html">TextSubsPaneUpdater</A></implements></module>;
IMPORT <A HREF="../../cit_util/src/TextSubs.i3.html">TextSubs</A>;
IMPORT <A HREF="../../ui/src/vbt/VBT.i3.html">VBT</A>;
IMPORT <A HREF="../../ui/src/vbt/VBTClass.i3.html">VBTClass</A>;
IMPORT <A HREF="../../paneman/src/Pane.i3.html">Pane</A>;
IMPORT <A HREF="PSReaderPaneVBT.i3.html">PSReaderPaneVBT</A>;

REVEAL
  <A NAME="T">T</A> = Public BRANDED &quot;TextSubsPaneUpdater&quot; OBJECT
    subs: TextSubs.T := NIL;
  OVERRIDES
    init := Init;
    setSubs := SetSubs;
    apply := Apply;
  END;

PROCEDURE <A NAME="Init"><procedure>Init</procedure></A>(self: T): T =
  BEGIN
    RETURN self;
  END Init;

PROCEDURE <A NAME="SetSubs"><procedure>SetSubs</procedure></A>(self: T; subs: TextSubs.T) =
  BEGIN
    self.subs := subs;
  END SetSubs;

PROCEDURE <A NAME="Apply"><procedure>Apply</procedure></A>(self: T; v: VBT.T) =
  VAR
    pane := NARROW(v, Pane.T).pane;
  BEGIN
    TYPECASE pane OF
    | PSReaderPaneVBT.T(ps) =&gt;
      ps.setSubs(self.subs);
    ELSE
    END;
  END Apply;

BEGIN
END TextSubsPaneUpdater.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
