<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: stubgen/src/AstToVal.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>stubgen/src/AstToVal.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright (C) 1991, Digital Equipment Corporation           
 All rights reserved.                                        
 See the file COPYRIGHT for a full description.              

<P><PRE>MODULE <module><implements><A HREF="#x1">AstToVal</A></implements></module>;

IMPORT <A HREF="#x2">AstToType</A>, <A HREF="StubUtils.i3.html">StubUtils</A>, <A HREF="#x3">Value</A>, <A HREF="../../m3tk/src/ast/M3AST_AS.i3.html">M3AST_AS</A>, <A HREF="../../m3tk/src/target/M3CBackEnd_C.i3.html">M3CBackEnd_C</A>;
IMPORT <A HREF="../../m3tk/src/ast/M3AST_SM_F.i3.html">M3AST_SM_F</A>;
IMPORT <A HREF="../../m3core/src/runtime/common/RTTypeSRC.i3.html">RTTypeSRC</A>;

PROCEDURE <A NAME="ProcessExp"><procedure>ProcessExp</procedure></A>(
  &lt;*UNUSED*&gt;h: AstToType.Handle; exp: M3AST_AS.EXP): Value.T =
  BEGIN
    TYPECASE exp.sm_exp_value OF
      |  M3CBackEnd_C.Integer_value (int) =&gt;
           RETURN NEW(Value.Integer, val := int.sm_value)
      |  M3CBackEnd_C.Longint_value (int) =&gt;
           RETURN NEW(Value.Longint, val := int.sm_value)
      |  M3CBackEnd_C.Text_value (txt) =&gt;
           RETURN NEW(Value.Txt, val := txt.sm_value)
      |  M3CBackEnd_C.Real_value (real) =&gt;
           RETURN NEW(Value.Float, val := real.sm_value);
      |  M3CBackEnd_C.LongReal_value (lreal) =&gt;
           RETURN NEW(Value.LongFloat, val := lreal.sm_value);
      |  M3CBackEnd_C.Extended_value (ereal) =&gt;
           RETURN NEW(Value.Extended, val := ereal.sm_value);
      (*
      |  M3CBackEnd_C.Set_constructor_value =&gt;
      |  M3CBackEnd_C.Array_or_record_constructor_value =&gt;
      |  M3CBackEnd_C.Proc_value =&gt;
      *)
      ELSE StubUtils.Die(&quot;AstToVal.ProcessExp: unsupported value: &quot;
                         &amp; RTTypeSRC.TypeName (exp.sm_exp_value));
    END;
    RETURN NIL;
  END ProcessExp;

BEGIN
END AstToVal.
</PRE>
</inModule>
<HR>
<A NAME="x1">interface AstToVal is in:
</A><UL>
<LI><A HREF="../../sharedobjgen/src/AstToVal.i3.html#0TOP0">sharedobjgen/src/AstToVal.i3</A>
<LI><A HREF="AstToVal.i3.html#0TOP0">stubgen/src/AstToVal.i3</A>
</UL>
<P>
<HR>
<A NAME="x2">interface AstToType is in:
</A><UL>
<LI><A HREF="../../sharedobjgen/src/AstToType.i3.html#0TOP0">sharedobjgen/src/AstToType.i3</A>
<LI><A HREF="../../stablegen/src/AstToType.i3.html#0TOP0">stablegen/src/AstToType.i3</A>
<LI><A HREF="AstToType.i3.html#0TOP0">stubgen/src/AstToType.i3</A>
</UL>
<P>
<HR>
<A NAME="x3">interface Value is in:
</A><UL>
<LI><A HREF="../../m3front/src/values/Value.i3.html#0TOP0">m3front/src/values/Value.i3</A>
<LI><A HREF="../../sharedobjgen/src/Value.i3.html#0TOP0">sharedobjgen/src/Value.i3</A>
<LI><A HREF="../../stablegen/src/Value.i3.html#0TOP0">stablegen/src/Value.i3</A>
<LI><A HREF="Value.i3.html#0TOP0">stubgen/src/Value.i3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
