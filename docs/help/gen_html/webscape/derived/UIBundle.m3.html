<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: webscape/derived/UIBundle.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>webscape/derived/UIBundle.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="UIBundle.i3.html">UIBundle</A></implements></module>;
</PRE><BLOCKQUOTE><EM> Generated by m3bundle; see its manpage. </EM></BLOCKQUOTE><PRE>

IMPORT <A HREF="../../libm3/src/bundleintf/Bundle.i3.html">Bundle</A>, <A HREF="../../libm3/src/bundleintf/BundleRep.i3.html">BundleRep</A>, <A HREF="../../m3core/src/text/Text.i3.html">Text</A>;
IMPORT <A HREF="../../m3core/src/thread/Common/Thread.i3.html">Thread</A>, <A HREF="../../libm3/src/rw/Wr.i3.html">Wr</A>, <A HREF="../../libm3/src/rw/TextWr.i3.html">TextWr</A>;

TYPE T = Bundle.T OBJECT OVERRIDES
           get      := LookUp;
           getNames := GetNames;
         END;

TYPE Texts = REF ARRAY OF TEXT;

VAR
  bundle: T     := NIL;
  names : Texts := NIL;

PROCEDURE <A NAME="Get"><procedure>Get</procedure></A>(): Bundle.T =
  BEGIN
    IF (bundle = NIL) THEN bundle := NEW (T) END;
    RETURN bundle;
  END Get;

PROCEDURE <A NAME="GetNames"><procedure>GetNames</procedure></A> (&lt;*UNUSED*&gt; self: T): Texts =
  BEGIN
    IF names = NIL THEN
      names := NEW (Texts, NUMBER (Names));
      names^ := Names;
    END;
    RETURN names;
  END GetNames;

PROCEDURE <A NAME="LookUp"><procedure>LookUp</procedure></A> (&lt;*UNUSED*&gt; self: T;  element: TEXT): TEXT =
  BEGIN
    FOR i := 0 TO LAST (Names)-1 DO
      IF Text.Equal (Names[i], element) THEN
        IF Elements[i] = NIL THEN Elements[i] := GetElt (i) END;
        RETURN Elements[i];
      END;
    END;
    RETURN NIL;
  END LookUp;

CONST Names = ARRAY [0..1] OF TEXT {
  &quot;ui.fv&quot;,
  NIL
};

VAR Elements := ARRAY [0..1] OF TEXT {
  NIL (* E0 .. E0_0 *),
  NIL
};

PROCEDURE <A NAME="GetElt"><procedure>GetElt</procedure></A> (n: INTEGER): TEXT =
  &lt;*FATAL Thread.Alerted, Wr.Failure *&gt;
  VAR wr := TextWr.New ();
  BEGIN
    CASE n OF
    | 0 =&gt;
        Wr.PutText (wr, E0);
        Wr.PutText (wr, E0_0);
    ELSE (*skip*)
    END;
    RETURN TextWr.ToText (wr);
  END GetElt;

CONST E0 =
   &quot;(ZSplit \n  (Font (Family \&quot;helvetica\&quot;) (PointSize 120) (WeightName \&quot;&quot;
 &amp; &quot;Bold\&quot;))\n  (LabelFont (Family \&quot;helvetica\&quot;) (PointSize 120) (WeightNa&quot;
 &amp; &quot;me \&quot;Bold\&quot;))\n  (Macro T BOA (a) `(Shape (Width + 0) ,a))\n  (Macro B &quot;
 &amp; &quot;BOA (name label) `(HBox (Glue 2) (Filter (Button (Name ,name) ,label)))&quot;
 &amp; &quot;)\n  (Macro MB BOA (name label) `(MButton (Name ,name) (Text LeftAlign &quot;
 &amp; &quot;(Margin 14.5) ,label)))\n  (Macro MBC BOA (name label) `(Choice MenuSty&quot;
 &amp; &quot;le CheckMark (Name ,name) (Text LeftAlign ,label)))\n  (Macro MBB BOA (&quot;
 &amp; &quot;name label) `(Boolean MenuStyle CheckMark (Name ,name) (Text LeftAlign &quot;
 &amp; &quot;,label)))\n  (VBox \n    (Glue 4)\n    (HBox \n      (Glue 10)\n      (&quot;
 &amp; &quot;B back \&quot;Back\&quot;)\n      (B forward \&quot;Forward\&quot;)\n      (B home \&quot;Home\&quot;&quot;
 &amp; &quot;)\n      (Glue 10)\n      (B reload \&quot;Reload\&quot;)\n      (B open \&quot;Open..&quot;
 &amp; &quot;.\&quot;)\n      (Glue 10)\n      (B stop \&quot;Stop\&quot;)\n      (Text %pageCounts&quot;
 &amp; &quot; \&quot;a/b\&quot;)\n      (Menu (HBox \&quot;  \&quot; (Pixmap \&quot;menuArrow.pbm\&quot;)(Pixmap \&quot;&quot;
 &amp; &quot;menuArrow.pbm\&quot;)(Pixmap \&quot;menuArrow.pbm\&quot;) \&quot;  \&quot;)\n        (Radio %dis&quot;
 &amp; &quot;playStyle =displayImages (VBox\n          (MBC displayUgly       \&quot;Ugly&quot;
 &amp; &quot; (but fast?) Text\&quot;)\n          (MBC displayNoImages   \&quot;No Images\&quot;)\n&quot;
 &amp; &quot;          (MBC displayImages     \&quot;Images\&quot;)\n          (MBC displayBac&quot;
 &amp; &quot;kground \&quot;Images in background\&quot;)\n          Chisel\n          (MBB use&quot;
 &amp; &quot;Zippers \&quot;Use Zippers\&quot;)\n          Chisel\n          (MB debug \&quot;Debug&quot;
 &amp; &quot;ging stuff\&quot;)\n      )))\n      (Glue 2)  \n      (Guard (B quit \&quot;Quit&quot;
 &amp; &quot;\&quot;))\n      (Glue 10))\n    (Glue 4)\n    (HBox \n      (Glue 5) \n    &quot;
 &amp; &quot;  (T \&quot;Location:  \&quot;)\n      (Frame Lowered (BgColor \&quot;VeryLightGray\&quot;)&quot;
 &amp; &quot; (Filter (TypeIn ExpandOnDemand %url)))\n      (Glue 20))\n    (Glue 4)&quot;
 &amp; &quot;\n    (Bar 2)\n    (Shape (Height + 0) (Text (BgColor \&quot;white\&quot;) %title&quot;
 &amp; &quot; \&quot;???\&quot;))\n    (Bar)\n    (Shape (Width 600 - 300 + Inf) (Height 500 -&quot;
 &amp; &quot; 400 + Inf) (Generic %contents)))\n(ZChassis (Title \&quot;Open Location\&quot;) &quot;
 &amp; &quot;%OpenDlg\n  (Filter Dormant (Rim (Pen 20)\n    (VBox\n      (HBox \n   &quot;
 &amp; &quot;     (T \&quot;Open Location:\&quot;)\n        (Shape (Width 200 + Inf) \n       &quot;
 &amp; &quot;   (Frame Lowered (BgColor \&quot;VeryLightGray\&quot;) (TypeIn ExpandOnDemand %o&quot;
 &amp; &quot;penurl))))\n        (Glue 10)\n        (Chisel)\n      &quot;;

CONST E0_0 =
   &quot;  (Glue 10)\n        (HBox \n          (Border (CloseButton %openopen \&quot;&quot;
 &amp; &quot;Open\&quot;)) \n          Fill Fill \n          (B openclear \&quot;Clear\&quot;) \n  &quot;
 &amp; &quot;        Fill\n          (B openpaste \&quot;Paste\&quot;) \n          Fill Fill \n&quot;
 &amp; &quot;          (CloseButton \&quot;Cancel\&quot;))))))\n)  \n&quot;;

BEGIN
END UIBundle.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
