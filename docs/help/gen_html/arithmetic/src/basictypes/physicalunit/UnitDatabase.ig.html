<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: arithmetic/src/basictypes/physicalunit/UnitDatabase.ig</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>arithmetic/src/basictypes/physicalunit/UnitDatabase.ig</H2></A><HR>
<inInterface>
<PRE>GENERIC INTERFACE <genericInterface><A HREF="UnitDatabase.mg.html">UnitDatabase</A></genericInterface>(R, UU, UUList, CUList);

IMPORT <A HREF="PhysicalUnit.i3.html">PhysicalUnit</A> AS U;

TYPE
  (* A database of units is a list of physical measures where each one
     holds an array of (prefixed)units for different scales *)
  T = RECORD first: UUList.T := NIL;  END;

TYPE
  ScaledUnitFlags = {IsUnit,     (* use this constant for unit output, if
                                    not set, this unit is ignored but could
                                    be used for unit input some day *)
                     Default     (* this is the default scaling *)
                    };
  ScaledUnitFlagSet = SET OF ScaledUnitFlags;

  ScaledUnitInit = RECORD
                     symbol: TEXT;
                     mag   : R.T;
                     flags          := ScaledUnitFlagSet{};
                   END;
  ScaledUnitInitArray = ARRAY OF ScaledUnitInit;
</PRE> scales must be given in increasing order! 
<PRE>PROCEDURE <A HREF="UnitDatabase.mg.html#AddUnit">AddUnit</A>
  (VAR      db    : T;
   READONLY unit  : ARRAY OF U.ExpType;
            flags                         := UU.FlagSet{};
   READONLY scales: ScaledUnitInitArray;                   );

PROCEDURE <A HREF="UnitDatabase.mg.html#DecomposeUnit">DecomposeUnit</A> (READONLY db: T; unit: U.T; ): CUList.T;
PROCEDURE <A HREF="UnitDatabase.mg.html#ComposeUnit">ComposeUnit</A> (cu: CUList.T; ): U.T;

END UnitDatabase.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
