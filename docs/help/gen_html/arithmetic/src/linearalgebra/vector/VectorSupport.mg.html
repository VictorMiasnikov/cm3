<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: arithmetic/src/linearalgebra/vector/VectorSupport.mg</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>arithmetic/src/linearalgebra/vector/VectorSupport.mg</H2></A><HR>
<inModule>
<PRE>GENERIC MODULE <genericModule><A HREF="VectorSupport.ig.html">VectorSupport</A></genericModule>(R);
</PRE><BLOCKQUOTE><EM> Arithmetic for Modula-3, see doc for details </EM></BLOCKQUOTE><PRE>

&lt;* UNUSED *&gt;
CONST
  Module = &quot;VectorSupport.&quot;;

&lt;* INLINE *&gt;
PROCEDURE <A NAME="AssertEqualSize"><procedure>AssertEqualSize</procedure></A> (READONLY x, y: T; ) =
  BEGIN
    &lt;* ASSERT NUMBER(x) = NUMBER(y), &quot;Sizes of vectors must match.&quot; *&gt;
  END AssertEqualSize;

PROCEDURE <A NAME="Clear"><procedure>Clear</procedure></A> (VAR z: T; ) =
  BEGIN
    FOR i := 0 TO LAST(z) DO z[i] := R.Zero; END;
  END Clear;

PROCEDURE <A NAME="Add"><procedure>Add</procedure></A> (VAR z: T; READONLY x, y: T; ) =
  BEGIN
    AssertEqualSize(z, x);
    AssertEqualSize(z, y);
    FOR i := FIRST(z) TO LAST(z) DO z[i] := R.Add(x[i], y[i]); END;
  END Add;

PROCEDURE <A NAME="Sub"><procedure>Sub</procedure></A> (VAR z: T; READONLY x, y: T; ) =
  BEGIN
    AssertEqualSize(z, x);
    AssertEqualSize(z, y);
    FOR i := FIRST(z) TO LAST(z) DO z[i] := R.Sub(x[i], y[i]); END;
  END Sub;

PROCEDURE <A NAME="Neg"><procedure>Neg</procedure></A> (VAR z: T; READONLY x: T; ) =
  BEGIN
    AssertEqualSize(z, x);
    FOR i := FIRST(z) TO LAST(z) DO z[i] := R.Neg(x[i]); END;
  END Neg;

PROCEDURE <A NAME="Scale"><procedure>Scale</procedure></A> (VAR z: T; READONLY x: T; y: R.T; ) =
  BEGIN
    AssertEqualSize(z, x);
    FOR i := FIRST(z) TO LAST(z) DO z[i] := R.Mul(x[i], y); END;
  END Scale;

PROCEDURE <A NAME="Inner"><procedure>Inner</procedure></A> (READONLY x, y: T; ): R.T =
  VAR sum: R.T;
  BEGIN
    AssertEqualSize(x, y);
    sum := R.Zero;
    FOR i := FIRST(x) TO LAST(x) DO
      sum := R.Add(sum, R.Mul(R.Conj(x[i]), y[i]));
    END;
    RETURN sum;
  END Inner;

PROCEDURE <A NAME="Sum"><procedure>Sum</procedure></A> (READONLY x: T; ): R.T =
  VAR sum := R.Zero;
  BEGIN
    FOR i := FIRST(x) TO LAST(x) DO sum := R.Add(sum, x[i]); END;
    RETURN sum;
  END Sum;

BEGIN
END VectorSupport.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
