<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: m3core/src/unix/linux-common/Uresource.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>m3core/src/unix/linux-common/Uresource.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1990, Digital Equipment Corporation.         
 All rights reserved.                                       
 See the file COPYRIGHT for a full description.             

<P><PRE>INTERFACE <interface>Uresource</interface>;

FROM <A HREF="../../C/Common/Ctypes.i3.html">Ctypes</A> IMPORT int, long;
FROM <A HREF="#x1">Utime</A> IMPORT struct_timeval;

CONST
  RUSAGE_SELF = 0;

TYPE
</PRE><BLOCKQUOTE><EM> There is only one use of this.
C:\dev2\cm3.2\m3-libs\m3core\src\runtime\POSIX\RTProcessPosix.m3
PROCEDURE TimeUsed (): REAL =
  VAR
    usage: Uresource.struct_rusage;
    ret := Uresource.getrusage(Uresource.RUSAGE_SELF, usage);
  BEGIN
    &lt;* ASSERT ret = 0 *&gt;
    RETURN TimevalSecs(usage.ru_utime) + TimevalSecs(usage.ru_stime);
  END TimeUsed;
</EM></BLOCKQUOTE><PRE>
  struct_rusage = RECORD
    ru_utime: struct_timeval;
    ru_stime: struct_timeval;
    ru_maxrss : long;
    ru_ixrss : long;
    ru_idrss : long;
    ru_isrss : long;
    ru_minflt : long;
    ru_majflt : long;
    ru_nswap : long;
    ru_inblock : long;
    ru_oublock : long;
    ru_msgsnd : long;
    ru_msgrcv : long;
    ru_nsignals : long;
    ru_nvcsw : long;
    ru_nivcsw : long;
  END;
  struct_rusage_star = UNTRACED REF struct_rusage;

&lt;*EXTERNAL*&gt; PROCEDURE getrusage (who: int; VAR rus: struct_rusage): int;

END Uresource.
</PRE>
</inInterface>
<HR>
<A NAME="x1">interface Utime is in:
</A><UL>
<LI><A HREF="../Common/Utime.i3.html#0TOP0">m3core/src/unix/Common/Utime.i3</A>
<LI><A HREF="Utime.i3.html#0TOP0">m3core/src/unix/linux-common/Utime.i3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
