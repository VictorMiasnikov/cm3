<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: m3core/src/unix/linux-common/Usem.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>m3core/src/unix/linux-common/Usem.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1990, Digital Equipment Corporation.         
 All rights reserved.                                       
 See the file COPYRIGHT for a full description.             

<P><PRE>UNSAFE INTERFACE <interface>Usem</interface>;

FROM <A HREF="../../C/Common/Ctypes.i3.html">Ctypes</A> IMPORT int, unsigned;

TYPE
 (* 32bit: 16 bytes with 32 bit alignment *)
 (* 64bit: 32 bytes with 64 bit alignment *)
 (* which works out to be 4 INTEGERs either way *)
  struct_sem = RECORD
    opaque : ARRAY [0..3] OF INTEGER;
  END;
  sem_t = UNTRACED REF struct_sem;
  sem_t_star = UNTRACED REF sem_t;

&lt;*EXTERNAL sem_init*&gt; PROCEDURE init (VAR sem: sem_t; pshared: int; value: unsigned): int;
&lt;*EXTERNAL sem_wait*&gt; PROCEDURE wait (VAR sem: sem_t): int;
&lt;*EXTERNAL sem_post*&gt; PROCEDURE post (VAR sem: sem_t): int;
&lt;*EXTERNAL sem_getvalue*&gt; PROCEDURE getvalue (VAR sem: sem_t; VAR value: int): int;

END Usem.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
