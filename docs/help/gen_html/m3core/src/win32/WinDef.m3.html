<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: m3core/src/win32/WinDef.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>m3core/src/win32/WinDef.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright (C) 1994, Digital Equipment Corporation         
 All rights reserved.                                      
 See the file COPYRIGHT for a full description.            
                                                           
 by Stephen Harrison                                       
                                                           
 Last modified on Tue Oct  3 11:59:48 PDT 1995 by najork   
      modified on Tue Nov  8 16:21:09 PST 1994 by kalsow   
      modified on Tue May 25 12:01:34 PDT 1993 by harrison 

<P>
 * Here are Modula-3 procedures providing the functionality of C macros.
 

<P><PRE>MODULE <module><implements><A HREF="WinDef.i3.html">WinDef</A></implements></module>;

IMPORT <A HREF="../word/Word.i3.html">Word</A>;
</PRE>*************************************
REVEAL
  HANDLE       = UNTRACED ROOT BRANDED <CODE>HANDLE</CODE> OBJECT END;
  HWND         = HANDLE BRANDED <CODE>HWND</CODE> OBJECT END;
  HHOOK        = HANDLE BRANDED <CODE>HHOOK</CODE> OBJECT END;
  HGDIOBJ      = HANDLE BRANDED <CODE>HGDIOBJ</CODE> OBJECT END;
  HACCEL       = HANDLE BRANDED <CODE>HACCEL</CODE> OBJECT END;
  HBITMAP      = HANDLE BRANDED <CODE>HBITMAP</CODE> OBJECT END;
  HBRUSH       = HGDIOBJ BRANDED <CODE>HBRUSH</CODE> OBJECT END;
  HDC          = HANDLE BRANDED <CODE>HDC</CODE> OBJECT END;
  HGLRC        = HANDLE BRANDED <CODE>HGLRC</CODE> OBJECT END;
  HDESK        = HANDLE BRANDED <CODE>HDESK</CODE> OBJECT END;
  HENHMETAFILE = HANDLE BRANDED <CODE>HENHMETAFILE</CODE> OBJECT END;
  HMF          = HANDLE BRANDED <CODE>HMF</CODE> OBJECT END;
  HEMF         = HANDLE BRANDED <CODE>HEMF</CODE> OBJECT END;
  HFONT        = HGDIOBJ BRANDED <CODE>HFONT</CODE> OBJECT END;
  HICON        = HANDLE BRANDED <CODE>HICON</CODE> OBJECT END;
  HMENU        = HANDLE BRANDED <CODE>HMENU</CODE> OBJECT END;
  HMETAFILE    = HANDLE BRANDED <CODE>HMETAFILE</CODE> OBJECT END;
  HINSTANCE    = HANDLE BRANDED <CODE>HINSTANCE</CODE> OBJECT END;
  HPALETTE     = HANDLE BRANDED <CODE>HPALETTE</CODE> OBJECT END;
  HPEN         = HGDIOBJ BRANDED <CODE>HPEN</CODE> OBJECT END;
  HRGN         = HANDLE BRANDED <CODE>HRGN</CODE> OBJECT END;
  HRSRC        = HANDLE BRANDED <CODE>HRSRC</CODE> OBJECT END;
  HSTR         = HANDLE BRANDED <CODE>HSTR</CODE> OBJECT END;
  HWINSTA      = HANDLE BRANDED <CODE>HWINSTA</CODE> OBJECT END;
  HKL          = HANDLE BRANDED <CODE>HKL</CODE> OBJECT END;
***************************************

<P><PRE>TYPE
  dummy = RECORD unused: INT32; END;

REVEAL
  <A NAME="HWND">HWND</A>         = UNTRACED BRANDED &quot;HWND&quot; REF dummy;
  <A NAME="HHOOK">HHOOK</A>        = UNTRACED BRANDED &quot;HHOOK&quot; REF dummy;
  (** HGDIOBJ      = UNTRACED BRANDED &quot;HGDIOBJ&quot; REF dummy; **)
  <A NAME="HACCEL">HACCEL</A>       = UNTRACED BRANDED &quot;HACCEL&quot; REF dummy;
  <A NAME="HBITMAP">HBITMAP</A>      = UNTRACED BRANDED &quot;HBITMAP&quot; REF dummy;
  <A NAME="HBRUSH">HBRUSH</A>       = UNTRACED BRANDED &quot;HBRUSH&quot; REF dummy;
  <A NAME="HDC">HDC</A>          = UNTRACED BRANDED &quot;HDC&quot; REF dummy;
  <A NAME="HGLRC">HGLRC</A>        = UNTRACED BRANDED &quot;HGLRC&quot; REF dummy;
  <A NAME="HDESK">HDESK</A>        = UNTRACED BRANDED &quot;HDESK&quot; REF dummy;
  <A NAME="HENHMETAFILE">HENHMETAFILE</A> = UNTRACED BRANDED &quot;HENHMETAFILE&quot; REF dummy;
  <A NAME="HMF">HMF</A>          = UNTRACED BRANDED &quot;HMF&quot; REF dummy;
  <A NAME="HEMF">HEMF</A>         = UNTRACED BRANDED &quot;HEMF&quot; REF dummy;
  <A NAME="HFONT">HFONT</A>        = UNTRACED BRANDED &quot;HFONT&quot; REF dummy;
  <A NAME="HICON">HICON</A>        = UNTRACED BRANDED &quot;HICON&quot; REF dummy;
  <A NAME="HMENU">HMENU</A>        = UNTRACED BRANDED &quot;HMENU&quot; REF dummy;
  <A NAME="HMETAFILE">HMETAFILE</A>    = UNTRACED BRANDED &quot;HMETAFILE&quot; REF dummy;
  <A NAME="HINSTANCE">HINSTANCE</A>    = UNTRACED BRANDED &quot;HINSTANCE&quot; REF dummy;
  <A NAME="HPALETTE">HPALETTE</A>     = UNTRACED BRANDED &quot;HPALETTE&quot; REF dummy;
  <A NAME="HPEN">HPEN</A>         = UNTRACED BRANDED &quot;HPEN&quot; REF dummy;
  <A NAME="HRGN">HRGN</A>         = UNTRACED BRANDED &quot;HRGN&quot; REF dummy;
  <A NAME="HRSRC">HRSRC</A>        = UNTRACED BRANDED &quot;HRSRC&quot; REF dummy;
  <A NAME="HSTR">HSTR</A>         = UNTRACED BRANDED &quot;HSTR&quot; REF dummy;
  <A NAME="HWINSTA">HWINSTA</A>      = UNTRACED BRANDED &quot;HWINSTA&quot; REF dummy;
  <A NAME="HKL">HKL</A>          = UNTRACED BRANDED &quot;HKL&quot; REF dummy;

&lt;* INLINE *&gt;
PROCEDURE <A NAME="MAKEWORD"><procedure>MAKEWORD</procedure></A> (a, b: UINT8): UINT16 =
  BEGIN
    RETURN Word.Or(a, Word.Shift(b, 8));
  END MAKEWORD;

&lt;* INLINE *&gt;
PROCEDURE <A NAME="MAKELONG"><procedure>MAKELONG</procedure></A> (a, b: UINT16): INT32 =
  BEGIN
    RETURN Word.Or(a, Word.Shift(b, 16));
  END MAKELONG;

&lt;* INLINE *&gt;
PROCEDURE <A NAME="LOWORD"><procedure>LOWORD</procedure></A> (l: INT32): UINT16 =
  BEGIN
    RETURN Word.And(l, 16_ffff);
  END LOWORD;

&lt;* INLINE *&gt;
PROCEDURE <A NAME="HIWORD"><procedure>HIWORD</procedure></A> (l: INT32): UINT16 =
  BEGIN
    RETURN Word.And(Word.Shift(l, -16), 16_ffff);
  END HIWORD;

&lt;* INLINE *&gt;
PROCEDURE <A NAME="LOBYTE"><procedure>LOBYTE</procedure></A> (w: UINT16): UINT8 =
  BEGIN
    RETURN Word.And(w, 16_ff)
  END LOBYTE;

&lt;* INLINE *&gt;
PROCEDURE <A NAME="HIBYTE"><procedure>HIBYTE</procedure></A> (w: UINT16): UINT8 =
  BEGIN
    RETURN Word.And(Word.Shift(w, -8), 16_ff);
  END HIBYTE;

BEGIN
END WinDef.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
