<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: juno-app/src/ExternalProc.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>juno-app/src/ExternalProc.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1992, Digital Equipment Corporation                         
 All rights reserved.                                                      
 See the file COPYRIGHT for a full description.                            
                                                                           
 Last modified on Wed Jun 21 17:40:54 PDT 1995 by heydon                   

<P><PRE>INTERFACE <interface><A HREF="ExternalProc.m3.html">ExternalProc</A></interface>;
</PRE> Types and procedures for defining Juno modules implemented by external
   procedures. 

<P><PRE>IMPORT <A HREF="#x1">View</A>, <A HREF="../../juno-compiler/src/JunoAST.i3.html">JunoAST</A>, <A HREF="../../juno-compiler/src/JunoScope.i3.html">JunoScope</A>, <A HREF="../../juno-machine/src/JunoRT.i3.html">JunoRT</A>;

TYPE
  Closure = JunoRT.ExternalCode BRANDED &quot;ExternalProc.Closure&quot; OBJECT
    rt: View.Root
  END;
  (* A closure is the object passed to external procedures. *)

PROCEDURE <A HREF="ExternalProc.m3.html#SetupBind">SetupBind</A>(mod: JunoAST.Id; scp: JunoScope.T; rt: View.Root := NIL);
</PRE><BLOCKQUOTE><EM> This module maintains a current root, a current module name, and a current
   scope to be used by the <CODE>Bind</CODE> procedure below. Set the current root to
   <CODE>rt</CODE>, the current module name to <CODE>mod</CODE>, and the current scope to <CODE>scp</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="ExternalProc.m3.html#Bind">Bind</A>(name: JunoAST.Id; cl: Closure; in, out := 0);
</PRE><BLOCKQUOTE><EM> Allocate a slot in the external code table for the procedure named
   <CODE>&lt;mod&gt;.&lt;name&gt;</CODE> (where &lt;mod&gt; is the current module); set <CODE>cl.rt</CODE> to the
   current root; and bind <CODE>name</CODE> to a procedure entity with <CODE>in</CODE> IN
   parameters, 0 INOUT parameters, and <CODE>out</CODE> OUT parameters in the current
   scope. </EM></BLOCKQUOTE><PRE>

END ExternalProc.
</PRE>
</inInterface>
<HR>
<A NAME="x1">interface View is in:
</A><UL>
<LI><A HREF="View.i3.html#0TOP0">juno-app/src/View.i3</A>
<LI><A HREF="../../zeus/src/View.i3.html#0TOP0">zeus/src/View.i3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
