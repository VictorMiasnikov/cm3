<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: mg/src/ShapeUtils.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>mg/src/ShapeUtils.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright (C) 1992, Digital Equipment Corporation                         
 All rights reserved.                                                      
 See the file COPYRIGHT for a full description.                            
                                                                           
 by Stephen Harrison and Steve Glassman 
                                                                           
 Last modified on Fri Aug 19 16:28:26 PDT 1994 by steveg                   
      modified on Sun Jul 19 13:24:57 PDT 1992 by harrison                 

<P><PRE>MODULE <module><implements><A HREF="ShapeUtils.i3.html">ShapeUtils</A></implements></module>;

IMPORT <A HREF="R2Path.i3.html">R2Path</A>, <A HREF="../../libm3/src/arith/POSIX/Math.i3.html">Math</A>, <A HREF="R2.i3.html">R2</A>;

PROCEDURE <A NAME="RegularPolygon"><procedure>RegularPolygon</procedure></A>(sides: CARDINAL := 3; radius := 1.0): R2Path.T =
  VAR
    path := NEW(R2Path.T);
  BEGIN
    path.init();
    FOR i := 1 TO sides DO
      WITH theta = 2.0 * FLOAT(Math.Pi, REAL) * FLOAT(i) / FLOAT(sides),
           x = radius * FLOAT(Math.cos(FLOAT(theta, LONGREAL))),
           y = radius * FLOAT(Math.sin(FLOAT(theta, LONGREAL))),
           p = R2.T{x, y} DO
        IF i = 1 THEN
          path.moveTo(p);
	ELSE
          path.lineTo(p);
	END;
      END;
    END;
    path.close();

    RETURN path;
  END RegularPolygon;

BEGIN
END ShapeUtils.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
