<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: mentor/src/zpaper/ViewFn.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>mentor/src/zpaper/ViewFn.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright 1992 Digital Equipment Corporation.           
 Distributed only by permission.                         
 Last modified on Mon Sep 14 22:38:39 PDT 1992 by mhb        

<P><PRE>MODULE <module><implements><A HREF="ViewFn.i3.html">ViewFn</A></implements></module>;

IMPORT <A HREF="../../../mgkit/src/ChipsVBT.i3.html">ChipsVBT</A>, <A HREF="../../derived/ZPaperViewClass.i3.html">ZPaperViewClass</A>, <A HREF="#x1">View</A>, <A HREF="../../../zeus/src/ZeusPanel.i3.html">ZeusPanel</A>;

REVEAL
  <A NAME="T">T</A> = ZPaperViewClass.T BRANDED OBJECT
        chips: ChipsVBT.T;
      OVERRIDES
        oeInit   := Init;
        oeSet    := Set;
      END;

PROCEDURE <A NAME="SetChipsVBT"><procedure>SetChipsVBT</procedure></A> (view: T; chips: ChipsVBT.T) =
  BEGIN
    view.chips := chips
  END SetChipsVBT;

PROCEDURE <A NAME="Init"><procedure>Init</procedure></A> (view: T; N, k: INTEGER) =
  BEGIN
    ChipsVBT.Reset(view.chips, N, N, k);
  END Init;

PROCEDURE <A NAME="Set"><procedure>Set</procedure></A> (view: T; x, y, val: INTEGER) =
  BEGIN
    ChipsVBT.Set(view.chips, x, y, 1 + val)
  END Set;

PROCEDURE <A NAME="New"><procedure>New</procedure></A> (): View.T =
  VAR c := NEW(ChipsVBT.T).init();
  BEGIN
    RETURN NEW(T, chips := c).init(c)
  END New;

BEGIN
  ZeusPanel.RegisterView (New, &quot;Panel&quot;, &quot;ZPaper&quot;);
END ViewFn.
</PRE>
</inModule>
<HR>
<A NAME="x1">interface View is in:
</A><UL>
<LI><A HREF="../../../juno-app/src/View.i3.html#0TOP0">juno-app/src/View.i3</A>
<LI><A HREF="../../../zeus/src/View.i3.html#0TOP0">zeus/src/View.i3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
