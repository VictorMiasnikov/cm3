<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: mentor/src/dgraph/DepthToColor.m3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>mentor/src/dgraph/DepthToColor.m3</H2></A><HR>
<inModule>
<PRE></PRE> Copyright (C) 1994, Digital Equipment Corporation           
 All rights reserved.                                        
 See the file COPYRIGHT for a full description.              

<P><PRE>MODULE <module><implements><A HREF="DepthToColor.i3.html">DepthToColor</A></implements></module>;

IMPORT <A HREF="../../../vbtkit/src/color/Color.i3.html">Color</A>, <A HREF="../../../ui/src/vbt/PaintOp.i3.html">PaintOp</A>, <A HREF="../../../vbtkit/src/color/ColorName.i3.html">ColorName</A>;

CONST
  TextStack = ARRAY OF TEXT{&quot;LightRed&quot;, &quot;Green&quot;, &quot;LightBlue&quot;, &quot;Yellow&quot;};

PROCEDURE <A NAME="Map"><procedure>Map</procedure></A> (depth: INTEGER): PaintOp.T =
  &lt;* FATAL ColorName.NotFound *&gt;
  VAR
    rgb: Color.T;
  BEGIN
    IF depth &lt; 0 THEN
      RETURN PaintOp.Fg
    ELSE
      rgb := ColorName.ToRGB(TextStack[depth]);
      RETURN PaintOp.FromRGB(rgb.r, rgb.g, rgb.b);
      (*
            VAR rgb := RGB.T{0.0, 0.0, 0.0};
                div := depth DIV 3;
                mod := depth MOD 3;
            BEGIN
              rgb[mod] := 1.0;
              IF div &lt;= 9 THEN rgb[(mod+1) MOD 3] := FLOAT(div)/10.0;
              ELSIF div &lt; 19 THEN rgb[(mod+2) MOD 3] := FLOAT(div-10)/10.0;
              END;
              RETURN PaintOpCache.FromRGB(rgb);
            END;
      *)
    END;
  END Map;

BEGIN
END DepthToColor.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
