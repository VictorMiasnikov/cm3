<HTML>
<HEAD>
<TITLE>Critical Mass Modula-3: m3quake/src/M3Path.i3</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME="0TOP0">
<H2>m3quake/src/M3Path.i3</H2></A><HR>
<inInterface>
<PRE></PRE> Copyright (C) 1994, Digital Equipment Corporation           
 All rights reserved.                                        
 See the file COPYRIGHT for a full description.              
                                                             
 Last modified on Mon Jul 18 13:11:25 PDT 1994 by kalsow     

<P><PRE>INTERFACE <interface><A HREF="#x1">M3Path</A></interface>;

TYPE
  T = RECORD
    dir  : TEXT;
    base : TEXT;
    kind : Kind;
  END;

VAR (* possibly changed at initialization and then CONST *)
  SlashText := &quot;/&quot;;

TYPE
  Kind = { Unknown, I3, IC, IS, IO, M3, MC, MS, MO,
           IG, MG, C, H, S, O, M3LIB, LIB, LIBX, PGM, PGMX, TMPL };

  OSKind = { Unix, GrumpyUnix, Win32 };

CONST
  OSKindStrings = ARRAY OSKind OF TEXT
  { &quot;Unix&quot;,
    &quot;GrumpyUnix&quot;,
    &quot;Win32&quot; };

PROCEDURE <A HREF="#x2">SetOS</A> (os: OSKind;  host: BOOLEAN);
</PRE><BLOCKQUOTE><EM> Set the conventions for the specifed platform </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x3">New</A> (a, b, c, d: TEXT := NIL): TEXT;
</PRE><BLOCKQUOTE><EM> Return <CODE>a/b/c/d</CODE> using the host naming conventions </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x4">Join</A> (dir, base: TEXT;  k: Kind): TEXT;
</PRE><BLOCKQUOTE><EM> Build and return the full path name. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x5">Parse</A> (nm: TEXT): T;
</PRE><BLOCKQUOTE><EM> Parse 'nm' into its pieces using the target platform's conventions. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x6">DefaultProgram</A> (): TEXT;
</PRE><BLOCKQUOTE><EM> Return the default program name for the target platform. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x7">ProgramName</A> (base: TEXT): TEXT;
</PRE><BLOCKQUOTE><EM> Return <CODE>base</CODE> as a program name on the target platform. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x8">LibraryName</A> (base: TEXT): TEXT;
</PRE><BLOCKQUOTE><EM> Return <CODE>base</CODE> as a library name on the target platform. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x9">Convert</A> (nm: TEXT): TEXT;
</PRE><BLOCKQUOTE><EM> Return 'nm' with and backslashes changed to forward slashes. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x10">IsEqual</A> (a, b: TEXT): BOOLEAN;
</PRE><BLOCKQUOTE><EM> Return <CODE>TRUE</CODE> if <CODE>a</CODE> and <CODE>b</CODE> name the same path on
   the host operating system. (i.e. ignore case on Win32) </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x11">MakeRelative</A> (VAR path: TEXT;  full, rel: TEXT): BOOLEAN;
</PRE><BLOCKQUOTE><EM> If <CODE>full</CODE> is a prefix of <CODE>path</CODE>, replace <CODE>full</CODE> with <CODE>rel</CODE> and
   return <CODE>TRUE</CODE>.  Otherwise, return <CODE>FALSE</CODE>. </EM></BLOCKQUOTE><PRE>

PROCEDURE <A HREF="#x12">FixPath</A> (VAR p: ARRAY OF CHAR): TEXT;
</PRE><BLOCKQUOTE><EM> exposed only for testing </EM></BLOCKQUOTE><PRE>

END M3Path.
</PRE>
</inInterface>
<HR>
<A NAME="x1">M3Path's implementation  is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#0TOP0">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#0TOP0">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x2">procedure M3Path.SetOS is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#SetOS">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#SetOS">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x3">procedure M3Path.New is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#New">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#New">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x4">procedure M3Path.Join is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#Join">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#Join">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x5">procedure M3Path.Parse is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#Parse">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#Parse">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x6">procedure M3Path.DefaultProgram is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#DefaultProgram">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#DefaultProgram">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x7">procedure M3Path.ProgramName is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#ProgramName">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#ProgramName">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x8">procedure M3Path.LibraryName is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#LibraryName">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#LibraryName">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x9">procedure M3Path.Convert is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#Convert">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#Convert">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x10">procedure M3Path.IsEqual is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#IsEqual">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#IsEqual">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x11">procedure M3Path.MakeRelative is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#MakeRelative">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#MakeRelative">m3quake/src/M3Path.m3</A>
</UL>
<P>
<HR>
<A NAME="x12">procedure M3Path.FixPath is in:
</A><UL>
<LI><A HREF="../../cm3/src/M3Path.m3.html#FixPath">cm3/src/M3Path.m3</A>
<LI><A HREF="M3Path.m3.html#FixPath">m3quake/src/M3Path.m3</A>
</UL>
<P>
<PRE>























</PRE>
</BODY>
</HTML>
