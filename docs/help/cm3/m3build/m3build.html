<html>
<head>
   <title>Building Programs</title>
   <meta name="GENERATOR" content="Mozilla/2.0GoldB2 (Win32)">
<LINK HREF="../../../../normal.css" REL="stylesheet" TYPE="text/css"></head>
<body>

<h2>Building Programs</h2>

<p>To build programs, simply type <tt>cm3</tt> at the command line,
which is actually a short-hand for "<tt>cm3 -build</tt>". If you have
an "m3makefile" (a Modula-3 makefile) then it is used to build your
program. Otherwise, <tt>cm3</tt> makes a best effort to figure out
what you are trying to do, and will attempt to build a program out of
Modula-3 files in your directory. For simple programs, you should not
need to write an m3makefile, though we always recommend that you do
write one, because every small program turns into a big program if it
is useful.

<p>Modula-3 makefiles (called "m3makefiles") typically use a set of
predefined <a href="../quake.html">quake</a> functions that make it
easy to construct Modula-3 programs. Together with the cm3 compiler,
these predefined functions replace &quot;make&quot;.</p>

<p>When started, cm3 looks for a file named <tt><a href="m3makefile.html">m3makefile</a></tt>.
This file describes what goes into a particular piece of the system, but
not how to construct it. The operational aspects of the system are confined
to the cm3.cfg file which resides in the same directory as the cm3 compiler.
The users are expected to arrange systems in <a href="../packages.html">packages</a>.
When you invoke cm3 from the root directory of a package, it will look
for an <tt><a href="m3makefile.html">m3makefile</a></tt> in the <tt>src</tt>
sub-directory, or the current directory, or a sibling <tt>src </tt>directory
and try to execute it. </p>

<p>The rest of this section assumes that you are familiar with the building
process. If you are a novice, you may consider reviewing the 
<a href="../../../tutorial/index.html">Introductory Reference and Tutorial</a>.
        </p>

<p>The procedures available in all <tt><a href="m3makefile.html">m3makefile</a></tt>s
fit into the following categories: </p>

<ul>
<li><a href="sources.html">specifying sources</a> </li>

<li><a href="imports.html">importing packages</a> </li>

<li><a href="progs.html">building programs and libraries</a> </li>

<li><a href="m3options.html">changing compiler options</a> </li>

<li><a href="overrides.html">overriding package locations</a> </li>

<li><a href="foreign.html">importing foreign object files and libraries</a>
</li>

<li><a href="exports.html">exporting other files</a> </li>

<li><a href="hiding.html">explicitly setting interface visibility</a> </li>

<li><a href="machine.html">machine and operating system dependencies</a>
</li>

<li><a href="misc.html">misc. builtins</a> </li>
</ul>

<p>The more specialized procedures are: </p>

<ul>
<li><a href="emacs.html">emacs support</a> </li>

<li><a href="generics.html">generic lists, queues, tables, ...</a> </li>

<li><a href="manpage.html">man pages</a> </li>

<li><a href="netobj.html">network objects</a> </li>

<li><a href="resources.html">resources: arbitrary binary data</a> </li>
</ul>

<p>
Not everything is controlled by the m3makefiles, though; the
</p>
<ul>
<li><A HREF="options.html">cm3 command line options</A>
</ul>
<p>
define and change mode and behaviour of the compiler.
</body>
</html>
